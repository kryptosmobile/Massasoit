{
  "version": 912,
  "tenantid": "Massasoit",
  "mobappid": 200,
  "appName": "MyMassasoit",
  "appDisplayName": "MyMassasoit",
  "homeScreenTemplate": "<ul id=\"home-list\">{{#apps}}\r\n  <li style=\"float:left;padding:5px;list-style:none;\">\r\n    <div>\r\n      <a href=\"#\" onClick='MyCampusMobile.appManager.openApp(\"{{id}}\");' data-transition=\"slide\">\r\n        <img src=\"./images/educause/{{logo}}.png\" style=\"width:60px;height:60px;\" />\r\n      <\/a>\r\n    <\/div>\r\n    <div style=\"color:#FFFFFF;text-align:center;text-shadow:none;\">{{name}}<\/div>\r\n  <\/li>{{/apps}}\r\n<\/ul>\r\n<script>\r\nvar onBackKeyDown = function(event) {\r\n\r\n          alert(window.location.hash);\r\n          var loc = window.location;\r\n          if (loc.hash == \"#/app/Menu82/Menu82\") {\r\n            exitApp();\r\n          } else if (loc.hash == \"#/app/Settings2/Settings2\") {\r\n            window.location.href = '#/app/Menu82/Menu82';\r\n          } else if (loc.hash == \"#/app/SignIn279/SignIn279\") {\r\n            window.location.href = '#/app/Menu82/Menu82';\r\n          } else if (loc.hash == \"#/app/SignIn279/SignIn279\" && !$.jStorage.get('tenantInfo').guestApp && MyCampusApp.rootScope.standaloneApp) {\r\n            exitApp();\r\n          } else if (loc.hash == \"#/app/SignIn279/SignIn279\" && !$.jStorage.get('tenantInfo').guestApp && !MyCampusApp.rootScope.standaloneApp) {\r\n            switchApp();\r\n          } else {\r\n            navigator.app.backHistory();\r\n          }\r\n\r\n        }\r\n      }\r\n        document.addEventListener(\"backbutton\", onBackKeyDown, true);\r\n<\/script>",
  "middlewareServerUrl": "https://kryptosda.kryptosmobile.com/kmwda1massasoit",
  "feedbackEmail": "mymassasoit@massasoit.edu",
  "backgroundurl": "Massasoit/background.png",
  "brandingurl": "Massasoit/branding.png",
  "customStyle": "a:active { opacity: 1; !important }\r\n#loginbranding {\r\n width:auto !important;\r\n margin:10px 0px;\r\n}\r\n#branding {\r\n  position:absolute !important;\r\n  bottom:35px !important;\r\n  left:0px;\r\n  right:0px;\r\n  width:40% !important;\r\n  margin:auto !important;\r\n}\r\nbody {\r\n   position:absolute;\r\n   width:100%;\r\n   height:100%;\r\n   background-size:100% 100% !important;\r\n}\r\n.icon {\r\n   width:57px !important;\r\n   height:57px !important;\r\nmargin-top: 50px;\r\n    margin-bottom: 0px;\r\n    margin-right: 0px;\r\n    margin-left: 0px;\r\npadding: 5px;\r\n\r\n  \r\n}\r\n#homedata .campuseai-Info {\r\n  color:white;\r\n  width:56px !important;\r\n  height:75px !important;\r\nmargin-top: -10px;\r\n    margin-bottom: 0px;\r\n    margin-right: 0px;\r\n    margin-left: 0px;\r\npadding: 0px;\r\n}\r\n.dockicon:after {\r\n   bottom:0px !important;\r\n}\r\n\r\n.dockicon {\r\n   margin-bottom:25px !important;\r\n}\r\n\r\n.blockUI i{\r\n   color:white !important;\r\n}\r\n\r\n\r\n\r\n.app-body {\r\n   padding-bottom:18px !important;\r\n}\r\n\r\n/* I adjusted this now */\r\n.navbar-app, .sidebar, .appgroup {\r\n  background:#d5e04d; !important;\r\n  box-shadow:0px 0px 0px #fff;\r\n  color:#002b5c;\r\n}\r\n\r\n/* I added this \r\n\r\n.btn {\r\nvisibility: hidden;\r\n}\r\n\r\n*/\r\n\r\n\r\n.navbar-app .btn {\r\n  color:#002b5c !important;\r\n}\r\n\r\n\r\n#mainSidebar .list-group-item {\r\n  /*background-color:#C8CFE1;*/\r\n  background-color:#01539c;\r\n  color:#fff;\r\n  border-color:#fff !important;\r\n}\r\n.promptumenu_nav a.active {\r\n   background:#083c69;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n\r\n.promptumenu_nav a {\r\n  background:#fff;\r\n   border-radius:50%;\r\n   width:10px;\r\n   height:10px;\r\n}\r\n.promptumenu_window {\r\n   overflow:visible !important; \r\n}\r\n\r\n.promptumenu_nav {\r\nmargin-bottom:-45px;\r\n}\r\n\r\n.app-body {\r\n   padding-bottom:19px !important;\r\n}\r\n\r\n.blockUI {\r\n  margin:auto !important;\r\n  left:0px  !important;\r\n  right:0px !important;\r\n  width:auto !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  width:76px !important;\r\n  margin-left:-10px;\r\n}\r\n\r\n@media (min-width : 320px) and (max-width : 480px) { \r\n   .icon { width:56px !important;\r\n     height:56px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n     width:76px !important;\r\n     font-size:12px;\r\n     margin-left:-10px;\r\n   }\r\n}\r\n\r\n@media (min-width : 320px) and (max-width : 568px) { \r\n   .icon { width:75px !important;\r\n\t   height:75px !important;\r\n   }\r\n   #homedata .campuseai-Info {\r\n     width:96px !important;\r\n     font-size:12px;\r\n     margin-top:2px;\r\n     margin-left:-10px;\r\n     margin-right:-10px;\r\n     /*margin-left:-10px;*/\r\n   }\r\n}\r\n\r\n@media screen and (device-width: 360px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 3) { \r\n   #homedata .campuseai-Info {\r\n     width:76px !important;\r\n     font-size:12px;\r\n     margin-left:-10px;\r\n   }\r\n}\r\n\r\n@media (min-width: 768px) { \r\n   #branding {\r\n      width:30% !important;\r\n      margin:auto;    \r\n   }\r\n   .icon {\r\n      width:102px !important;\r\n      height:102px !important;\r\n     \r\n\r\n}\r\n#homedata .campuseai-Info {\r\n   color:white;\r\n  width:120px !important;\r\n  margin-left: -10px;\r\nmargin-right: -10px;\r\nmargin-top:0;\r\n\r\n    \r\n}\r\n\r\n}\r\n\r\n\r\n#mainSidebar .list-group-item {\r\n  font-size: 12px !important;\r\nborder-bottom: 1px solid #aaa !important;\r\n}\r\n\r\n.initcap:first-letter {\r\n    text-transform: uppercase;\r\n}\r\n\r\n@media all and (orientation:landscape) {  \r\n   #branding {\r\n    width:30% !important;\r\n  }\r\n#devicebranding,#aboutbranding,#settingsbranding{\r\nmargin: 15px 0;\r\nwidth:30% !important;\r\n}\r\n\r\n.promptumenu_nav {\r\nmargin-bottom:-30px !important;\r\n}\r\n}\r\n\r\n.panel-primary {\r\n    border: 1px solid #09b2d9 !important;\r\n    border-radius: 5px !important;\r\n    box-shadow: 0px 2px 2px -2px #FF007F !important;\r\n}\r\n\r\n.panel-heading {\r\n  background: #09b2d9 !important; /* Old browsers */\r\n  background: -moz-linear-gradient(left,  #09b2d9 0%, #03d5d4 100%) !important; /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right top, color-stop(0%,#09b2d9), color-stop(100%,#03d5d4)) !important; /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* IE10+ */\r\n  background: linear-gradient(to right,  #09b2d9 0%,#03d5d4 100%) !important; /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#09b2d9', endColorstr='#03d5d4',GradientType=1 ) !important; /* IE6-9 */\r\n  box-shadow:0 0 10px #fff;\r\n  padding:10px;\r\n}\r\n\r\n\r\n.panel-primary > .panel-heading {\r\n  border-top-left-radius:5px !important;\r\n  border-top-right-radius:5px !important; \r\n}\r\n\r\n.panel-primary > .panel-heading {\r\n  border-style: none !important;\r\n}\r\n\r\n\r\n.panel-primary > .panel-body {\r\n  border-radius: 5px !important;\r\n  padding: 0px;\r\n}\r\n\r\n\r\n.panel-primary > .panel-heading > .panel-title {\r\n   font-size: 14px !important;\r\n   font-style: italic !important;\r\n}\r\n\r\n.panel-subgroup-link {\r\n  border-top: 1px solid #71B0BF !important;\r\n  border-bottom: 1px solid #71B0BF !important;\r\n  background: rgb(195,239,242) !important; /* Old browsers */\r\n  background: -moz-linear-gradient(left,  rgba(195,239,242,1) 0%, rgba(230,248,250,1) 40%, rgba(195,239,242,1) 100%) !important; /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right top, color-stop(0%,rgba(195,239,242,1)), color-stop(40%,rgba(230,248,250,1)), color-stop(100%,rgba(195,239,242,1))) !important; /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(left,  rgba(195,239,242,1) 0%,rgba(230,248,250,1) 40%,rgba(195,239,242,1) 100%) !important; /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(left,  rgba(195,239,242,1) 0%,rgba(230,248,250,1) 40%,rgba(195,239,242,1) 100%) !important; /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(left,  rgba(195,239,242,1) 0%,rgba(230,248,250,1) 40%,rgba(195,239,242,1) 100%) !important; /* IE10+ */\r\n  background: linear-gradient(to right,  rgba(195,239,242,1) 0%,rgba(230,248,250,1) 40%,rgba(195,239,242,1) 100%) !important; /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#c3eff2', endColorstr='#c3eff2',GradientType=1 ) !important; /* IE6-9 */\r\n\r\n  \r\n  color: #71B0BF !important;\r\n  font-weight: bold !important;  \r\n}\r\n\r\nselect {\r\n   min-height:30px !important;\r\n   border-radius:5px !important;\r\n}\r\n\r\n.panel-inverse {\r\n    border: none !important;\r\n    border-radius: 0px !important;\r\n}\r\n\r\n.panel-heading-inverse {\r\n  background: #1C578F !important; \r\n  /*border: 1px solid #164C88 !important;*/\r\n  border-radius: 0px !important; \r\n  border-bottom: 1px solid #164C88 !important;   \r\n}\r\n\r\n.panel-inverse > .panel-heading-inverse {\r\n  border-top-left-radius: 0px !important;\r\n  border-top-right-radius: 0px !important; \r\n}\r\n\r\n.panel-inverse > .panel-heading-inverse > select {\r\n  background: #4AB4E8 !important;\r\n  border: 1px solid #46BBE7 !important;\r\n  color: #fff !important;  \r\n}\r\n\r\n.btn-primary {\r\n  background: rgb(61,170,229) !important; /* Old browsers */\r\n  background: -moz-radial-gradient(center, ellipse cover,  rgba(61,170,229,1) 0%, rgba(12,180,216,1) 24%, rgba(76,180,233,1) 50%, rgba(76,180,233,1) 79%, rgba(76,180,233,1) 100%) !important; /* FF3.6+ */\r\n  background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(61,170,229,1)), color-stop(24%,rgba(12,180,216,1)), color-stop(50%,rgba(76,180,233,1)), color-stop(79%,rgba(76,180,233,1)), color-stop(100%,rgba(76,180,233,1))) !important; /* Chrome,Safari4+ */\r\n  background: -webkit-radial-gradient(center, ellipse cover,  rgba(61,170,229,1) 0%,rgba(12,180,216,1) 24%,rgba(76,180,233,1) 50%,rgba(76,180,233,1) 79%,rgba(76,180,233,1) 100%) !important; /* Chrome10+,Safari5.1+ */\r\n  background: -o-radial-gradient(center, ellipse cover,  rgba(61,170,229,1) 0%,rgba(12,180,216,1) 24%,rgba(76,180,233,1) 50%,rgba(76,180,233,1) 79%,rgba(76,180,233,1) 100%) !important; /* Opera 12+ */\r\n  background: -ms-radial-gradient(center, ellipse cover,  rgba(61,170,229,1) 0%,rgba(12,180,216,1) 24%,rgba(76,180,233,1) 50%,rgba(76,180,233,1) 79%,rgba(76,180,233,1) 100%) !important; /* IE10+ */\r\n  background: radial-gradient(ellipse at center,  rgba(61,170,229,1) 0%,rgba(12,180,216,1) 24%,rgba(76,180,233,1) 50%,rgba(76,180,233,1) 79%,rgba(76,180,233,1) 100%) !important; /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#3daae5', endColorstr='#4cb4e9',GradientType=1 ) !important; /* IE6-9 fallback on horizontal gradient */\r\n\r\n  border:1px solid #52C2EF !important;\r\n  font-weight: bold;\r\n}\r\n\r\n.class-lookup-available {\r\n   background: #C3EFF2 !important;\r\n\r\n}\r\n\r\n.registration-lookup-available {\r\n   background: #C3EFF2 !important;\r\n\r\n}\r\n\r\n.registration-page {\r\n  background: rgb(255,255,255); /* Old browsers */\r\n  background: -moz-linear-gradient(-45deg,  rgba(255,255,255,1) 0%, rgba(242,247,247,1) 16%, rgba(242,247,247,1) 81%, rgba(255,255,255,1) 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(16%,rgba(242,247,247,1)), color-stop(81%,rgba(242,247,247,1)), color-stop(100%,rgba(255,255,255,1))); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* IE10+ */\r\n  background: linear-gradient(135deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\r\n}\r\n\r\n.badge-circle {\r\n  height:30px;\r\n  width:30px;\r\n  border-radius: 30px;\r\n  padding-top: 8px;\r\n}\r\n\r\n.badge-special {\r\n  background: #D16AA4;\r\n  color: #fff;\r\n}\r\n\r\n.badge-message {\r\n  background: #09b2d9; /* Old browsers */\r\n  background: -moz-linear-gradient(left,  #09b2d9 0%, #03d5d4 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right top, color-stop(0%,#09b2d9), color-stop(100%,#03d5d4)); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%); /* IE10+ */\r\n  background: linear-gradient(to right,  #09b2d9 0%,#03d5d4 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#09b2d9', endColorstr='#03d5d4',GradientType=1 ); /* IE6-9 */\r\n  box-shadow:0 0 10px #fff;  \r\n  color: #fff;\r\n}\r\n\r\n.col-text-center {\r\n  text-align: center;\r\n  text-align: -webkit-center;  \r\n}\r\n\r\n.list-group {\r\n  margin-bottom: 0px;\r\n}\r\n\r\n.list-group-heading-text-font {\r\n  font-family: \"Trebuchet MS\", Helvetica, sans-serif !important; \r\n  font-size:1.3em; \r\n  overflow:hidden; \r\n  white-space: nowrap; \r\n  text-overflow: ellipsis; \r\n  color: #fff !important;\r\n}\r\n\r\n.list-group-text-font {\r\n  font-family: \"Trebuchet MS\", Helvetica, sans-serif !important; \r\n  font-size:1.3em; \r\n  overflow:hidden; \r\n  white-space: nowrap; \r\n  text-overflow: ellipsis; \r\n}\r\n\r\n\r\n.custom-list-group {\r\n  border: 1px solid #09b2d9 !important;\r\n  margin-top: 4px;\r\n  margin-bottom:4px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.custom-list-group-anchor {\r\n  background: #09b2d9 !important; /* Old browsers */\r\n  background: -moz-linear-gradient(left,  #09b2d9 0%, #03d5d4 100%) !important; /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right top, color-stop(0%,#09b2d9), color-stop(100%,#03d5d4)) !important; /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(left,  #09b2d9 0%,#03d5d4 100%) !important; /* IE10+ */\r\n  background: linear-gradient(to right,  #09b2d9 0%,#03d5d4 100%) !important; /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#09b2d9', endColorstr='#03d5d4',GradientType=1 ) !important; /* IE6-9 */\r\n  /*box-shadow:0 0 10px #fff;*/\r\n\r\n  color: #fff !important;\r\n  border: none !important;\r\n  margin: 0px !important;\r\n  padding: 10px 25px 15px 25px;\r\n  pointer-events:none;\r\n  cursor: default;\r\n}\r\n\r\n.list-group-item {\r\n  background: rgb(255,255,255); /* Old browsers */\r\n  background: -moz-linear-gradient(-45deg,  rgba(255,255,255,1) 0%, rgba(242,247,247,1) 16%, rgba(242,247,247,1) 81%, rgba(255,255,255,1) 100%); /* FF3.6+ */\r\n  background: -webkit-gradient(linear, left top, right bottom, color-stop(0%,rgba(255,255,255,1)), color-stop(16%,rgba(242,247,247,1)), color-stop(81%,rgba(242,247,247,1)), color-stop(100%,rgba(255,255,255,1))); /* Chrome,Safari4+ */\r\n  background: -webkit-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Chrome10+,Safari5.1+ */\r\n  background: -o-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* Opera 11.10+ */\r\n  background: -ms-linear-gradient(-45deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* IE10+ */\r\n  background: linear-gradient(135deg,  rgba(255,255,255,1) 0%,rgba(242,247,247,1) 16%,rgba(242,247,247,1) 81%,rgba(255,255,255,1) 100%); /* W3C */\r\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#ffffff', endColorstr='#ffffff',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n}\r\n\r\n.list-group-item.userProfile{\r\ndisplay:none;\r\n}\r\n\r\ndiv.backButtonArrow div[aria-label=\"Login\"]:after{\r\ncontent: \"Login\";\r\nposition:absolute !important;\r\ntop:17px;\r\nright:6px;\r\nfont-size:11px;\r\n}\r\ndiv.backButtonArrow div[aria-label=\"Logout\"]:after{\r\ncontent: \"Logout\";\r\nposition:absolute !important;\r\ntop:17px;\r\nright:0px;\r\nfont-size:11px;\r\n}\r\ndiv.backButtonArrow div[aria-label=\"Back\"]:after{\r\ncontent: \"Back\";\r\nposition:absolute !important;\r\ntop:17px;\r\nright:7px;\r\nfont-size:11px;\r\n}\r\n\r\ndiv.sideBarMenu div[aria-label=\"Sidebar Menu\"]:after{\r\ncontent: \"Menu\";\r\nposition:absolute !important;\r\ntop:16px;\r\nright:5px;\r\nfont-size:11px;\r\n}\r\n.btn-group.pull-left.sideBarMenu, .btn-group.pull-right.backButtonArrow{\r\nbottom:6px !important;\r\n}.navbar-app, .sidebar, #mainSidebar { background : #ffffff !important; } .navbar-brand, .navbar-absolute-top .btn-navbar { color : #083e6a !important; } .navbar-absolute-bottom .navbar-inverse { background : #083d69 !important; } .navbar-absolute-bottom .navbar-inverse { color : #ffffff !important; } .app { background :  !important; } .campuseai-Info { color : #ffffff !important; } #mainSidebar .list-group-item { background : #ffffff !important; } #mainSidebar .list-group-item { color : #083d69 !important; } #mainSidebar .appgroup { background : #ffffff !important; } #mainSidebar .appgroup { color : #083d69 !important; } .btn-primary { background : #ffffff !important; } .btn-primary { color : #083d69 !important; } .btn-primary { border-color :  !important; } ",
  "authFunction": "function authFunction(uname, password, $http, $rootScope, success, error) {\r\n  try {\r\n    var authSuccess = success;\r\n    var authError = error;\r\n    //$rootScope.middlewareServerUrl = \"https://my.massasoit.mass.edu/bannermobile\";\r\n    $rootScope.msgUrl = \"https://my.massasoit.mass.edu\";\r\n    //Banner Authentication with LDAP - middlware auth\r\n\r\n    //var url = \"https://my.massasoit.mass.edu/bannermobile/services/authenticate/login\";\r\n    var url = $rootScope.middlewareServerUrl + '/services/authenticate/login';\r\n    var casurl = \"https://cas.massasoit.mass.edu/cas/v1/tickets\";\r\n    var data = {};\r\n    var casdata = {};\r\n    if (window.device) {\r\n      data = \"username=\" + uname + \"&password=\" + encodeURIComponent(password);\r\n      casdata = \"server=\" + casurl + \"&username=\" + uname + \"&password=\" + encodeURIComponent(password);\r\n    } else {\r\n      url = \"/websimulator/json?url=\" + url;\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"username=\" + uname + \"&password=\" + encodeURIComponent(password)\r\n      };\r\n      casdata = {\r\n        method: \"POST\",\r\n        body: \"server=\" + casurl + \"&username=\" + uname + \"&password=\" + encodeURIComponent(password)\r\n      };\r\n    }\r\n    var authUrl = url;\r\n    var authData = data;\r\n    $rootScope.generateST = function(tgt, service, callback) {\r\n      //Bypassing the ST as there is no service ticket required here..\r\n      callback(tgt);\r\n    };\r\n\r\n    $rootScope.generateMsgST = function(tgt, service, callback) {\r\n      var url_server = casurl + '/' + tgt;\r\n      $.ajax({\r\n        url: url_server,\r\n        type: \"POST\",\r\n        async: true,\r\n        cache: false,\r\n        data: {\r\n          service: service\r\n        },\r\n        success: function(data) {\r\n          callback(data);\r\n        },\r\n        error: function(response) {\r\n          console.log(\"D: Inside Error of generateST\");\r\n          $.unblockUI();\r\n        }\r\n      });\r\n\r\n\r\n    };\r\n\r\n    $rootScope.postAPI = function(endpoint, postdata, callback) {\r\n      $.blockUI();\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = postdata;\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"POST\",\r\n            body: postdata\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n                  if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].STUDENT == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].EMPLOYEE == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].FACULTY == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].FINAID == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  console.log(data);\r\n                  authSuccess(data);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n              $rootScope.postAPI(endpoint, postdata, callback);\r\n            }).error(function(data, status, headers, config) {\r\n              authError(data);\r\n\r\n            });\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.getAPI = function(endpoint, callback) {\r\n      $.blockUI();\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"GET\";\r\n        var proxyData = {};\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"GET\"\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n                  if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  console.log(data);\r\n                  authSuccess(data);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n              $rootScope.getAPI(endpoint, callback);\r\n            }).error(function(data, status, headers, config) {\r\n              authError(data);\r\n\r\n            });\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    $.blockUI({\r\n      message: '<div style=\"margin: 2px; vertical-align: middle; display: inline-block\"><i class=\"icon-cog icon-spin icon-4x\"><\/i><h3>Authenticating<\/h3><\/div>'\r\n    });\r\n\r\n    /* $.ajax( {\r\n       url : url,\r\n       dataType:'JSON',\r\n       data : data,\r\n       type:\"POST\",\r\n       contentType : \"application/json\",\r\n       success : function(data) {\r\n           if (!data.error) {\r\n               $rootScope.ticket = data.ticket;\r\n               $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n                   if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                       var uroles = [];\r\n                       if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n                           uroles.push(\"STUDENT\");\r\n                       }\r\n                       if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n                           uroles.push(\"EMPLOYEE\");\r\n                       }\r\n                       if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n                           uroles.push(\"FACULTY\");\r\n                       }\r\n                       if (roles.getuserroles[0].ALUMNI == \"Y\") {\r\n                           uroles.push(\"ALUMNI\");\r\n                       }\r\n                       if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                           uroles.push(\"FINANCE\");\r\n                       }\r\n                       if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n                           uroles.push(\"FINAID\");\r\n                       }\r\n                       data.roles = uroles;\r\n                   }\r\n                   console.log(data);\r\n                   success(data);\r\n               });\r\n\r\n           } else {\r\n               success(data);\r\n           }\r\n           $.unblockUI();          \r\n       },error : function(data) {\r\n           error(data);\r\n           $.unblockUI();\r\n         \r\n       }\r\n     });*/\r\n    $http({\r\n      method: \"POST\",\r\n      url: url,\r\n      data: data\r\n    }).success(function(data, status, headers, config) {\r\n      if (!data.error) {\r\n        $rootScope.ticket = data.ticket;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneruserroles\", function(roles) {\r\n          if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n            var uroles = [];\r\n            if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n              uroles.push(\"STUDENT\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n              uroles.push(\"EMPLOYEE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n              uroles.push(\"FACULTY\");\r\n            }\r\n            if (roles.getuserroles[0].ALUMNI == \"Y\") {\r\n              uroles.push(\"ALUMNI\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n              uroles.push(\"FINANCE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n              uroles.push(\"FINAID\");\r\n            }\r\n            data.roles = uroles;\r\n          }\r\n          console.log(data);\r\n          success(data);\r\n          $http({\r\n            method: \"POST\",\r\n            url: casurl,\r\n            data: casdata\r\n          }).success(function(data) {\r\n            try {\r\n              var tgtIndex = data.indexOf('TGT-');\r\n              var casIndex = data.indexOf('-cas') + 4;\r\n              tgtTicket = data.substr(tgtIndex, casIndex - tgtIndex);\r\n              $rootScope.msgTicket = tgtTicket;\r\n            } catch (e) {\r\n              console.log(e)\r\n            }\r\n          }).error(function(data) {\r\n            console.log('error:' + JSON.stringify(data));\r\n          });\r\n        });\r\n\r\n      } else {\r\n        success(data);\r\n      }\r\n      $.unblockUI();\r\n    }).error(function(data, status, headers, config) {\r\n      //alert(\"Error block \" + data + \" Status : \" + status);\r\n      error(data);\r\n      $.unblockUI();\r\n    });\r\n\r\n  } catch (e) {\r\n    //alert(\"Exception : \" + e);\r\n  }\r\n}",
  "forgotPasswordUrl": "https://my.massasoit.mass.edu/web/mycampus/forgot-password",
  "portalGatewayUrl": null,
  "siteid": null,
  "loginaslanding": false,
  "reportissueEmail": "helpdesk@massasoit.mass.edu",
  "iconWidth": 70,
  "apps": 
  [
    {
      "id": 128667,
      "name": "RegistrationCart",
      "displayname": "Add/Drop Classes",
      "logo": "Massasoit/RegistrationCart.png",
      "logourl": "Massasoit/RegistrationCart.png",
      "description": "RegistrationCart",
      "appFeatureType": "Banner",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "RegistrationCart",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n    \r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    \r\n    input[type=\"text\"] {\r\n        min-height: 30px !important;\r\n        border-radius: 5px !important;\r\n    }\r\n    \r\n    .btn-info:focus {\r\n        padding: 10px 5px;\r\n        width: 160px;\r\n        margin: 4px;\r\n        border-radius: 50px !important;\r\n    }\r\n    \r\n    .toolbar-top {\r\n        margin: 0px;\r\n        min-height: 40px;\r\n    }\r\n    \r\n    .my-nav-tabs {\r\n        background: #181F3C;\r\n        color: #fff;\r\n    }\r\n    \r\n    .nav-tabs {\r\n        min-height: 4em;\r\n    }\r\n    \r\n    .btn-top {\r\n        border-radius: 0px !important;\r\n    }\r\n    \r\n    .btn-group.justified>.btn.active {\r\n        color: #fff !important;\r\n        /*background-color: #2C1D47 !important;\r\n        */\r\n        background: #3a87ad !important;\r\n        border-bottom: 4px solid orange !important;\r\n        border:none;\r\n\r\n\r\n    }\r\n    \r\n    .btn-selected {\r\n        color: #fff !important;\r\n        /*background-color: #2C1D47 !important;*/\r\n        background: #3a87ad !important;\r\n        border-bottom: 4px solid #2C1D47 !important;\r\n        border:none;\r\n    }\r\n    \r\n    .badge-top {\r\n        position: absolute;\r\n        border-radius: 50%;\r\n        background: orange;\r\n        line-height: 20px;\r\n        width: 20px;\r\n        height: 20px;\r\n        top: 8%;\r\n        right: 6%;\r\n        padding-left: 2px;\r\n        -webkit-box-shadow: 2px 2px 5px 0px grey;\r\n        -moz-box-shadow: 2px 2px 5px 0px grey;\r\n        box-shadow: 2px 2px 5px 0px grey;\r\n    }\r\n    \r\n    .btn-selected {\r\n        color: #fff !important;\r\n        background-color: #2C1D47 !important;\r\n        border-color: #2C1D47 !important;\r\n        -webkit-transition: all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n    \r\n    .btn-oval {\r\n        padding: 10px 5px;\r\n        margin: 4px;\r\n        min-width: 160px;\r\n        border-radius: 50px;\r\n        border: 1px solid rgba(100, 100, 100, 0.5) !important;\r\n        box-shadow: 2px 2px darkgrey;\r\n    }\r\n    \r\n    .btn-rounded {\r\n        width: 40px;\r\n        height: 40px;\r\n        border: 1px solid #ccc !important;\r\n        border-radius: 50px;\r\n        padding-top: 9px;\r\n        outline: none !important;\r\n        font-weight: bolder;\r\n        -webkit-transition: all 1s ease;\r\n        transition: all 1s ease;\r\n    }\r\n    \r\n    .label-setting {\r\n        padding: 0px;\r\n        margin-top: 6px;\r\n    }\r\n    \r\n    .footer-button {\r\n        position: absolute;\r\n        right: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 40px;\r\n        border-radius: 0px;\r\n        z-index: 9000;\r\n        margin: 0;\r\n        top: auto;\r\n        bottom: 0px;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .in-cart-course {\r\n        /*background: #00693F !important;*/\r\n        box-shadow: 0 0 10px black;\r\n        -webkit-transition: box-shadow linear 0.5s;\r\n        transition: box-shadow linear 0.5s;\r\n    }\r\n    \r\n    .ribbon-parent {\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .corner-ribbon {\r\n        width: 120px;\r\n        line-height: 18px;\r\n        top: 5px;\r\n        right: -20px;\r\n        position: absolute !important;\r\n        text-align: center;\r\n        letter-spacing: 1px;\r\n        color: #f0f0f0;\r\n        transform: rotate(40deg);\r\n        -webkit-transform: rotate(40deg);\r\n    }\r\n    \r\n    .corner-ribbon.shadow {\r\n        box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n    }\r\n    \r\n    .corner-ribbon.cart {\r\n        background: #39d;\r\n        -moz-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #39d, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }\r\n    \r\n    .corner-ribbon.registered {\r\n        background: #FF7C00;\r\n        -moz-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #FF7C00, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }\r\n<\/style>\r\n<div style=\"overflow-x:hidden\">\r\n    <div class=\"tab-content\">\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n            <div id=\"search-pane\" class=\"1well\" ng-show=\"inSearchWindow\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\">\r\n                        <h4 style=\"margin-bottom:0px;\">Search Classes:<\/h4>\r\n                    <\/div>\r\n                    <div class=\"panel-body\" style=\"padding:8px;\">\r\n                        <div>Select term and subject from the drop down and press search. Use advanced search if you want to narrow down your search.<\/div>\r\n                        <div class=\"list-group-item\">\r\n                            <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">-- Select Term --<\/option>\r\n                                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                        <div class=\"list-group-item\">\r\n                            <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Subject --<\/option>\r\n                                <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\" style=\"margin-bottom:40px !important;\">\r\n                    <div class=\"panel-heading\">\r\n                        <div ng-init=\"open = false;\" ng-click=\"advancedClick()\">Advanced Search\r\n                            <span ng-class=\"open == true ? 'fa-chevron-circle-right' : 'fa-chevron-circle-down'\" class=\"fa pull-right fa-2x\" style=\"margin-top:-3px;\"> <\/span>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div ng-show=\"open == true\">\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"courseNumber\" class=\"col-xs-5 col-md-5 control-label label-setting\">Course Number:<\/label>\r\n                                <div class=\"col-xs-7 col-md-7 \" style=\"padding:0px;\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"courseTitle\" class=\"col-xs-5 col-md-5 control-label label-setting\">Title:<\/label>\r\n                                <div class=\"col-xs-7 col-md-7\" style=\"padding:0px;\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <label for=\"name \" class=\"col-xs-4 col-md-4 control-label label-setting\">Credit Range<\/label>\r\n                                <div class=\"col-xs-3 col-md-3 \">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                                <\/div>\r\n                                <label for=\"name\" class=\"col-xs-2 col-md-2 control-label label-setting\" style=\"text-align:center;\">To<\/label>\r\n                                <div class=\"col-xs-3 col-md-3 \">\r\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <div class=\"col-md-12 col-xs-12\">\r\n                                    <select ng-model=\"selectedInstructor\" class=\"form-control \">\r\n                                        <option value=\"\">-- Search Instructor --<\/option>\r\n                                        <option value=\"{{inst.SPRIDEN_PIDM}} \" ng-repeat=\"inst in lovData.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}} <\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"form-group \">\r\n                                <div class=\"col-md-12 col-xs-12\">\r\n                                    <select ng-model=\"selectedCampus\" class=\"form-control \">\r\n                                        <option value=\"\">-- Search Campus --<\/option>\r\n                                        <option value=\"{{camp.CAMP_CODE}} \" ng-repeat=\"camp in lovData.campDropDown\">{{camp.CAMP_DESC}} <\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"list-group-item clearfix\">\r\n                            <div class=\"list-group-item clearfix\" style=\"background:#e3e3e3;line-height:12px;\">\r\n                                <label for=\"days\" class=\"col-xs-12 col-md-12 control-label label-setting\">Days:<\/label>\r\n                            <\/div>\r\n                            <div class=\"btn-group\" style=\"margin:5px;padding:0;margin-bottom:14px;padding:0;text-align:center;width:100%;\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-xs-12 col-md-12\" style=\"padding-left:2px;padding-right:2px;overflow-x:hidden;\">\r\n                                        <div class=\"list-group-item\" style=\"background:transparent;border:none;\">\r\n                                            <div class=\"pull-left\" style=\"width:14%;\" ng-repeat=\"week in weekdata\">\r\n                                                <div class=\"btn-mini btn-default btn-rounded\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                                            <\/div>\r\n                                        <\/div>\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"showResults()\" id=\"classSearchBtn\"> <i class=\"fa fa-search\" style=\"padding:6px;\"><\/i>SEARCH<\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n            <div id=\"altpin-window\" ng-show=\"!inSearchWindow && showaltpin\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <h4>Alternate PIN:<\/h4>\r\n                <span>You need to enter the alternate PIN provided to you in the below box for adding/dropping classes for this term. If you have any questions, please contact the registration department.<\/span>\r\n                <div class=\"list-group-item clearfix\">\r\n                    <div class=\"form-group \">\r\n                        <div class=\"col-xs-12 col-md-12\" style=\"padding1:0px;\">\r\n                            <input type=\"text\" class=\"form-control\" name=\"altpin\" id=\"altpin\" pattern=\"[0-9]*\" required=\"required\" placeholder='PIN' ng-model=\"altpin\">\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"list-group-item clearfix\">\r\n                    <div class=\"form-group \">\r\n                        <div class=\"col-xs-12 col-md-12\" style=\"padding1:0px;\">\r\n                            <div class=\"btn btn-info\" ng-click=\"altPinProcess()\">SUBMIT<\/div>\r\n                            <div class=\"btn btn-info\" ng-click=\"cancelAltPin()\">Cancel<\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div id=\"results-pane\" ng-hide=\"inSearchWindow || showaltpin\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"list-group-item clearfix\">\r\n                    <h4>Search Results:<\/h4>\r\n                    <span>Select the cart icon right to a class to add that class to the cart. To go back to the search window, select the \"New Search\" button below. <\/span>\r\n                    <span class=\"pull-right\" style=\"margin-top: 6px;margin-bottom: 6px;\">\r\n                 <div class=\"btn btn-info btn-oval\" ng-click=\"resetSearch()\">New Search<\/div>\r\n              <\/span>\r\n                <\/div>\r\n                <div class=\"row clearfix\" ng-repeat=\"course in classes\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading ribbon-parent\" ng-class=\"{'in-cart-course' : course.addedToCart}\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                                        <span>{{course.COURSE_ID}}<\/span>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;padding:0px;margin:0px;\">\r\n                                        <div class=\"corner-ribbon cart\" ng-show=\"course.addedToCart\"><span style=\"margin-left1:-26% !important;\">&nbsp;&nbsp;Cart<\/span><\/div>\r\n                                        <div class=\"corner-ribbon registered\" ng-show=\"course.REGISTERED\"><span style=\"margin-left1:-26% !important;\">&nbsp;&nbsp;Reg.<\/span><\/div>\r\n                                        <div class=\"btn btn-default btn-rounded\" ng-hide=\"course.addedToCart || course.REGISTERED\" ng-click=\"addToCart(course.CRN)\" style=\"box-shadow:2px 2px rgba(10,10,10,0.7);\">\r\n                                            <i class=\"fa fa-shopping-cart fa-2x\" style=\"margin-left:-6px;margin-top:-4px;\"><\/i>\r\n                                        <\/div>\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                    <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                                    <br/>Credits :\r\n                                    <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                            Capacity\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.CAPACITY}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Remaining\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.REMAINING}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Occupied\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                                    <strong>Meeting Information:<\/strong>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                                    <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n                                    <br/>\r\n                                    <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                                    <ul class=\"list-group\">\r\n                                        <li class=\"list-group-item\" style=\"padding:0px;margin-top:5px;\">\r\n                                            <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n                                            <\/div>\r\n                                        <\/li>\r\n                                    <\/ul>\r\n                                <\/li>\r\n                                <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n                                    <li class=\"list-group-item\">\r\n                                        <div class=\"row\" style=\"margin-bottom:6px;\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                Start Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                End Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                                <li class=\"list-group-item\">\r\n                                    <div class=\"pull-left btn-success\" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n        <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab2 \" exclusion-group=\"myTabs\">\r\n            <div id=\"cart-pane\" class=\"1well\" ng-hide=\"showmessage\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"list-group-item clearfix\">\r\n                    <h4>My Cart &nbsp;&nbsp;({{cart.length}})<\/h4>\r\n                <\/div>\r\n                <div class=\"list-group-item clearfix\" style=\"margin-bottom:5px;\">\r\n                    <span>Select the trash icon right to a class to remove that class from the cart. Verify your classes and select REGISTER CLASSES button to submit the cart for registration. <\/span>\r\n                <\/div>\r\n                <div class=\"row clearfix\" ng-repeat=\"course in cart\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                                        <span>{{course.COURSE_ID}}<\/span>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;\">\r\n                                        <div class=\"btn btn-default btn-rounded\" ng-click=\"removeFromCart(course.CRN)\" style=\"box-shadow:2px 2px rgba(10,10,10,0.7);\">\r\n                                            <i class=\"fa fa-trash-o fa-2x\" style=\"margin-left:-4px;margin-top:-4px;\"><\/i>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                    <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                                    <br/>Credits :\r\n                                    <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                            Capacity\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.CAPACITY}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Remaining\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.REMAINING}}<\/span>\r\n                                        <\/div>\r\n                                        <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                            Occupied\r\n                                            <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                                        <\/div>\r\n                                    <\/div>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                                    <strong>Meeting Information:<\/strong>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                                    <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong>\r\n                                    <br/>\r\n                                    <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n                                    <br/>\r\n                                    <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                                    <ul class=\"list-group\">\r\n                                        <li class=\"list-group-item\" style=\"padding:0px;margin-top:5px;\">\r\n                                            <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                                            <\/div>\r\n                                        <\/li>\r\n                                    <\/ul>\r\n                                <\/li>\r\n                                <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n                                    <li class=\"list-group-item\">\r\n                                        <div class=\"row\" style=\"margin-bottom:6px;\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                Start Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" readOnly placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-xs-4\" style=\"padding:0px;\">\r\n                                                End Date:\r\n                                            <\/div>\r\n                                            <div class=\"col-xs-8\">\r\n                                                <input type=\"date\" readOnly placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                                            <\/div>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                                <li class=\"list-group-item\">\r\n                                    <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div style=\"margin-bottom:20px !important;\"><\/div>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"submitCart()\" id=\"submitCartBtn\"> <i class=\"fa fa-floppy-o\" style=\"padding:6px; \"><\/i>&nbsp;&nbsp;&nbsp;REGISTER CLASSES<\/div>                \r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n\r\n            <\/div>\r\n            <div id=\"messages\" ng-show=\"showmessage\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"alert alert-danger\" ng-show=\"regResults.summary && regResults.summary.error\">{{regResults.summary && regResults.summary.error}}<\/div>\r\n                <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults.summary\" ng-repeat=\"result in regResults.summary.results\">\r\n                    CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n            <h3 class=\"page-header\" style=\"margin-bottom:0px;padding-left:10px;\">Current Schedule:<\/h3>\r\n            <div id=\"schedule-pane\" ng-hide=\"showmessage2\" class=\"1well\" style=\"border-radius:0px;margin:0px;padding:10px;margin-bottom:40px;\">\r\n                <li class=\"list-group-item\" style=\"margin-top:-10px;\">\r\n                    <strong>Term:&nbsp;&nbsp;<\/strong><span class=\"\">{{getTermDescription(selectedvalue)}}<\/span>\r\n                <\/li>\r\n                <div class=\"row clearfix\" ng-repeat=\"schedule in currentSchedule\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                            <div class=\"panel-heading\">\r\n                                <div class=\"row clearfix\">\r\n                                    <div class=\"col-xs-9\">\r\n                                        <h5 class=\"panel-title\">{{schedule.TITLE}} <\/h5>\r\n                                    <\/div>\r\n                                    <div class=\"col-xs-3\" style=\"text-align:center;\">\r\n\r\n                                    <\/div>\r\n                                <\/div>\r\n\r\n                            <\/div>\r\n                            <div class=\"panel-body\">\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                                        <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{schedule.SFTREGS_CRN}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        <strong>{{schedule.STVRSTS_DESC}} on {{schedule.SFTREGS_RSTS_DATE}}<\/strong>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        <strong>Course:<span class=\"pull-right\">{{schedule.SSBSECT_SUBJ_CODE}}-{{schedule.SSBSECT_CRSE_NUMB}}-{{schedule.SSBSECT_SEQ_NUMB}}<\/span><\/strong>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">\r\n                                        Credits: <span class=\"pull-right\">{{schedule.SFTREGS_CREDIT_HR}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item clearfix\" ng-hide=\"!schedule.scheduleActions\">\r\n                                        <div class=\"col-md-12 col-xs-12\">\r\n                                            <select ng-model=\"schedule.action\" class=\"form-control\">\r\n                                                <option value=\"\">-- Select Action --<\/option>\r\n                                                <option value=\"{{act.RSTS_CODE}}\" ng-repeat=\"act in schedule.scheduleActions\">{{act.RSTS_DESC}} <\/option>\r\n                                            <\/select>\r\n                                        <\/div>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                    <div class=\"panel-heading\">\r\n                        <h5>Summary:<\/h5>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">\r\n                            Total Credit Hours: <span class=\"pull-right\">{{scheduleSummary.TOTAL_CREDIT_HOURS | number : 3}} <\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">\r\n                            Billing Hours: <span class=\"pull-right\">{{scheduleSummary.BILLING_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n<!--                         <li class=\"list-group-item\">\r\n                            <ACRONYM title=\"Continuing Education Units\">CEU<\/ACRONYM>: <span class=\"pull-right\">{{scheduleSummary.CEU}} <\/span>\r\n                        <\/li> -->\r\n                        <li class=\"list-group-item\">\r\n                            Minimum Hours: <span class=\"pull-right\">{{scheduleSummary.MIN_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">\r\n                            Maximum Hours: <span class=\"pull-right\">{{scheduleSummary.MAX_HOURS | number: 3}} <\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n                <\/br>\r\n                <div class=\"btn btn-block btn-warning \" ng-click=\"submitDrops()\" id=\"submitDrop\"> <i class=\"fa fa-trash-o\" style=\"padding:6px; \"><\/i>SUBMIT<\/div>\r\n                <div style=\"margin-bottom:40px !important;\"><\/br><\/div>\r\n            <\/div>\r\n            <div id=\"messages2\" ng-show=\"showmessage2\" style=\"border-radius:0px;margin:0px;padding:10px;\">\r\n                <div class=\"alert alert-danger\" ng-show=\"regResults2.error\">{{regResults2.summary && regResults2.summary.error}}<\/div>\r\n                <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults2.summary\" ng-repeat=\"result in regResults2.summary.results\">\r\n                    CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                    <div class=\"btn btn-info btn-oval\" ng-click=\"showmessage2 = !showmessage2\">OK <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n\r\n    <\/div>\r\n\r\n\r\n<\/div>",
          "pageprocessor": "function pageprocessorRegistrationCart(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    \r\n\r\n    $rootScope.back = function() {\r\n\r\n        var onConfirm = function (buttonIndex) {\r\n            if (buttonIndex == 1) {                \r\n                window.location.href = \"index.html#home\";\r\n                 /*\r\n                 if (window.device) {\r\n                    if (device.platform == 'iOS') {\r\n                        history.go(-1);\r\n                    } else {\r\n                        navigator.app.backHistory();\r\n                    }\r\n                } else {\r\n                    history.go(-1);\r\n                }  */             \r\n            }\r\n        };\r\n        if ($scope.cart.length > 0) {\r\n            if (window.device) {\r\n                navigator.notification.confirm(\r\n                    'This will clear the cart. Continue ?', // message\r\n                    onConfirm, // callback to invoke with index of button pressed\r\n                    'Add/Drop Classes', // title\r\n                    ['Yes', 'No'] // buttonLabels\r\n                );\r\n            } else {\r\n                apprise(\"This will clear the cart. Continue ?\", {\r\n                    'verify': true,\r\n                    'textYes': \"Yes\",\r\n                    'textNo': \"No\"\r\n                }, function (r) {\r\n                    if (r) {\r\n                        window.location.href = \"index.html#home\";\r\n                    }\r\n                });\r\n            }             \r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n       \r\n        \r\n    }\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.tempvar = false;\r\n    $scope.termdropdown = \"\";\r\n    $scope.selectedvalue = \"\";\r\n    $scope.inSearchWindow = true;\r\n    $scope.altpin = \"\";\r\n    $scope.showaltpin = false;\r\n    $scope.servererror = false;    \r\n    $scope.showmessage = false;\r\n    $scope.showmessage2 = false;\r\n    $scope.currentSchedule = \"\";\r\n    $scope.scheduleSummary = \"\";\r\n    $scope.scheduleActions = \"\";\r\n    $scope.classes = [];\r\n    var prevValue = [];\r\n    var monthName = [\"JAN\",\"FEB\",\"MAR\",\"APR\",\"MAY\",\"JUN\",\"JUL\",\"AUG\",\"SEP\",\"OCT\",\"NOV\",\"DEC\"];\r\n    //Cart variables\r\n    $scope.cart = [];\r\n    $scope.weekdata = [{\r\n        style: \"\",  label: \"M\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"T\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"W\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"T\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"F\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"S\", selected: \"\"\r\n    }, {\r\n        style: \"\",  label: \"S\", selected: \"\"\r\n    }]; \r\n\r\n    $scope.displayMessage = function(message) {\r\n        if (window.device) {\r\n            navigator.notification.alert(message, null, \"Add/Drop Classes\", null);\r\n        } else {\r\n            apprise(message, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n        }         \r\n    }    \r\n\r\n    $scope.clearCart = function() {\r\n        $scope.classes = [];\r\n        $scope.cart = [];\r\n        $scope.altpin = \"\";\r\n        $scope.showaltpin = false;\r\n        $scope.servererror = false;\r\n        $scope.selectedSubject = \"\";\r\n        $scope.courseNumber = \"\";\r\n        $scope.courseTitle = \"\";\r\n        $scope.partTermCode = \"\";\r\n        $scope.creditFrom = \"\";\r\n        $scope.creditTo = \"\";\r\n        $scope.selectedInstructor = \"\";\r\n        $scope.selectedCampus = \"\";        \r\n        $scope.weekdata = [{\r\n            style: \"\",  label: \"M\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"W\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"F\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }];     \r\n    }\r\n\r\n    $scope.clearSearch = function() {\r\n        $scope.courseNumber = \"\";\r\n        $scope.courseTitle = \"\";\r\n        $scope.partTermCode = \"\";\r\n        $scope.creditFrom = \"\";\r\n        $scope.creditTo = \"\";\r\n        $scope.selectedInstructor = \"\";\r\n        $scope.selectedCampus = \"\";\r\n        $scope.weekdata = [{\r\n            style: \"\",  label: \"M\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"W\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"T\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"F\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }, {\r\n            style: \"\",  label: \"S\", selected: \"\"\r\n        }];     \r\n    }\r\n\r\n    var termdropdownURL = \"/services/student/bannertermsForRegCart\";    \r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + termdropdownURL, function(data) {\r\n        $scope.termdropdown = data.termdropdown;\r\n        $scope.clearCart();\r\n        if (angular.isArray($scope.termdropdown) && $scope.termdropdown.length > 0) {\r\n            $scope.selectedvalue = $scope.termdropdown[0].TERM_CODE;\r\n            $scope.dropdownselect($scope.selectedvalue);\r\n        }\r\n    });        \r\n\r\n    $scope.getTermDescription = function(tcode) {\r\n        var tdesc = \"\";\r\n        angular.forEach($scope.termdropdown, function(value,key) {\r\n            if (value.TERM_CODE == tcode) {\r\n                tdesc = value.TERM_DESC;\r\n                return;\r\n            }\r\n        });\r\n        return tdesc;\r\n    }\r\n\r\n    $scope.selectDay = function(day) {\r\n        if ($scope.weekdata[day].style == \"btn-selected\") {\r\n            $scope.weekdata[day].style = \"\";\r\n            $scope.weekdata[day].selected = \"\";\r\n        } else {\r\n            $scope.weekdata[day].style = \"btn-selected\";\r\n            $scope.weekdata[day].selected = \"Y\";\r\n        }\r\n    }    \r\n\r\n    $scope.refreshCurrentSchedule = function() {\r\n         $scope.currentSchedule = \"\";\r\n        $scope.scheduleSummary = \"\";\r\n        //$scope.scheduleActions = \"\";  \r\n        $scope.showmessage2 = false;      \r\n        var currUrl = $rootScope.middlewareServerUrl + \"/services/student/bannerregistrationcartcurrentschedule/termCode=\" + $scope.selectedvalue;\r\n        $rootScope.getAPI(currUrl, function(schdata) {\r\n            console.log(schdata); \r\n            var sumresult = \"\";\r\n            var scheduleresult = \"\";\r\n            if (window.device) {\r\n                sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n                scheduleresult = JSON.parse(schdata.p_schedule_out[0].currentschedule);\r\n                schdata.p_schedule_out[0].currentschedule = scheduleresult;               \r\n            } else {\r\n                sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n                scheduleresult = JSON.parse(JSON.stringify(schdata.p_schedule_out[0].currentschedule));\r\n                schdata.p_schedule_out[0].currentschedule = scheduleresult;                \r\n            }\r\n\r\n            $scope.currentSchedule = schdata.currentschedule;\r\n            $scope.scheduleSummary = sumresult;\r\n\r\n            //$scope.scheduleActions = schdata.p_schedule_out[0].currentschedule;\r\n            angular.forEach($scope.currentSchedule, function(value,key) {\r\n                value.action = \"\";\r\n                //console.log(\"value=\"+value.SFTREGS_CRN);\r\n                angular.forEach(schdata.p_schedule_out[0].currentschedule[0].schedule, function(valschedule,keyschedule) {\r\n                    if (valschedule.CRN == value.SFTREGS_CRN) {\r\n                        value.scheduleActions = valschedule.ACTIONS;\r\n                        //console.log(\"Actions=\"+value.scheduleActions.length);\r\n                    }\r\n                });\r\n            });      \r\n            //console.log($scope.currentSchedule);      \r\n            if ($scope.tempvar) {\r\n                 $.blockUI({\r\n                    message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><\/div>'\r\n                });               \r\n            }\r\n        });  \r\n\r\n    }\r\n\r\n  $scope.fetchAdditionalServices = function() {\r\n        $scope.tempvar = true;\r\n        var url = \"/services/student/bannergetRegCartOtherLOV/termCode=\"+$scope.selectedvalue;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + url, function(data) {                       \r\n            $scope.listdata = data;\r\n            $scope.tempvar = true;                        \r\n            //$scope.scheduleActions = \"\"; \r\n            //$scope.refreshCurrentSchedule();   \r\n            $scope.tempvar = false;          \r\n        });\r\n        $scope.currentSchedule = \"\";\r\n        $scope.scheduleSummary = \"\";\r\n        $scope.refreshCurrentSchedule();\r\n  }\r\n\r\n  $scope.altPinProcess = function() {\r\n    if (!$scope.altpin) {\r\n        //\r\n    }\r\n    if (/^[0-9]*$/.test($scope.altpin) == false) {\r\n        if (window.device) {\r\n            navigator.notification.alert(\"Only numeric values are allowed as PIN !\", null, \"Add/Drop Classes\", null);\r\n        } else {\r\n            apprise(\"Only numeric values are allowed as PIN !\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n        }        \r\n        return;\r\n    }\r\n        var pinUrl = $rootScope.middlewareServerUrl + \"/services/student/bannervalidateAddlPin\";\r\n        var postdata = \"termCode=\" + $scope.selectedvalue + \"&pin=\" + $scope.altpin;\r\n        $rootScope.postAPI(pinUrl, postdata, function(data) {\r\n            if (data.validateAddlPin.length >= 1) {\r\n                if (data.validateAddlPin[0].SUCCESS == \"true\") {\r\n                    $scope.showaltpin = false;\r\n                    $scope.fetchAdditionalServices();\r\n                } else {\r\n                    $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n                }\r\n            } else {\r\n                $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n            }\r\n        });    \r\n  }\r\n\r\n   $scope.getAltPinRequired = function() {    \r\n        angular.forEach($scope.termdropdown, function(value,key) {\r\n            if (value.TERM_CODE == $scope.selectedvalue) {\r\n                return value.ALTPIN;\r\n            }\r\n        });  \r\n        return 'N';      \r\n   }\r\n\r\n\r\n  $scope.dropdownselect = function (termcode) {\r\n        //cart will be cleared. Confirmation should be asked to user. \r\n        $scope.listdata = [];\r\n        $scope.lovData = [];\r\n        $scope.open = false;\r\n        $scope.tempvar = false;\r\n        $scope.clearCart();\r\n        $scope.showmessage2 = false;\r\n        if (!$scope.selectedvalue) {\r\n            return;\r\n        }\r\n        //check for AltPIN\r\n        var altpinrequired = $scope.getAltPinRequired();\r\n        $scope.servererror = false;\r\n\r\n        if (altpinrequired == 'Y') {\r\n            // Ask for student pin and validate\r\n            $scope.showaltpin = true;\r\n        } else {\r\n            $scope.showaltpin = false;\r\n            $scope.fetchAdditionalServices();           \r\n        }\r\n        /*\r\n        var pinUrl = \"/services/student/banneraddlPinReqd/termCode=\" + $scope.selectedvalue;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pinUrl, function(data) {\r\n            if (data.error) {\r\n                //some issue with service.\r\n                $scope.servererror = true;\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"Internal server issue. Please contact administrator.\", null, \"Add/Drop Classes\", null);\r\n                } else {\r\n                    apprise(\"Internal server issue. Please contact administrator.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }                 \r\n            } else if (data.addlPinReqd && data.addlPinReqd.length >= 1) {\r\n                $scope.servererror = false;\r\n                if ( data.addlPinReqd[0].REQUIRED == \"true\") {\r\n                    $scope.showaltpin = true;\r\n                } else {\r\n                    $scope.showaltpin = false;\r\n                    $scope.fetchAdditionalServices();\r\n                }\r\n            } else {\r\n                $scope.servererror = false;\r\n                $scope.showaltpin = false;\r\n                $scope.fetchAdditionalServices();\r\n            }\r\n\r\n        });    \r\n        */    \r\n             \r\n    }    \r\n\r\n   $scope.advancedClick = function() {\r\n        if (!$scope.open && !$scope.selectedvalue) {\r\n             if (window.device) {\r\n                navigator.notification.alert(\"Please select a term first !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select a term first !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;            \r\n        }        \r\n        if (!$scope.open) {            \r\n            $scope.lovData= [];\r\n            var lovUrl = \"/services/student/bannergetRegCartAdditionalLOV/termCode=\"+$scope.selectedvalue;\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + lovUrl, function(lovdata) {\r\n                $scope.lovData = lovdata;\r\n            });           \r\n        }\r\n        $scope.open = !$scope.open;\r\n\r\n   }\r\n\r\n  $scope.cancelAltPin = function() {\r\n    $scope.selectedvalue = \"\";\r\n    $scope.dropdownselect($scope.selectedvalue);\r\n  }    \r\n\r\n    $scope.resetSearch = function() {\r\n        $scope.inSearchWindow = !$scope.inSearchWindow;\r\n        $scope.clearSearch();\r\n        $scope.showmessage = false;\r\n    }\r\n     \r\n     $scope.addToCart = function(crn) {     \r\n        angular.forEach($scope.classes,function(value,key) {\r\n            if (value.CRN == crn) {\r\n                if (value.OLR_COURSE == 'Y') {\r\n                    if (!value.START_DATE && !value.END_DATE) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"Start Date or End Date should be mentioned for OLR courses.\", null, \"Add/Drop Classes\", null);\r\n                        } else {\r\n                            apprise(\"Start Date or End Date should be mentioned for OLR courses.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n\r\n                            });\r\n                        }  \r\n                        return;                      \r\n                    }\r\n                    if (value.START_DATE && value.END_DATE) {\r\n                        if (window.device) {\r\n                            navigator.notification.alert(\"Only one of start or end dates may be entered.\", null, \"Add/Drop Classes\", null);\r\n                        } else {\r\n                            apprise(\"Only one of start or end dates may be entered.\", {\r\n                                'verify': false,\r\n                                'textYes': \"Ok\"\r\n                            }, function(r) {\r\n\r\n                            });\r\n                        }  \r\n                        return;                      \r\n                    }  \r\n                    var cStartDate, cEndDate;\r\n                    if (value.START_DATE) {\r\n                        var dStartDate = new Date(value.START_DATE);\r\n                        cStartDate = dStartDate.getDate() + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n                    } \r\n                    if (value.END_DATE) {\r\n                        var dEndDate = new Date(value.END_DATE);\r\n                        cEndDate = dEndDate.getDate() + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n                    }                                                      \r\n                }                \r\n\r\n                value.addedToCart = true;\r\n                value.formatClass = \"in-cart-course\";\r\n                $scope.cart.push(value);\r\n                console.log($scope.cart);\r\n                return;\r\n            }\r\n        });\r\n        \r\n     }\r\n\r\n     $scope.removeFromCart = function(crn) {\r\n        for(var i = 0; i <= $scope.cart.length-1; i++){\r\n            if ($scope.cart[i].CRN === crn) {\r\n                $scope.cart.splice(i, 1);\r\n            }\r\n        }       \r\n        angular.forEach($scope.classes,function(value,key){\r\n            if (value.CRN == crn) {\r\n                value.addedToCart = false;\r\n                value.formatClass = \"\";\r\n                console.log($scope.cart);\r\n            }\r\n        });\r\n        console.log($scope.cart);\r\n     }   \r\n\r\n     $scope.submitCart = function() {\r\n        if ($scope.cart.length == 0) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"No classes added to cart.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"No classes added to cart.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;          \r\n        }\r\n        //build param map for registration service\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/banneraddDropClasses\";\r\n        var postdata = \"\"; \r\n        var termCode = \"\";\r\n        var crns = \"\";\r\n        var regCodes = \"\";\r\n        var action = \"A\";\r\n        var startDates = \"\";\r\n        var endDates = \"\";\r\n        var firstTime = true;\r\n        $scope.regResults = \"\";\r\n\r\n        angular.forEach($scope.cart,function(value,key) {\r\n            termCode = $scope.selectedvalue;\r\n            if (!firstTime) {\r\n                crns = crns + \",\";\r\n                regCodes = regCodes + \",\";\r\n                startDates = startDates + \",\";\r\n                endDates = endDates + \",\";\r\n            }\r\n            crns = crns + value.CRN;\r\n            regCodes = regCodes + \"RW\";\r\n            if (value.START_DATE) {\r\n                var dStartDate = new Date(value.START_DATE);\r\n                cStartDate = (dStartDate.getDate() + 1) + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear() ;            \r\n                startDates = startDates + cStartDate;                \r\n            }\r\n            if (value.END_DATE) {\r\n                var dEndDate = new Date(value.END_DATE);\r\n                cEndDate = (dEndDate.getDate() +1) + \"-\" + monthName[dEndDate.getMonth() ] + \"-\" + dEndDate.getFullYear();            \r\n                endDates = endDates + cEndDate;                \r\n            }\r\n            firstTime = false;\r\n        }); \r\n        postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n            \r\n            if (window.device) {\r\n                var dres = JSON.parse(data.p_out[0].summary);\r\n                data.p_out[0].summary = dres;\r\n            }\r\n            $scope.regResults = data.p_out[0];\r\n            if ($scope.regResults.summary && $scope.regResults.summary.results ) {\r\n                angular.forEach($scope.regResults.summary.results, function(value,key){\r\n                    if (value.status == 'S') {\r\n                        value.CSS_CLASS = \"alert-success\";\r\n                    } else if (value.status == 'E') {\r\n                        value.CSS_CLASS = \"alert-danger\";\r\n                    } else {\r\n                        value.CSS_CLASS = \"alert-warning\";\r\n                    }\r\n                });\r\n            }\r\n            $scope.showmessage = true;\r\n            $scope.clearCart();\r\n            $scope.refreshCurrentSchedule(); \r\n        });\r\n\r\n     }\r\n\r\n    $scope.showResults = function() {\r\n        if ($scope.selectedvalue == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select term code.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select term code\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Please select Subject or Instructor.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select Subject or Instructor.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }       \r\n\r\n        $scope.showmessage = false;\r\n        var mon,tue,wed,thu,fri,sat,sunday;\r\n        mon = ($scope.weekdata[0].selected == 'Y') ? 'M':'';\r\n        tue = ($scope.weekdata[1].selected == 'Y') ? 'T':'';\r\n        wed = ($scope.weekdata[2].selected == 'Y') ? 'W':'';\r\n        thu = ($scope.weekdata[3].selected == 'Y') ? 'R':'';\r\n        fri = ($scope.weekdata[4].selected == 'Y') ? 'F':'';\r\n        sat = ($scope.weekdata[5].selected == 'Y') ? 'S':'';                                                \r\n        sunday = ($scope.weekdata[6].selected == 'Y') ? 'U':'';        \r\n\r\n        var searchURL = \"/services/student/bannerregCartclasslookup/termCode=\" + $scope.selectedvalue +\r\n            \"&subjectCode=\" + $scope.selectedSubject +\r\n            \"&courseNumber=\" + $scope.courseNumber +\r\n            \"&partTermCode=\" + $scope.partTermCode +\r\n            \"&facultyPidm=\" + $scope.selectedInstructor +\r\n            \"&courseTitle=\" + $scope.courseTitle +\r\n            \"&creditFrom=\" + $scope.creditFrom +\r\n            \"&creditTo=\" + $scope.creditTo +\r\n            \"&campCode=\" + $scope.selectedCampus +\r\n            \"&mon=\" + mon +\r\n            \"&tue=\" + tue +\r\n            \"&wed=\" + wed +\r\n            \"&thu=\" + thu +\r\n            \"&fri=\" + fri +\r\n            \"&sat=\" + sat +\r\n            \"&sun=\" + sunday;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + searchURL, function(data) {\r\n            if (data.CLASSLOOKUP.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"No classes found.\", null, \"Add/Drop Classes\", null);\r\n                } else {\r\n                    apprise(\"No classes found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n\r\n                    });\r\n                }\r\n            } else { \r\n                console.log(data.CLASSLOOKUP);\r\n                $scope.classes = [];\r\n                $scope.inSearchWindow = false;\r\n                var prevValue = \"\";\r\n                var vindex = 0;\r\n               angular.forEach(data.CLASSLOOKUP, function(value, key) {\r\n                    if (value[0].TIME && value[0].TIME.length > 8) {\r\n                        value[0].TIME_DISPLAY = value[0].SSRMEET_START_TIME + \" - \" +value[0].SSRMEET_END_TIME;\r\n                    } else {\r\n                        value[0].TIME_DISPLAY = \"TBA\";\r\n                    }                \r\n\r\n                    value[0].START_DATE = \"\";\r\n                    value[0].END_DATE = \"\";\r\n                    value[0].ONLINE_COURSE = false;\r\n                    if ((value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) &&\r\n                        (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n                        (value[0].TIME == \"TBA\")) {\r\n                        value[0].ONLINE_COURSE = true;\r\n                    }\r\n\r\n                    var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n                    value[0].WEEK_DATA = [{\r\n                        \"LABEL\": \"Mon\",\r\n                        \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Tue\",\r\n                        \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Wed\",\r\n                        \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Thu\",\r\n                        \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Fri\",\r\n                        \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Sat\",\r\n                        \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }, {\r\n                        \"LABEL\": \"Sun\",\r\n                        \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                        \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                    }];\r\n                    if (!value[0].schedule) {\r\n                        value[0].schedule = [];\r\n                    }\r\n                    value[0].schedule.push({\r\n                        \"DURATION\": value[0].DURATION,\r\n                        \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n                        \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n                        \"TIME\": value[0].TIME,\r\n                        \"LOCATION\": value[0].LOCATION,\r\n                        \"WEEK_DATA\": value[0].WEEK_DATA\r\n                    });\r\n                    value[0].addedToCart = false;\r\n                    value[0].formatClass = \"\";\r\n                    value[0].REGISTERED =  false;\r\n                    angular.forEach($scope.currentSchedule, function(schvalue, schkey) {\r\n                        if (schvalue.SFTREGS_CRN == value[0].CRN) {\r\n                            value[0].REGISTERED = true;\r\n                            //return;\r\n                        }\r\n                    });                     \r\n                    //\r\n                    if (prevValue == \"\") {\r\n                        $scope.classes.push(value[0]);\r\n                        prevValue = value[0];\r\n                    } else if (prevValue.CRN == value[0].CRN &&\r\n                        //prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n                        //prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n                        prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n                        prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n                        $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n                    } else {\r\n                        vindex++;\r\n                        $scope.classes.push(value[0]);\r\n                        prevValue = value[0];\r\n                    }\r\n\r\n                });                                                                          \r\n            }\r\n        });            \r\n\r\n    }\r\n\r\n    $scope.submitDrops = function() {        \r\n         if ($scope.currentSchedule.length == 0) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"No class registrations found !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"No class registrations found !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;          \r\n        }\r\n        //build param map for registration service\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/banneraddDropClasses\";\r\n        var postdata = \"\"; \r\n        var termCode = \"\";\r\n        var crns = \"\";\r\n        var regCodes = \"\";\r\n        var action = \"D\";\r\n        var startDates = \"\";\r\n        var endDates = \"\";\r\n        var firstTime = true;\r\n        $scope.regResults = \"\";\r\n\r\n        angular.forEach($scope.currentSchedule,function(value,key) {\r\n            termCode = $scope.selectedvalue;\r\n            if (value.action) {\r\n                if (!firstTime) {\r\n                    crns = crns + \",\";\r\n                    regCodes = regCodes + \",\";\r\n                    startDates = startDates + \",\";\r\n                    endDates = endDates + \",\";\r\n                }\r\n                crns = crns + value.SFTREGS_CRN;\r\n                regCodes = regCodes + value.action;\r\n                if (value.SFTREGS_START_DATE) {           \r\n                    startDates = startDates + value.SFTREGS_START_DATE;                \r\n                }\r\n                if (value.SFTREGS_COMPLETION_DATE) {          \r\n                    endDates = endDates + value.SFTREGS_COMPLETION_DATE;                \r\n                }\r\n                firstTime = false;                \r\n            }\r\n\r\n        }); \r\n        if (firstTime) {\r\n             if (window.device) {\r\n                navigator.notification.alert(\"Please select an action for atleast one class !\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Please select an action for atleast one class !\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }  \r\n            return;            \r\n        }\r\n        postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n            console.log(data);\r\n            if (window.device) {\r\n                var dres = JSON.parse(data.p_out[0].summary);\r\n                data.p_out[0].summary = dres;\r\n            }\r\n            $scope.regResults2 = data.p_out[0];\r\n            if ($scope.regResults2.summary && $scope.regResults2.summary.results) {\r\n                angular.forEach($scope.regResults2.summary.results, function(value,key){\r\n                    if (value.status == 'S') {\r\n                        value.CSS_CLASS = \"alert-success\";\r\n                    } else if (value.status == 'E') {\r\n                        value.CSS_CLASS = \"alert-danger\";\r\n                    } else {\r\n                        value.CSS_CLASS = \"alert-warning\";\r\n                    }\r\n                });\r\n            }\r\n            $scope.showmessage2 = true;\r\n            $scope.inSearchWindow = true;\r\n            $scope.refreshCurrentSchedule(); \r\n\t\t\t$scope.showmessage2 = true;\r\n            //$scope.clearCart();\r\n        });               \r\n    }\r\n\r\n\r\n\r\n    var dv = '<div style=\"padding:0px;border-radius:0px;\"><div class=\"toolbar-top\"><div class=\"btn-group justified nav-tabs my-nav-tabs\">' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" active><i class=\"fa fa-search fa-2x\"><\/i><br/>Search<\/a>' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-shopping-cart fa-2x\"><\/i><br/>Cart<span class=\"badge-top\">{{cart.length}}<\/span><\/a>' +\r\n        '<a class=\"btn btn-default btn-top\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-calendar fa-2x\"><\/i><br/>Current Schedule<\/a>' +\r\n        '<\/div> <\/div><\/div>';\r\n    $(\".app-content\").prepend($compile(dv)($scope));\r\n    var spinnerDiv = '<div id=\"cssload-loader\"><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\">' +\r\n        '<\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><\/div>';\r\n\r\n$rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n            \r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            $location.path(\"/home\");\r\n        }\r\n    }\r\n}",
          "endpoint": "/"
        }
      ]
    },
    {
      "id": 165979,
      "name": "Canvas307",
      "displayname": "Canvas",
      "logo": "Massasoit/Canvas307.png",
      "logourl": "Massasoit/Canvas307.png",
      "description": "Canvas",
      "appFeatureType": "Student",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Canvas307",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCanvas307(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {var successCallback = function() {$location.path(\"/home\");};if (window.device.platform == \"Android\") {var errorCallback = function() {$scope.loadurl(pagedef.playstoreurl);$location.path(\"/home\");};window.plugins.launcher.launch({packageName: pagedef.androidpackage}, successCallback, errorCallback);} else if (window.device.platform == \"iOS\") {var errorCallback = function() {$scope.loadurl(pagedef.itunesurl);};window.plugins.launcher.launch({uri: pagedef.iosuri}, successCallback, errorCallback);}} else {apprise(\"This feature is not available on Emulator\", {\"verify\": false,\"textYes\": \"Ok\"}, function(r) {});}$scope.loadurl = function(url) {if (window.device) {$.blockUI();}var iabRef = window.open(url, device.platform == \"Android\" ? \"_system\" : \"_blank\", \"location=no,hidden=yes\");var hideBlockUi = function() {iabRef.show();$.unblockUI();};var iabClose = function(data) {window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();};iabRef.addEventListener(\"loadstop\", loadStop);}}",
          "androidpackage": "com.instructure.candroid",
          "playstoreurl": "https://play.google.com/store/apps/details?id=com.instructure.candroid&hl=en",
          "iosuri": "canvas-courses://",
          "itunesurl": "https://itunes.apple.com/us/app/canvas-student/id480883488?mt=8"
        }
      ]
    },
    {
      "id": 84468,
      "name": "Canvas230",
      "displayname": "Canvas",
      "logo": "Massasoit/Canvas230.png",
      "logourl": "Massasoit/Canvas230.png",
      "description": "Canvas",
      "appFeatureType": "Messaging",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Canvas230",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCanvas230(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var plugins = cordova.require(\"cordova/plugin_list\").metadata;\r\n\r\n  if (typeof plugins['com.venkykowshik.startapp'] === \"undefined\") {\r\n\r\n    navigator.notification.alert(\"Please update your app to use this feature\", function() {\r\n      window.location.href = \"index.html#home\";\r\n      $.unblockUI();\r\n      //$location.path(\"/home\");\r\n    }, \"Update required\", \"OK\");\r\n  } else {\r\n    if (device.platform == \"iOS\") {\r\n      var iosUri = pagedef.iosuri;\r\n      navigator.startApp.check(iosUri, function(message) { /* success */\r\n          navigator.startApp.start(iosUri, function(message) { /* success */\r\n              $location.path(\"/home\");\r\n              $.unblockUI();\r\n            },\r\n            function(error) { /* error */\r\n              console.log(error);\r\n            });\r\n        },\r\n        function(error) { /* error */\r\n          $scope.loadurl(pagedef.itunesurl);\r\n          $location.path(\"/home\");\r\n          $.unblockUI();\r\n        });\r\n    } else if (device.platform == \"Android\") {\r\n      var androidpackage = pagedef.androidpackage;\r\n      // var androidpackage = \"com.instructure.candroid\";\r\n      navigator.startApp.check(androidpackage, function(message) { /* success */\r\n          navigator.startApp.start(androidpackage, function(message) { /* success */\r\n              $location.path(\"/home\");\r\n              $.unblockUI();\r\n            },\r\n            function(error) { /* error */\r\n              console.log(error);\r\n            });\r\n        },\r\n        function(error) { /* error */\r\n          $scope.loadurl(pagedef.playstoreurl);\r\n          $location.path(\"/home\");\r\n          $.unblockUI();\r\n        });\r\n    } else {\r\n      apprise(\"This feature is not available on Emulator\", {\r\n        \"verify\": false,\r\n        \"textYes\": \"Ok\"\r\n      }, function(r) {});\r\n    }\r\n\r\n\r\n    $scope.loadurl = function(url) {\r\n      if (window.device) {\r\n        $.blockUI();\r\n      }\r\n      var iabRef = window.open(url, device.platform == \"Android\" ? \"_system\" : \"_blank\", \"location=no,hidden=yes\");\r\n      var hideBlockUi = function() {\r\n        iabRef.show();\r\n        $.unblockUI();\r\n      };\r\n      var iabClose = function(data) {\r\n        window.location.href = \"index.html#home\";\r\n        $.unblockUI();\r\n      };\r\n      iabRef.addEventListener(\"exit\", iabClose);\r\n      var loadStop = function(data) {\r\n        hideBlockUi();\r\n      };\r\n      iabRef.addEventListener(\"loadstop\", loadStop);\r\n    }\r\n  }\r\n}",
          "androidpackage": "com.instructure.candroid",
          "playstoreurl": "https://play.google.com/store/apps/details?id=com.instructure.candroid&hl=en",
          "iosuri": "canvas-courses://",
          "itunesurl": "https://itunes.apple.com/us/app/canvas-student/id480883488?mt=8"
        }
      ]
    },
    {
      "id": 84470,
      "name": "Canvas231",
      "displayname": "Canvas",
      "logo": "Massasoit/Canvas231.png",
      "logourl": "Massasoit/Canvas231.png",
      "description": "Canvas",
      "appFeatureType": "Messaging",
      "roles": "FACULTY",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Canvas231",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCanvas231(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {if (window.device) {var successCallback = function()  {$location.path(\"/home\");};if (window.device.platform == \"Android\") {var errorCallback = function() {$scope.loadurl(pagedef.playstoreurl);$location.path(\"/home\");};window.plugins.launcher.launch({packageName: pagedef.androidpackage}, successCallback, errorCallback);} else if (window.device.platform == \"iOS\") {var errorCallback = function() {$scope.loadurl(pagedef.itunesurl);};window.plugins.launcher.launch({uri: pagedef.iosuri}, successCallback, errorCallback);}} else {apprise(\"This feature is not available on Emulator\", {\"verify\": false,\"textYes\": \"Ok\"}, function(r) {});}$scope.loadurl = function(url) {if (window.device) {$.blockUI();}var iabRef = window.open(url, device.platform == \"Android\" ? \"_system\" : \"_blank\", \"location=no,hidden=yes\");var hideBlockUi = function() {iabRef.show();$.unblockUI();};var iabClose = function(data) {window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();};iabRef.addEventListener(\"loadstop\", loadStop);}}",
          "androidpackage": "com.instructure.teacher",
          "playstoreurl": "https://play.google.com/store/apps/details?id=com.instructure.teacher&hl=en",
          "iosuri": "canvas-courses://feu.instructure.com",
          "itunesurl": "https://itunes.apple.com/us/app/canvas-teacher/id1257834464?mt=8"
        }
      ]
    },
    {
      "id": 5303,
      "name": "FinAid2",
      "displayname": "Financial Aid",
      "logo": "Massasoit/FinAid2.png",
      "logourl": "Massasoit/FinAid2.png",
      "description": "Fin Aid",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FINAID",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "FinAid2Page4",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorFinAid2Page4(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.showtermdet = function(obj1) {\r\n        /*\r\n            if (window.device) {\r\n                navigator.notification.alert(message, null, title, null);\r\n            } else {\r\n                apprise(message, {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n            }\t\r\n*/\r\n\r\n        $location.path(\"/app/FinAid2/FinAid2Page5\").search(\"index\", obj1);\r\n    }\r\n\r\n\r\n}",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\"> \r\n        <div class=\"panel-heading\"> \r\n            <h3 class=\"panel-title\">Account Balance : \r\n                <span class=\"pull-right\">{{accsummbyterm.accountbalancesummary[0].ACCT_TOTAL | currency:\"$\":2}}<\/span> \r\n            <\/h3> \r\n        <\/div> \r\n    <div class=\"panel-body\">\r\n        <div class=\"list-group\" ng-repeat=\"acc in  accsummbyterm.accountbalancebyterm\">\r\n            <a class=\"list-group-item panel-subgroup-link\" data-message={{acc.TBRACCD_TERM_CODE}} ng-click=\"showtermdet($index);\"> {{acc.STVTERM_DESC}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/a>\r\n            \r\n            <div class=\"list-group-item\">Total Charges : <span class=\"pull-right\">{{acc.totc | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Total Payment : <span class=\"pull-right\">{{acc.totp | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Total Balance : <span class=\"pull-right\">{{acc.totb | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n        <\/div>  \r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2Page5",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinAid2Page5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.termdesc = $rootScope.accsummbyterm.accountbalancebyterm[$routeParams.index].STVTERM_DESC;\r\n    $scope.acctdet = $rootScope.accsummbyterm.accountbalancebyterm[$routeParams.index].accdetails;\r\n}",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\"> \r\n        <div class=\"panel-heading\"> \r\n          <h3 class=\"panel-title\">{{termdesc}} <\/h3> \r\n        <\/div> \r\n    <div class=\"panel-body\">\r\n        <div class=\"list-group\" ng-repeat=\"acc in  acctdet\">\r\n            <a class=\"list-group-item panel-subgroup-link\">{{acc.TBBDETC_DESC}}<\/a>\r\n            <div class=\"list-group-item\">Charge : <span class=\"pull-right\">{{acc.CHARGES | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Payment : <span class=\"pull-right\">{{acc.PAYMENT | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Balance : <span class=\"pull-right\">{{acc.BALANCE | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n        <\/div>  \r\n    <\/div>\r\n<\/div>",
          "endpoint": ""
        },
        {
          "pageid": "FinAid2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/services/student/bannerfinaidyears",
          "datatemplate": "<style>\r\n    .menu-style1 {\r\n        border-radius: 30px;\r\n        text-align: center;\r\n    }\r\n<\/style>\r\n<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" style=\"background:transparent;\">\r\n            <select ng-model=\"selyear\" class=\"form-control\" ng-change=\"yearselect(this.value);\">\r\n                <option value=\"\">-- Select Aid Year --<\/option>\r\n                <option ng-selected=\"selyear == year.AIDY\" value=\"{{year.AIDY}}\" ng-repeat=\"year in finaidyears\">{{year.DESCRIPTION}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:none;\">\r\n            <div class=\"list-group\">\r\n                <div class=\"list-group-item menu-style\" style=\"margin:5px;font-size:16px;\" ng-click=\"stureq();\">Requirements<span class=\"pull-right fa fa-chevron-right\"><\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item menu-style\" style=\"margin:5px;font-size:16px;\" ng-click=\"awards();\">Awards<span class=\"pull-right fa fa-chevron-right\"><\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item menu-style\" style=\"margin:5px;font-size:16px;\" ng-click=\"accsumm();\">Account Summary by Term<span class=\"pull-right fa fa-chevron-right\"><\/span>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"panel-body hide\">\r\n            <div class=\"list-group\">\r\n                <div ng-repeat=\"sr in finaidreqs.studentrequirements\">\r\n                    <a class=\"list-group-item active\">{{sr.DESCRIPTION}}<\/a>\r\n                    <div class=\"list-group-item\">Status: <span class=\"pull-right badge\">{{sr.STATUS}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Date:<span class=\"pull-right badge\">{{sr.STATUS_CHANGE_DATE}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Satisfied:\r\n                        <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND == 'Y'\"><\/span>\r\n                        <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND != 'Y'\"><\/span>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorFinAid2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        $scope.finaidyears = data.finaidyears;\r\n    });\r\n    //\r\n    $scope.stureq = function() {\r\n        \r\n        if ($scope.selyear == \"\" || $scope.selyear == undefined) {\r\n            var message = \"Please select Aid year\";\r\n            if (window.device) {\r\n                navigator.notification.alert(message, null, title, null);\r\n            } else {\r\n                apprise(message, {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n            }\r\n            return;\r\n        }\r\n        $rootScope.selyear = $scope.selyear;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinaidstudentrequirements/aidy=\" + $scope.selyear, function(data) {\r\n            $rootScope.finaidreqs = data;\r\n            $location.path(\"/app/FinAid2/FinAid2Page2\");\r\n        });\r\n    }\r\n    $scope.awards = function() {\r\n        if ($scope.selyear == \"\" || $scope.selyear == undefined) {\r\n            var message = \"Please select Aid year\";\r\n            if (window.device) {\r\n                navigator.notification.alert(message, null, title, null);\r\n            } else {\r\n                apprise(message, {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n            }\r\n            return;\r\n        }\r\n        $rootScope.selyear = $scope.selyear;\r\n        /*\r\n         $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinaidawards/aidy=\" + $scope.selyear, function(data) {\r\n             $rootScope.finaidawards = data;\r\n             $location.path(\"/app/FinAid2/FinAid2Page3\");\r\n         });\r\n         */\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinaidawardoverview/aidy=\" + $scope.selyear, function(data) {\r\n            $rootScope.awardoverview = data;\r\n            var coatotal = 0;\r\n            // Calculate COA totals\r\n            $.each(data.costattendance, function(cindex, coarec) {\r\n                coatotal = coatotal + Number(coarec.AMOUNT);\r\n            });\r\n            // Award details \r\n            var awards = data.awarddetails;\r\n            var sortawards = awards;\r\n\r\n            function SortByFundCode(x, y) {\r\n                return ((x.RPRAWRD_FUND_CODE == y.RPRAWRD_FUND_CODE) ? 0 : ((x.RPRAWRD_FUND_CODE > y.RPRAWRD_FUND_CODE) ? 1 : -1));\r\n            }\r\n\r\n\r\n            sortawards.sort(SortByFundCode);\r\n            var prevfund = null;\r\n            var curfund = null;\r\n            var funddesc = null;\r\n            var prevfunddesc = null;\r\n            var curstatus = null;\r\n            var prevstatus = null;\r\n            var totamt = 0;\r\n            var fundsumm = [];\r\n            var htmlscript = \"\";\r\n            var found = false;\r\n            var offeramt = 0;\r\n            var prevofferamt = 0;\r\n            $.each(sortawards, function(index, award) {\r\n                found = true;\r\n                curfund = award.RPRAWRD_FUND_CODE;\r\n                funddesc = award.RFRBASE_FUND_TITLE;\r\n                curstatus = award.RTVAWST_DESC;\r\n                offeramt = Number(award.RPRATRM_OFFER_AMT);\r\n                if (index == 0) {\r\n                    prevfund = curfund;\r\n                    prevfunddesc = funddesc;\r\n                    prevstatus = curstatus;\r\n                    prevofferamt = offeramt;\r\n                }\r\n                //alert(prevfund + ' - ' + curfund);\r\n                if (prevfund == curfund) {\r\n                    totamt = totamt + offeramt;\r\n                    //alert('total=' + totamt);\r\n                } else {\r\n                    //alert('total:::' + totamt);\r\n                    fundsumm.push({\r\n                        \"FUND\": prevfund,\r\n                        \"FUND_TITLE\": prevfunddesc,\r\n                        \"STATUS\": prevstatus,\r\n                        \"OFFERED\": totamt\r\n                    });\r\n                    prevfund = curfund;\r\n                    prevfunddesc = funddesc;\r\n                    prevofferamt = offeramt;\r\n                    totamt = offeramt;\r\n                    //alert('offer total:::' + totamt);\r\n                }\r\n\r\n            });\r\n            if (found) {\r\n                fundsumm.push({\r\n                    \"FUND\": curfund,\r\n                    \"FUND_TITLE\": funddesc,\r\n                    \"STATUS\": curstatus,\r\n                    \"OFFERED\": totamt\r\n                });\r\n            }\r\n\r\n            var awardgrandtot = 0;\r\n            $.each(fundsumm, function(index, val) {\r\n                awardgrandtot = awardgrandtot + Number(val.OFFERED);\r\n            });\r\n            $rootScope.awardoverview = {\r\n                \"needcalculation\": data.CLASSLOOKUP[0],\r\n                \"housing\": data.housing,\r\n                \"awarddetails\": data.awarddetails,\r\n                \"costattendance\": data.costattendance,\r\n                \"coatotal\": coatotal,\r\n                \"cumulativeloaninfo\": data.cumulativeloaninfo,\r\n                \"awardsummary\": fundsumm,\r\n                \"awardsummtotal\": awardgrandtot\r\n            };\r\n\r\n            $location.path(\"/app/FinAid2/FinAid2Page3\");\r\n        });\r\n\r\n\r\n    }\r\n\r\n    $scope.accsumm = function() {\r\n            $rootScope.selyear = $scope.selyear;\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinaidaccountsummarybyterm\", function(data) {\r\n                var prevterm = null;\r\n                var curterm = null;\r\n                var totcharges = 0;\r\n                var totpayments = 0;\r\n                var totbalance = 0;\r\n                var accsummbyterm = [];\r\n                var accsumm = null;\r\n                $.each(data.accountbalancebyterm, function(index, val) {\r\n                    curterm = val.TBRACCD_TERM_CODE;\r\n                    if (curterm != prevterm) {\r\n                        prevterm = curterm;\r\n                        accsumm = {\r\n                            \"TBRACCD_TERM_CODE\": val.TBRACCD_TERM_CODE,\r\n                            \"STVTERM_DESC\": val.STVTERM_DESC,\r\n                            totc: Number(val.CHARGES),\r\n                            totp: Number(val.PAYMENT),\r\n                            totb: Number(val.BALANCE),\r\n                            accdetails: []\r\n                        };\r\n                        accsumm.accdetails.push(val);\r\n                        accsummbyterm.push(accsumm);\r\n                    } else {\r\n                        accsumm.accdetails.push(val);\r\n                        accsumm.totc = accsumm.totc + Number(val.CHARGES);\r\n                        accsumm.totp = accsumm.totp + Number(val.PAYMENT);\r\n                        accsumm.totb = accsumm.totb + Number(val.BALANCE);\r\n                    }\r\n                });\r\n\r\n                $rootScope.accsummbyterm = {\r\n                    \"accountbalancebyterm\": accsummbyterm,\r\n                    \"accountbalancesummary\": data.accountbalancesummary\r\n                };\r\n                $location.path(\"/app/FinAid2/FinAid2Page4\");\r\n            });\r\n        }\r\n\r\n}"
        },
        {
          "pageid": "FinAid2Page3",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinAid2Page3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}",
          "endpoint": "",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Need Calculation: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <ul class=\"list-group\" ng-repeat=\"calc in awardoverview.needcalculation\">\r\n                <li class=\"list-group-item\">Cost of Attendance:<span class=\"pull-right\">{{calc.COA | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Estimated Family Contribution:<span class=\"pull-right\">{{calc.EFC | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Initial Need:<span class=\"pull-right\">{{calc.init | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Outside Resource:<span class=\"pull-right\">{{calc.outsideresource | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Need:<span class=\"pull-right\">{{calc.need | currency:\"$\":2}}<\/span> <\/li>\r\n            <\/ul>\r\n\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Cost of Attendance: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            \r\n                <div class=\"list-group-item\" ng-repeat=\"crow in awardoverview.costattendance\">{{crow.DESCRIPTION}}<span class=\"pull-right\">{{crow.AMOUNT | currency:\"$\":2}}<\/span> <\/div>\r\n            \r\n\r\n        <\/div>\r\n        <div class=\"panel-footer\">\r\n            <div>Totals : <span class=\"pull-right\">{{awardoverview.coatotal | currency:\"$\":2}} <\/span> <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Cumulative Loan Information: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"row list-group\">\r\n                <div class=\"col-xs-8 col-sm-8\"><strong>Loan Type<\/strong> <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\"><strong>Amount<\/strong>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].SUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Subsidized <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].SUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Unsubsidized <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].GRADUATEPLUS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Graduate PLUS <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].GRADUATEPLUS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].PARENTPLUS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Parent PLUS <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].PARENTPLUS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].PERKINS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Perkins <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].PERKINS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group\" ng-if=\"awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Direct Unsubsidized (TEACH) <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Financial Aid Award Summary: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"list-group\" ng-repeat=\"fund in awardoverview.awardsummary\">\r\n                <a class=\"list-group-item active\" style=\"background:#0E9D81 !important;\">Fund : <span>{{fund.FUND_TITLE}}<\/span><\/a>\r\n                <div class=\"list-group-item\">Status : <span class=\"pull-right\">{{fund.STATUS}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Amount : <span class=\"pull-right\">{{fund.OFFERED | currency:\"$\":2}}<\/span>\r\n                <\/div>\r\n\r\n            <\/div>\r\n\r\n        <\/div>\r\n        <div class=\"panel-footer\">\r\n            Totals: <span class=\"pull-right\">{{awardoverview.awardsummtotal | currency:\"$\":2}}<\/span>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2Page2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinAid2Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}",
          "endpoint": "",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"list-group\">\r\n        <div ng-repeat=\"sr in finaidreqs.studentrequirements\">\r\n            <a class=\"list-group-item active\" style=\"background: #FFB477 !important;border-top: 1px solid #E45849 !important; border-bottom: 1px solid #E45849 !important; color:#272727 !important;\">>{{sr.DESCRIPTION}}<\/a>\r\n            <div class=\"list-group-item\">Status: <span class=\"pull-right badge\" style=\"background:#A2423A;color:#fff;border-radius:5px;\">{{sr.STATUS}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Date:<span class=\"pull-right badge\" style=\"background:#A2423A;color:#fff;border-radius:5px;\">{{sr.STATUS_CHANGE_DATE}}<\/span>\r\n            <\/div> \r\n            <div class=\"list-group-item\">Satisfied:\r\n                <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND == 'Y'\"><\/span>\r\n                <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND != 'Y'\"><\/span>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 5306,
      "name": "HoldsB1",
      "displayname": "Holds",
      "logo": "Massasoit/HoldsB1.png",
      "logourl": "Massasoit/HoldsB1.png",
      "description": "Holds",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "HoldsB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>#branding{display:none;}<\/style>\r\n<div class=\"\">\r\n  <div class=\"panel\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n            <div style=\"padding-top:10px;\" ng-repeat=\"hld in hold\">\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\">\r\n                        <h5 class=\"panel-title\">{{hld.HOLD_DESCRIPTION}}<\/h5>\r\n                    <\/div>\r\n                    <div class=\"panel-body\">\r\n                        <div class=\"list-group\">\r\n                            <div class=\"list-group-item\">\r\n                                Hold Initiated By:<span class=\"pull-right\">{{hld.USERNAME}}<\/span>\r\n                            <\/div>                            \r\n                            <div class=\"list-group-item\">\r\n                                Start Date :<span class=\"pull-right\">{{hld.HOLD_START_DATE}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                End Date :<span class=\"pull-right\">{{hld.HOLD_END_DATE}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Reason Code:<span class=\"pull-right\">{{hld.REASON}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\">\r\n                                Amount Owed :<span class=\"pull-right\">{{hld.AMOUNT_OWED | currency:\"$\":2}}<\/span>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "/services/student/bannerhold",
          "pageprocessor": "function pageprocessorHoldsB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function(data) {\r\n        if (data.hold.length == 0) {\r\n            apprise(\"You have no holds at this time.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n                $rootScope.$apply(function() {\r\n                    $location.path(\"/home\");\r\n                });\r\n            });\r\n\r\n        } else {\r\n\r\n            $scope.hold = data.hold;\r\n        }\r\n    });\r\n}"
        }
      ]
    },
    {
      "id": 5312,
      "name": "FinalGradeB1",
      "displayname": "Final Grades (current term)",
      "logo": "Massasoit/FinalGradeB1.png",
      "logourl": "Massasoit/FinalGradeB1.png",
      "description": "Final Grade",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "FinalGradeB1",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/services/student/bannerfinalgradetermdropdown",
          "datatemplate": "<div class=\"\">\r\n  <div class=\"panel panel-info panel-inverse\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" style=\"background:transparent;\">\r\n            <select id=\"termid\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"termselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in gradesdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n            <div class=\"panel-body\" style=\"background:transparent;padding-left:4px !important;padding-right:4px !important;\">\r\n            <div style=\"padding-top:10px;\" ng-repeat=\"fg in finalgrade\">\r\n              <div class=\"panel panel-primary\" style=\"border:none;box-shadow:0 0 20px #000;\">\r\n                <div class=\"panel-heading\">\r\n                    <h5 class=\"panel-title\">{{fg.COURSE_TITLE}} {{fg.SUBJECT_CODE}} {{fg.COURSE_NUMBER}}<\/h5>\r\n                    <\/div>\r\n                    <div class=\"panel-body\">\r\n                        <div class=\"list-group\">\r\n                            <div class=\"list-group-item\" style=\"font-weight:bold;\">\r\n                                CRN:<span class=\"pull-right\">{{fg.CRN}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item\" style=\"font-weight:bold;\">\r\n                                Campus:<span class=\"pull-right\">{{fg.CAMPUS}}<\/span>\r\n                            <\/div>                            \r\n                            <div class=\"list-group-item clearfix\" style=\"font-weight:bold;\">\r\n                                Final Grade:<span class=\"pull-right\" ng-if=\"fg.FINAL_GRADE == '-'\" style=\"width:50%;\">You have no grade to display.<\/span><span ng-if=\"fg.FINAL_GRADE != '-'\" class=\"pull-right badge\">{{fg.FINAL_GRADE}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>                    \r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>  ",
          "pageprocessor": "function pageprocessorFinalGradeB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $.blockUI();\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function (data) {\r\n        $scope.gradesdropdown = data.dropdown;\r\n      if(data.dropdown.length == 1) {\r\n        $scope.selterm = data.dropdown[0].TERM_CODE;\r\n        $scope.termselect();\r\n      }\r\n    });\r\n\r\n\r\n    $scope.termselect = function (termcode) {\r\n        $.blockUI();\r\n        $('#termid').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerfinalgrade/termCode=\" + $scope.selterm, function (data) {\r\n            $scope.finalgrade = data.finalgrade;\r\n        });\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 5315,
      "name": "LookupClasses",
      "displayname": "Lookup Classes",
      "logo": "Massasoit/LookupClasses.png",
      "logourl": "Massasoit/LookupClasses.png",
      "description": "Lookup Classes",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FACULTY",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "LookupClassesDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLookupClassesDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n        var prevValue = \"\";\r\n        var vindex = 0;\r\n\r\n        $scope.classes = [];\r\n\r\n        $scope.classforregister = $rootScope.classlookup;\r\n        angular.forEach($scope.classforregister, function (value, key) {\r\n\r\n            if (value[0].TIME.length > 8) {\r\n                value[0].TIME_DISPLAY = value[0].TIME.split(\" \")[1];\r\n            } else {\r\n                value[0].TIME_DISPLAY = \"TBA\";\r\n            }\r\n            value[0].ONLINE_COURSE = false;\r\n            if ( (value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) && \r\n                 (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n                 (value[0].TIME == \"TBA\")) {\r\n                value[0].ONLINE_COURSE = true;\r\n                //console.log(value[0].CRN+\" is online course.\")\r\n            }\r\n\r\n            var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n            value[0].WEEK_DATA = [{\r\n                \"LABEL\": \"Mon\",\r\n                \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Tue\",\r\n                \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Wed\",\r\n                \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Thu\",\r\n                \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Fri\",\r\n                \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Sat\",\r\n                \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }, {\r\n                \"LABEL\": \"Sun\",\r\n                \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n            }];\r\n            if (!value[0].schedule){\r\n                value[0].schedule = [];\r\n            }\r\n            value[0].schedule.push( {\r\n                \"DURATION\": value[0].DURATION,\r\n                \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n                \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n                \"TIME\": value[0].TIME,\r\n                \"LOCATION\": value[0].LOCATION,\r\n                \"WEEK_DATA\": value[0].WEEK_DATA\r\n            });\r\n            //console.log(value[0].schedule);\r\n            //\r\n            if (prevValue == \"\") {\r\n                $scope.classes.push(value[0]); \r\n                prevValue = value[0];\r\n            } else if (prevValue.CRN == value[0].CRN && \r\n                       prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n                       prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n                       prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n                       prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n                $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n            } else {\r\n                vindex++;\r\n                $scope.classes.push(value[0]); \r\n                prevValue = value[0];                \r\n            } \r\n\r\n                   \r\n        });\r\n    console.log($scope.classes);\r\n}",
          "endpoint": "",
          "datatemplate": "<div class=\"1container well\" style=\"background:none;border:none;overflow-x:hidden;\" >\r\n  <div class=\"row\" ng-repeat=\"course in classes\">\r\n        <div class=\"col-sm-12\">\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                  <div class=\"panel-heading\">\r\n                  <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                        <span>{{course.COURSE_ID}}<\/span>\r\n                <\/div>\r\n                <ul class=\"list-group\">\r\n                    <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                        <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                        <br/>Credits :\r\n                        <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n<!--                         <br/>Instructor :\r\n                        <span class=\"pull-right\">{{course.INSTRUCTOR}}<\/span>\r\n                        <br/>Duration :\r\n                        <span class=\"pull-right\">{{course.DURATION}}<\/span>\r\n                        <br/>Time :\r\n                        <span class=\"pull-right\">{{course.TIME_DISPLAY}}<\/span>\r\n                        <br/>Actual Time :\r\n                        <span class=\"pull-right\">{{course.TIME}}<\/span>\r\n                        <br/>Location :\r\n                        <span class=\"pull-right\">{{course.LOCATION}}<\/span> -->\r\n                    <\/li>\r\n                    <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                Capacity\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.CAPACITY}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Remaining\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.REMAINING}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Occupied\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/li> \r\n                    <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                        <strong>Schedule:<\/strong>\r\n                    <\/li>                                        \r\n                    <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                        <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong><br/>\r\n                        <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong><br/>\r\n                        <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span><br/>\r\n                        <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                        <ul class=\"list-group\">\r\n                            <li class=\"list-group-item\" ng-hide = \"course.ONLINE_COURSE\" style=\"padding:0px;margin-top:5px;\">\r\n                                <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                    <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                                <\/div>\r\n                            <\/li>  \r\n\r\n                            <li class=\"list-group-item clearfix\" ng-show = \"course.ONLINE_COURSE\">\r\n                                <span class=\"badge\">Online Class<\/span>\r\n                            <\/li>                            \r\n                        <\/ul>                      \r\n                    <\/li>\r\n                    <li class=\"list-group-item\" ng-hide = \"course.ONLINE_COURSE\">\r\n                      <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                    <\/li>\r\n \r\n                                     \r\n                <\/ul>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n"
        },
        {
          "pageid": "LookupClasses",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    input[type=text] {\r\n        border-radius: 4px;\r\n    }\r\n<\/style>\r\n<div>\r\n    <div class=\"1container\" style=\"margin-left:5px;margin-right:5px;overflow-x:hidden;\">\r\n        <div class=\"row\">\r\n            <div class=\"col-xs-12 col-md-12 form-horizontal ng-pristine ng-valid\">\r\n                <fieldset>\r\n\r\n                    <!-- Name input-->\r\n                    <div class=\"form-group\" style=\"margin-top:10px;\">\r\n\r\n                        <div class=\"col-xs-12 col-md-12\">\r\n                            <select id=\"termid\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">-- Search By Term --<\/option>\r\n                                <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <!-- Email input-->\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-xs-12 col-md-12\">\r\n                            <select id=\"subjid\" ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Subject --<\/option>\r\n                                <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                            <\/select>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <div class=\"form-group\">\r\n                      <label for=\"name\" class=\"col-xs-6 col-md-6 control-label\" style=\"color:#fff;\">Course Number<\/label>\r\n                        <div class=\"col-xs-6 col-md-6\">\r\n                            <input type=\"text\" class=\"form-control\"  name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name\" class=\"col-xs-4 col-md-4 control-label\" style=\"color:#fff;\">Title<\/label>\r\n                        <div class=\"col-xs-8 col-md-8\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"name\" class=\"col-xs-4 col-md-4 control-label\" style=\"color:#fff;\">Credit Range<\/label>\r\n                        <div class=\"col-xs-3 col-md-3\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                        <\/div>\r\n                        <label for=\"name\" class=\"col-xs-2 col-md-2 control-label\" style=\"color:#fff;\">To<\/label>\r\n                        <div class=\"col-xs-3 col-md-3\">\r\n                            <input type=\"text\" class=\"form-control\" placeholder=\"\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                        <\/div>\r\n\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-md-12 col-xs-12\">\r\n                            <select ng-model=\"selectedInstructor\" class=\"form-control\">\r\n                                <option value=\"\">-- Search Instructor --<\/option>\r\n                                <option value=\"{{inst.SPRIDEN_PIDM}}\" ng-repeat=\"inst in listdata.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}}, {{inst.SPRIDEN_FIRST_NAME}} <\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                    <!-- Form actions -->\r\n                    <div class=\"form-group\">\r\n                        <div class=\"col-md-12 text-right\">\r\n                            <div ng-click=\"search();\" class=\"btn btn-primary btn-block btn-xs pull-right\" style=\"padding: 10px 5px;width: 160px;margin: auto;\">Search Classes<\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/fieldset>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorLookupClasses(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.selectedSubject = \"\";\r\n    $scope.courseNumber = \"\";\r\n    $scope.partTermCode = \"\";\r\n    $scope.selectedInstructor = \"\";\r\n    $scope.courseTitle = \"\";\r\n    $scope.creditFrom = \"\";\r\n    $scope.creditTo = \"\";\r\n    $scope.selectedvalue = \"\";\r\n\r\n    var termdropdownURL = \"/services/student/bannertermsForClassLookup\";\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + termdropdownURL, function (data) {\r\n        $scope.termdropdown = data.termdropdown;\r\n    });\r\n\r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        var otherSearchParamsURL = \"/services/student/bannergetOtherClassSearchParams/termCode=\";\r\n        $('#termid').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + otherSearchParamsURL + $scope.selectedvalue, function (data) {\r\n            $scope.listdata = data;\r\n        });\r\n    }\r\n\r\n    $scope.search = function () {\r\n        if ($scope.selectedvalue == \"\") {\r\n            if (window.device) {\r\n                alert(\"Please select term code\");\r\n            } else {\r\n                apprise(\"Please select term code\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n            if (window.device) {\r\n                alert(\"Please select Subject or Instructor\");\r\n            } else {\r\n                apprise(\"Please select Subject or Instructor\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n\r\n                });\r\n            }\r\n            return;\r\n        }\r\n        var searchURL = \"/services/student/bannerclasslookup/termCode=\" + $scope.selectedvalue +\r\n            \"&subjectCode=\" + $scope.selectedSubject +\r\n            \"&courseNumber=\" + $scope.courseNumber +\r\n            \"&partTermCode=\" + $scope.partTermCode +\r\n            \"&facultyPidm=\" + $scope.selectedInstructor +\r\n            \"&courseTitle=\" + $scope.courseTitle +\r\n            \"&creditFrom=\" + $scope.creditFrom +\r\n            \"&creditTo=\" + $scope.creditTo;\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + searchURL, function (data) {\r\n            if (data.CLASSLOOKUP.length == 0) {\r\n                if (window.device) {\r\n                    alert(\"No record found.\");\r\n                } else {\r\n                    apprise(\"No record found.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n\r\n                    });\r\n                }\r\n            } else {\r\n                $rootScope.classlookup = data.CLASSLOOKUP;\r\n                $location.path(\"/app/LookupClasses/LookupClassesDetails\");\r\n            }\r\n        });\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 5318,
      "name": "ACCSummary",
      "displayname": "Account Summary",
      "logo": "Massasoit/ACCSummary.png",
      "logourl": "Massasoit/ACCSummary.png",
      "description": "Account Summary",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "ACCSummary",
          "pageTemplate": "<div><\/div>",
          "dropdownendpoint": "/services/student/bannertermswithaccountsummary",
          "datatemplate": "<div class=\"\">\r\n  <div class=\"panel panel-info panel-inverse\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" style=\"background:transparent;\">\r\n            <select id=\"termid\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termswithaccountsummary\">{{term.DESCRIPTION}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;padding-left:2px !important;padding-right:2px !important;padding-top:2px !important;\">\r\n\r\n            <div  ng-show=\"listdata\">\r\n                <div class=\"list-group custom-list-group\">\r\n                    <a href=\"#\" class=\"list-group-item custom-list-group-anchor\">\r\n                        <h4 class=\"list-group-item-heading list-group-heading-text-font\">Current Account Balance - All Terms<\/h4>\r\n                        <p class=\"list-group-item-text list-group-text-font \">{{dropdown.totalaccountbalance[0].ACCOUNT_BALANCE}}<\/p>\r\n                    <\/a>\r\n                <\/div>\r\n                 <div class=\"list-group custom-list-group\" >\r\n                    <a href=\"#\" class=\"list-group-item custom-list-group-anchor\">\r\n                        <h4 class=\"list-group-item-heading list-group-heading-text-font\" >Account Summary<\/h4>\r\n                        <p class=\"list-group-item-text list-group-text-font \">{{listdata.accountbalance[0].ACCOUNT_BALANCE}}<\/p>\r\n                    <\/a> \r\n                <\/div>\r\n             \r\n\r\n                <div class=\"panel panel-primary\" style=\"margin-top:2px;\">\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                        Detail Summary<\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\" ng-repeat=\"sum in listdata.summary\">\r\n                        <a class=\"list-group-item active panel-subgroup-link\" >{{sum.DESCRIPTION}}, {{sum.DETAIL_CODE}}<\/a>\r\n                        <li class=\"list-group-item\">Charge : <span class=\"pull-right\">{{sum.CHARGE}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Payment : <span class=\"pull-right\">{{sum.PAYMENT}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Balance : <span class=\"pull-right\">{{sum.BALANCE}}<\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>",
          "listendpoint": "/services/student/banneraccountsummary/termCode=",
          "pageprocessor": "function pageprocessorACCSummary(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function (data) {\r\n        $scope.dropdown = data;\r\n    });\r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        $scope.listdata = null;\r\n        $('#termid').blur();\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function (data) {\r\n            $scope.listdata = data;\r\n        });\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 5321,
      "name": "RegStatus",
      "displayname": "Registration Status",
      "logo": "Massasoit/RegStatus.png",
      "logourl": "Massasoit/RegStatus.png",
      "description": "Registration Status",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegStatus",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorRegStatus(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function (data) {\r\n       $scope.dropdown = data;\r\n      if(data.currenttermforclasslookup && data.currenttermforclasslookup.length > 0) {\r\n          $scope.selectedvalue = data.currenttermforclasslookup[0].CURRENT_TERM;\r\n          $scope.dropdownselect();\r\n      }\r\n    });    \r\n    $scope.dropdownselect = function (selectedvalue) {\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function (data) {\r\n          $scope.listdata = data;\r\n          $('#termid').blur();\r\n        });        \r\n    }\r\n}",
          "dropdownendpoint": "/services/student/bannertermsForClassLookup",
          "listendpoint": "/services/student/bannerregistrationstatus/termCode=",
          "datatemplate": "<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" style=\"background:transparent;\">\r\n            <select id=\"termid\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"background:transparent;\">\r\n\r\n          <div style=\"padding-top:10px;\" ng-show=\"listdata\">\r\n                <div class=\"panel panel-primary\" >\r\n                    <div class=\"panel-heading\">\r\n                        <h3 class=\"panel-title\">\r\n                          Registration<span class=\"pull-right fa fa-times\" style=\"font-size:14px;color:red;\">&nbsp;<span style=\"color:#fff;\">Not Good<\/span><\/span><span class=\"pull-right fa fa-check\" style=\"font-size:14px;color:green;\">&nbsp;<span style=\"color:#fff;\">Good<\/span><\/span><\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\">\r\n                        <li class=\"list-group-item\">Student Status :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.STUDENT_STATUS == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.STUDENT_STATUS != 'Permit'\"><\/span>\r\n\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Academic Standing :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.ACADEMIC_STANDING == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.ACADEMIC_STANDING != 'Permit'\"><\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Holds :\r\n                            <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"listdata.HOLDS == 'Permit'\"><\/span>\r\n                            <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"listdata.HOLDS != 'Permit'\"><\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n                <div class=\"panel panel-primary\">\r\n                    <div class=\"panel-heading\" >\r\n                        <h3 class=\"panel-title\">Credit Information<\/h3>\r\n                    <\/div>\r\n                    <ul class=\"list-group\" ng-repeat=\"cinfo in listdata.CREDIT_INFORMATION\">\r\n                        <a class=\"list-group-item active panel-subgroup-link\">{{cinfo[0].CREDIT_TYPE}}<\/a>\r\n                        <li class=\"list-group-item\">Level : <span class=\"pull-right\">{{cinfo[0].LEVEL_DESC}}<\/span>\r\n                        <\/li>\r\n                        <li class=\"list-group-item\">Hours : <span class=\"pull-right\">{{cinfo[0].HOURS}}<\/span>\r\n                        <\/li>\r\n                    <\/ul>\r\n                <\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>"
        }
      ]
    },
    {
      "id": 5324,
      "name": "WAG",
      "displayname": "My Class Schedule",
      "logo": "Massasoit/WAG.png",
      "logourl": "Massasoit/WAG.png",
      "description": "Week at Glance",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "WAG",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorWAG(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var todayDate = new Date();\r\n    $scope.weekdata = [{\r\n        style: \"\",\r\n        label: \"Mon\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Tue\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Wed\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Thu\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Fri\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Sat\",\r\n        data: []\r\n    }, {\r\n        style: \"\",\r\n        label: \"Sun\",\r\n        data: []\r\n    }];\r\n\r\n    $scope.selectDay = function(day) {\r\n        for (var i = 0; i < 7; i++) {\r\n            $scope.weekdata[i].style = \"\";\r\n        }\r\n        $scope.weekdata[day].style = \"btn-success\";\r\n      if($scope.weekdata[day].data == 0){\r\n        $(\"#NoWeekClasses\").show();$(\"#WeekClasses\").hide();\r\n      }else{\r\n        $(\"#NoWeekClasses\").hide();$(\"#WeekClasses\").show();\r\n      }\r\n        $scope.weekataglance = $scope.weekdata[day].data;\r\n\r\n    }\r\n    var curDayIndex = todayDate.getDay() == 0 ? 6 : todayDate.getDay() - 1;\r\n    $scope.weekdata[curDayIndex].style = \"btn-success\";\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data) {\r\n        $scope.dropdown = data;\r\n        //$scope.selectedvalue = data.termsStudentHasClasses[0].TERM_CODE;\r\n        //$scope.dropdownselect();\r\n    });\r\n\r\n    $scope.dropdownselect = function(selectedvalue) {\r\n        $('#termid').blur();\r\n        for (var i = 0; i < 7; i++) {\r\n            $scope.weekdata[i].data = [];\r\n        }\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n            $scope.listdata = data;\r\n            angular.forEach(data.weekataglance, function(value, key) {\r\n                if (value.MON_DAY != \"\" && value.MON_DAY != null) {\r\n                    this[0].data.push(value);\r\n                }\r\n                if (value.TUE_DAY != \"\" && value.TUE_DAY != null) {\r\n                    this[1].data.push(value);\r\n                }\r\n                if (value.WED_DAY != \"\" && value.WED_DAY != null) {\r\n                    this[2].data.push(value);\r\n                }\r\n                if (value.THU_DAY != \"\" && value.THU_DAY != null) {\r\n                    this[3].data.push(value);\r\n                }\r\n                if (value.FRI_DAY != \"\" && value.FRI_DAY != null) {\r\n                    this[4].data.push(value);\r\n                }\r\n                if (value.SAT_DAY != \"\" && value.SAT_DAY != null) {\r\n                    this[5].data.push(value);\r\n                }\r\n                if (value.SUN_DAY != \"\" && value.SUN_DAY != null) {\r\n                    this[6].data.push(value);\r\n                }\r\n\r\n            }, $scope.weekdata);\r\n            $scope.selectDay(curDayIndex);\r\n        });\r\n    }\r\n}",
          "listendpoint": "/services/student/bannerweekataglance/termCode=",
          "datatemplate": "<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-heading panel-heading-inverse\" style=\"background:transparent;\">\r\n            <select id=\"termid\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termsStudentHasClasses\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"padding-left:0px;padding-right:0px;background:transparent;\">\r\n\r\n            <div>\r\n                <div class=\"btn-group\" style=\"margin:5px;padding:0;margin-bottom:14px;padding:0;text-align:center;width:100%;\">\r\n                    <button class=\"btn-mini btn-warning\" ng-repeat=\"week in weekdata\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/button>\r\n                <\/div>\r\n                <div class=\"1container\" style=\"margin-left:5px; margin-right:5px; overflow-x:hidden;\">\r\n                    <div id=\"WeekClasses\">\r\n                        <ul class=\"list-group\" ng-repeat=\"wag in weekataglance\">\r\n                            <li class=\"list-group-item\" style=\"border-bottom: 5px solid #BC393A;border-radius:4px;\">{{wag.DESCRIPTION}}\r\n                            <br/>Place: {{wag.PLACE}} <span ng-show=\"wag.ROOM != ''\">Room {{wag.ROOM}}<\/span>\r\n                                <br/>Time: {{wag.CLASS_TIME}}\r\n                                <br/>CRN: {{wag.CRN}}\r\n                            <\/li>\r\n                        <\/ul>\r\n                    <\/div>\r\n                    <div style='color:#ffffff;font-weight:bold;text-shadow:none;' ng-show=\"weekataglance.length == 0\" id='NoWeekClasses'>You have no classes.<\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "dropdownendpoint": "/services/student/bannertermsStudentHasClasses"
        }
      ]
    },
    {
      "id": 5327,
      "name": "AccTranscript",
      "displayname": "Academic Transcript",
      "logo": "Massasoit/AccTranscript.png",
      "logourl": "Massasoit/AccTranscript.png",
      "description": "Academic Transcript",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "AccTranscript",
          "pageTemplate": "<div><\/div>",
          "listendpoint": "/services/student/bannertranscripts/levl=",
          "pageprocessor": "function pageprocessorAccTranscript(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/bannerblockTranscriptsGrades\", function(data) {\r\n        if (data.blockTranscriptsGrades.length > 0 ) {\r\n             if (data.blockTranscriptsGrades[0].BLOCKTRANSCRIPTS == 'Y' || data.blockTranscriptsGrades[0].BLOCKGRADES == 'Y' ) {\r\n                if (window.device) {\r\n                    var doNothing = function() {\r\n                        $rootScope.$apply(function() {\r\n                            $location.path(\"/home\");\r\n                        });\r\n                    };\r\n                    navigator.notification.alert(\"Your transcript is not available due to holds on your record.\", doNothing, 'Alert', 'Ok');\r\n                } else {\r\n                    apprise(\"Your transcript is not available due to holds on your record.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        $rootScope.$apply(function() {\r\n                            $location.path(\"/home\");\r\n                        });\r\n                    });\r\n                }\r\n             } else {\r\n                $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data1) {\r\n                    $scope.dropdown = data1;\r\n                    if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n                        $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n                        $('#credittype').blur();\r\n                    }                     \r\n/*                    if ($scope.dropdown.transcriptleveldropdown.length == 1) {\r\n                        $scope.selectedvalue = $scope.dropdown.transcriptleveldropdown[0].LEVEL_CODE;\r\n                        $scope.dropdownselect($scope.selectedvalue);\r\n                    }*/\r\n                });            \r\n             }\r\n        } else {\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.dropdownendpoint, function(data1) {\r\n                $scope.dropdown = data1;\r\n                if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n                    $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n                    $('#credittype').blur();\r\n\r\n                }                 \r\n/*                if ($scope.dropdown.transcriptleveldropdown.length == 1) {\r\n                    $scope.selectedvalue = $scope.dropdown.transcriptleveldropdown[0].LEVEL_CODE;\r\n                    $scope.dropdownselect($scope.selectedvalue);\r\n                } */               \r\n            });             \r\n        }\r\n\r\n\r\n    });\r\n\r\n    $scope.dropdownselect = function(selectedvalue) {\r\n        $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n            $scope.listdata = data;\r\n            $scope.creditselect($scope.creditselectedvalue);\r\n            $('#level').blur();\r\n        });\r\n    }\r\n    $scope.creditselect = function(selectedvalue) {\r\n        $scope.transfer = null;\r\n        $scope.institution = null;\r\n        $scope.transcripts = null;\r\n        // if ($scope.creditselectedvalue == \"transfer\") {\r\n            var transfer = {\r\n                attempted: 0,\r\n                passed: 0,\r\n                earned: 0,\r\n                gpa: 0,\r\n                credit: 0\r\n            };\r\n            transfer.attempted = angular.isUndefined($scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS;\r\n            transfer.passed = angular.isUndefined($scope.listdata.transfer_data_total[0][0].PASSED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].PASSED_HOURS;\r\n            transfer.earned = angular.isUndefined($scope.listdata.transfer_data_total[0][0].EARNED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].EARNED_HOURS;\r\n            transfer.gpa = angular.isUndefined($scope.listdata.transfer_data_total[0][0].GPA_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].GPA_HOURS;\r\n            transfer.credit = angular.isUndefined($scope.listdata.transfer_data_total[0][0].QUALITY_POINTS) ? 0 : $scope.listdata.transfer_data_total[0][0].QUALITY_POINTS;\r\n            $scope.transfer = transfer;\r\n        // } else if ($scope.creditselectedvalue == \"institution\") {\r\n            $scope.institution = \"data\";\r\n            var totalinst = {\r\n                ah: 0,\r\n                ph: 0,\r\n                eh: 0,\r\n                gpah: 0,\r\n                qp: 0\r\n            };\r\n            angular.forEach($scope.listdata.institutioncredits, function(value, key) {\r\n                this.ah += parseFloat(value.ATTEMPTED_HOURS);\r\n                this.ph += parseFloat(value.SHRTCKG_PASS_HOURS);\r\n                this.eh += parseFloat(value.SHRTCKG_EARN_HOURS);\r\n                this.gpah += parseFloat(value.SHRTCKG_GPA_HOURS);\r\n                this.qp += parseFloat(value.SHRTCKG_QUAL_PTS);\r\n            }, totalinst);\r\n            $scope.insttotal = totalinst;\r\n\r\n        // } else if ($scope.creditselectedvalue == \"transcripts\") {\r\n            $scope.transcripts = \"data\";\r\n            angular.forEach($scope.listdata.transcripttotal, function(value, key) {\r\n                if (value.TRANSCRIPT_TYPE == \"I\") {\r\n                    $scope.totalinst = value;\r\n                } else if (value.TRANSCRIPT_TYPE == \"T\") {\r\n                    $scope.totaltrans = value;\r\n                } else if (value.TRANSCRIPT_TYPE == \"Z\") {\r\n                    $scope.cumulative = value;\r\n                }\r\n            });\r\n        // }\r\n\r\n    }\r\n}",
          "datatemplate": "<style>\r\n    ul.list-group > li.list-group-item:nth-child(2n-1) {\r\n        background: #EBEBEB;\r\n    }\r\n    \r\n    li.active > a {\r\n        background: #C9D0DA !important;\r\n        color: #000 !important;\r\n    }\r\n    \r\n    .nav-tabs .active {\r\n        background: #C9D0DA !important;\r\n    }\r\n<\/style>\r\n<div class=\"1container\" style=\"margin-left:5px;margin-right:5px;overflow-x:hidden;\">\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"form-group\">\r\n                <label><\/label>\r\n                <select id=\"level\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                    <option value=\"\">-- Select a Transcript Level --<\/option>\r\n                    <option ng-selected=\"selectedvalue == level.LEVEL_CODE\" value=\"{{level.LEVEL_CODE}}\" ng-repeat=\"level in dropdown.transcriptleveldropdown\">{{level.LEVEL_DESC}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"row\">\r\n        <div class=\"col-sm-12\">\r\n            <div class=\"form-group\">\r\n                <label><\/label>\r\n                <select id=\"credittype\" ng-model=\"creditselectedvalue\" class=\"form-control\" ng-change=\"creditselect(this.value);\">\r\n                    <option value=\"\">-- Select Credit Type --<\/option>\r\n                    <option ng-selected=\"creditselectedvalue == crtype.TRANSCRIPT_CODE\" value=\"{{crtype.TRANSCRIPT_CODE}}\" ng-repeat=\"crtype in dropdown.transcripttypedropdown\">{{crtype.TRANSCRIPT_DESC}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div ng-show=\"selectedvalue != null && selectedvalue != ''\">\r\n        <div class=\"btn-group justified nav-tabs\" style=\"background:#181F3C; color:#fff; border:1px solid; border-radius:4px;\">\r\n            <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">Transfer Credit<\/a>\r\n            <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">Institution Credit<\/a>\r\n            <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">Transcript Totals<\/a>\r\n\r\n        <\/div>\r\n        <!--<ul class=\"nav nav-tabs\" style=\"background:#181F3C; color:#fff; border:1px solid; border-radius:4px;\">\r\n            <li><a href=\"#Tab1\" style=\"color:#fff;text-align:center;\" toggle=\"on\" parent-active-class=\"active\">Transfer<\/br>Credit<\/a>\r\n            <\/li>\r\n            <li><a href=\"#Tab2\" style=\"color:#fff;text-align:center;border-radius:0px;\" toggle=\"on\" parent-active-class=\"active\">Institution<\/br>Credit<\/a>\r\n            <\/li>\r\n            <li><a href=\"#Tab3\" style=\"color:#fff;text-align:center;border-radius:0px;\" toggle=\"on\" parent-active-class=\"active\">Transcript<\/br>Totals<\/a>\r\n            <\/li>\r\n        <\/ul>-->\r\n        <div class=\"tab-content\" style=\"margin-top:5px;\">\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-12\">\r\n                        <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                            <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;\">\r\n                                <h3 class=\"panel-title\">\r\n                                        Total Transfer<\/h3>\r\n                            <\/div>\r\n                            <ul class=\"list-group\">\r\n                                <li class=\"list-group-item\">Attempted Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.attempted}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Passed Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.passed}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Earned Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.earned}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">GPA Hrs:\r\n                                    <span class=\"pull-right\">{{transfer.gpa}}<\/span>\r\n                                <\/li>\r\n                                <li class=\"list-group-item\">Quality Pts:\r\n                                    <span class=\"pull-right\">{{transfer.credit}}<\/span>\r\n                                <\/li>\r\n\r\n                            <\/ul>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                <div>\r\n                    <div class=\"row\" ng-repeat=\"inst in listdata.institutioncredits\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                      {{inst.SHRTCKN_SUBJ_CODE}} {{inst.SHRTCKN_CRSE_NUMB}}-{{inst.SHRTCKN_SEQ_NO}}\r\n                                    <\/h3>\r\n                                    <p style=\"margin-bottom:0px;\">{{inst.SHRTCKN_CRSE_TITLE}}<\/p>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Grade :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_GRDE_CODE_FINAL}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Credit Hours :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_CREDIT_HOURS}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts :\r\n                                        <span class=\"pull-right\">{{inst.SHRTCKG_QUAL_PTS}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                      Total Institution\r\n                                    <\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.ah | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.ph | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.eh | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hours:\r\n                                        <span class=\"pull-right\">{{insttotal.gpah | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{insttotal.qp | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{listdata.transcripttotal[0].GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n                <div>\r\n                    <div class=\"row\" ng-show=\"totalinst\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Total Institution<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{totalinst.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{totalinst.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{totalinst.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Total Transfer<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{totaltrans.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{totaltrans.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{totaltrans.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-12\">\r\n                            <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                                <div class=\"panel-heading\" style=\"background:#00162f;box-shadow:0 0 10px #fff;min-height:35px;padding:10px;\">\r\n                                    <h3 class=\"panel-title\">\r\n                                        Cumulative<\/h3>\r\n                                <\/div>\r\n                                <ul class=\"list-group\">\r\n                                    <li class=\"list-group-item\">Attempted Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.ATTEMPT_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Passed Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.PASSED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Earned Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.EARNED_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA Hrs:\r\n                                        <span class=\"pull-right\">{{cumulative.GPA_HOURS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">Quality Pts:\r\n                                        <span class=\"pull-right\">{{cumulative.QUALITY_POINTS | number:3}}<\/span>\r\n                                    <\/li>\r\n                                    <li class=\"list-group-item\">GPA:\r\n                                        <span class=\"pull-right\">{{cumulative.GPA | number:3}}<\/span>\r\n                                    <\/li>\r\n                                <\/ul>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n\r\n\r\n\r\n\r\n<\/div>",
          "dropdownendpoint": "/services/student/bannertranscriptdropdown"
        }
      ]
    },
    {
      "id": 5330,
      "name": "RegistrationB1",
      "displayname": "Registration",
      "logo": "Massasoit/RegistrationB1.png",
      "logourl": "Massasoit/RegistrationB1.png",
      "description": "Registration",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegistrationB1Details",
          "pageTemplate": "<div><\/div>",
          "endpoint": null,
          "pageprocessor": "function pageprocessorRegistrationB1Details(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    var type = $routeParams.type;\r\n    var termCode = $routeParams.termCode;\r\n    var subjCode = $routeParams.subjCode;\r\n    $scope.termCode = termCode;\r\n    $scope.loadCurrentClasses = function () {\r\n        var url = $rootScope.middlewareServerUrl + \"/services/student/bannerstudentDetailSchedule/termCode=\" + termCode;\r\n        $rootScope.getAPI(url, function (data) {\r\n            if (data.scheduleCourseDetail && data.scheduleCourseDetail.length > 0) {\r\n                $scope.scheduleCourseDetail = data.scheduleCourseDetail;\r\n                angular.forEach($scope.scheduleCourseDetail, function (value, key) {\r\n                    if (value.REG_CODE_DESC.indexOf('Drop') >= 0 || value.REG_CODE_DESC.indexOf('Delete') >= 0) {\r\n                        value.DROPPABLE = false;\r\n                        value.DESC_STYLE = {\r\n                            color: \"red\"\r\n                        }\r\n                    } else {\r\n                        value.DROPPABLE = true;\r\n                        value.DESC_STYLE = {}\r\n                    }\r\n                });\r\n            } else {\r\n                apprise(\"No current classes could be found for selected term code\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    $rootScope.$apply(function () {\r\n                        $location.path(\"/app/RegistrationB1/RegistrationB1\");\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n    if (type == \"lookup\") {\r\n        $scope.isadd = true;\r\n        var url = $rootScope.middlewareServerUrl + \"/services/student/bannerstudentDetailSchedule/termCode=\" + termCode +\r\n            \"&subjectCode=\" + subjCode;\r\n        $rootScope.getAPI(url, function (data) {\r\n            var lookupUrl = $rootScope.middlewareServerUrl + \"/services/student/bannerclasslookup/termCode=\" + termCode +\r\n                \"&subjectCode=\" + subjCode;\r\n            $rootScope.getAPI(lookupUrl, function (datalookup) {\r\n                if (datalookup.CLASSLOOKUP) {\r\n                    var prevValue = \"\";\r\n                    var vindex = 0;\r\n\r\n                    $scope.classes = [];\r\n\r\n                    $scope.classforregister = datalookup.CLASSLOOKUP;\r\n                    angular.forEach($scope.classforregister, function (value, key) {\r\n\r\n                        if (value[0].TIME.length > 8) {\r\n                            value[0].TIME_DISPLAY = value[0].TIME.split(\" \")[1];\r\n                        } else {\r\n                            value[0].TIME_DISPLAY = \"TBA\";\r\n                        }\r\n                        value[0].ONLINE_COURSE = false;\r\n                        /*if ( (value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) && \r\n                             (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n                             (value[0].TIME == \"TBA\")) {\r\n                            value[0].ONLINE_COURSE = true;\r\n                            console.log(value[0].CRN+\" is online course.\")\r\n                        }*/\r\n\r\n                        var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n                        value[0].WEEK_DATA = [{\r\n                            \"LABEL\": \"Mon\",\r\n                            \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Tue\",\r\n                            \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Wed\",\r\n                            \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Thu\",\r\n                            \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Fri\",\r\n                            \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Sat\",\r\n                            \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Sun\",\r\n                            \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }];\r\n                        if (!value[0].schedule){\r\n                            value[0].schedule = [];\r\n                        }\r\n                        value[0].schedule.push( {\r\n                            \"DURATION\": value[0].DURATION,\r\n                            \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n                            \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n                            \"TIME\": value[0].TIME,\r\n                            \"LOCATION\": value[0].LOCATION,\r\n                            \"WEEK_DATA\": value[0].WEEK_DATA\r\n                        });\r\n                        //console.log(value[0].schedule);\r\n                        //\r\n                        if (prevValue == \"\") {\r\n                            $scope.classes.push(value[0]); \r\n                            prevValue = value[0];\r\n                        } else if (prevValue.CRN == value[0].CRN && \r\n                                   prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n                                   prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n                                   prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n                                   prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n                            $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n                        } else {\r\n                            vindex++;\r\n                            $scope.classes.push(value[0]); \r\n                            prevValue = value[0];                \r\n                        } \r\n                            \r\n                    });\r\n                    console.log($scope.classes);\r\n\r\n/*                    $scope.classforregister = datalookup.CLASSLOOKUP;\r\n                    angular.forEach($scope.classforregister, function (value, key) {\r\n                        if (value[0].TIME.length > 8) {\r\n                            value[0].TIME_DISPLAY = value[0].TIME.split(\" \")[1];\r\n                        } else {\r\n                            value[0].TIME_DISPLAY = \"To Be Announced\";\r\n                        }\r\n                        var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n                        value[0].WEEK_DATA = [{\r\n                            \"LABEL\": \"Mon\",\r\n                            \"AVAIL\": days.indexOf(\"M\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Tue\",\r\n                            \"AVAIL\": days.indexOf(\"T\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Wed\",\r\n                            \"AVAIL\": days.indexOf(\"W\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Thu\",\r\n                            \"AVAIL\": days.indexOf(\"R\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Fri\",\r\n                            \"AVAIL\": days.indexOf(\"F\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Sat\",\r\n                            \"AVAIL\": days.indexOf(\"S\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }, {\r\n                            \"LABEL\": \"Sun\",\r\n                            \"AVAIL\": days.indexOf(\"U\") != -1,\r\n                            \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-default\"\r\n                        }];\r\n                    });*/\r\n\r\n                }\r\n            });\r\n        });\r\n    } else if (type == \"current\") {\r\n        $scope.isadd = false;\r\n        $scope.loadCurrentClasses();        \r\n    }\r\n\r\n    $scope.registerStudent = function (crn) {\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/bannerregisterStudent\";\r\n        var postdata = \"termCode=\" + $scope.termCode + \"&crn=\" + crn;\r\n        /*var data = {\r\n            p_msg_out: \"Registration request successfully processed.\"\r\n        };*/\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n        if (data.p_msg_out) {\r\n            apprise(data.p_msg_out, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function (r) {\r\n                $rootScope.$apply(function () {\r\n                    $location.path(\"/app/RegistrationB1/RegistrationB1\");\r\n                });\r\n            });\r\n        }\r\n        });\r\n    }\r\n\r\n    $scope.dropStudent = function (crn) {\r\n        var endpoint = $rootScope.middlewareServerUrl + \"/services/student/bannerdropStudent\";\r\n        var postdata = \"termCode=\" + $scope.termCode + \"&crn=\" + crn;\r\n        /*var data = {\r\n            p_msg_out: \"Registration request successfully processed.\"\r\n        };*/\r\n        $rootScope.postAPI(endpoint, postdata, function (data) {\r\n        if (data.p_msg_out) {\r\n            apprise(data.p_msg_out, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function (r) {\r\n                $scope.loadCurrentClasses();\r\n            });\r\n        }\r\n        });\r\n    }\r\n\r\n    $scope.dropStudentConfirm = function (crn) {\r\n\r\n        var onConfirm = function (buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                $scope.dropStudent(crn);\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to drop class?', // message\r\n                onConfirm, // callback to invoke with index of button pressed\r\n                'Drop Class', // title\r\n                ['Yes', 'No'] // buttonLabels\r\n            );\r\n        } else {\r\n            apprise(\"Are you sure you want to drop class?\", {\r\n                'verify': true,\r\n                'textYes': \"Yes\",\r\n                'textNo': \"No\"\r\n            }, function (r) {\r\n                if (r) {\r\n                    $scope.dropStudent(crn);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n\r\n}",
          "datatemplate": "<div class=\"1container well\" style=\"background:none;border:none;overflow-x:hidden;\" ng-show=\"isadd\">\r\n  <div class=\"row\" ng-repeat=\"course in classes\">\r\n        <div class=\"col-sm-12\">\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;border-radius:2px;\">\r\n                  <div class=\"panel-heading\" >\r\n                  <h5 class=\"panel-title\">{{course.TITLE}} <\/h5>\r\n                        <span>{{course.COURSE_ID}}<\/span>\r\n                <\/div>\r\n                <ul class=\"list-group\">\r\n                    <li class=\"list-group-item\"><strong>CRN :<\/strong>\r\n                        <span class=\"badge badge-message\" style=\"border-radius:5px;\">{{course.CRN}}<\/span>\r\n                        <br/>Credits :\r\n                        <span class=\"pull-right\">{{course.CREDIT_HOURS}}<\/span>\r\n<!--                         <br/>Instructor :\r\n                        <span class=\"pull-right\">{{course.INSTRUCTOR}}<\/span>\r\n                        <br/>Duration :\r\n                        <span class=\"pull-right\">{{course.DURATION}}<\/span>\r\n                        <br/>Time :\r\n                        <span class=\"pull-right\">{{course.TIME_DISPLAY}}<\/span>\r\n                        <br/>Actual Time :\r\n                        <span class=\"pull-right\">{{course.TIME}}<\/span>\r\n                        <br/>Location :\r\n                        <span class=\"pull-right\">{{course.LOCATION}}<\/span> -->\r\n                    <\/li>\r\n                    <li class=\"list-group-item\" style=\"padding:5px !important;border-bottom-left-radius:4px;border-bottom-right-radius:4px;\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                Capacity\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.CAPACITY}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Remaining\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course.REMAINING}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Occupied\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course.ACTUAL}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/li> \r\n                    <li class=\"list-group-item\" style=\"background:rgba(0,0,0,0.1);line-height:10px;font-style:italic;\">\r\n                        <strong>Schedule:<\/strong>\r\n                    <\/li>                                        \r\n                    <li class=\"list-group-item\" ng-repeat=\"sch in course.schedule\">\r\n                        <strong> Duration: <span class=\"pull-right\">{{sch.DURATION}}<\/span> <\/strong><br/>\r\n                        <strong> Time: <span class=\"pull-right\">{{sch.TIME_DISPLAY}}<\/span> <\/strong><br/>\r\n                        <span>Instructor: <span class=\"pull-right\">{{sch.INSTRUCTOR}}<\/span><\/span><br/>\r\n                        <span>Location: <span class=\"pull-right\">{{sch.LOCATION}}<\/span><\/span>\r\n                        <ul class=\"list-group\">\r\n                            <li class=\"list-group-item\" ng-hide = \"course.ONLINE_COURSE\" style=\"padding:0px;margin-top:5px;\">\r\n                                <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                                    <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in sch.WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                                <\/div>\r\n                            <\/li>  \r\n\r\n                            <li class=\"list-group-item clearfix\" ng-show = \"course.ONLINE_COURSE\">\r\n                                <span class=\"badge\">Online Class<\/span>\r\n                            <\/li>                            \r\n                        <\/ul>                      \r\n                    <\/li>\r\n                    <li class=\"list-group-item\" ng-hide = \"course.ONLINE_COURSE\">\r\n                      <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available Days\r\n                      <button class=\"pull-right btn btn-success btn-xs active \" ng-click=\"registerStudent(course.CRN);\">Register<\/button>\r\n                    <\/li>\r\n\r\n\r\n<!--                     <li class=\"list-group-item registration-lookup-available\" >\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center\" style=\"color:#000111;\">\r\n                                Capacity\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course[0].CAPACITY}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Remaining\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\" >{{course[0].REMAINING}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"col-xs-4 col-md-4 col-text-center \" style=\"color:#000111;\">\r\n                                Occupied\r\n                                <br/><span class=\"text-center badge badge-message badge-circle\" style=\"border:1px solid orange\">{{course[0].ACTUAL}}<\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/li>\r\n\r\n                    <li class=\"list-group-item\">\r\n                        <div class=\"btn-group btn-group-xs\" style=\"box-shadow:0 0 30px grey;\">\r\n                            <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn btn-default\" ng-repeat=\"day in course[0].WEEK_DATA \">{{day.LABEL}}<\/button>\r\n                        <\/div>\r\n                    <\/li>\r\n                    <li class=\"list-group-item clearfix \">\r\n                      <div class=\"pull-left btn-success \" style=\"height:15px;width:15px;border:1px solid;margin-right:5px \"><\/div>Available\r\n\r\n                        <button class=\"pull-right btn btn-success btn-xs active \" ng-click=\"registerStudent(course[0].CRN);\">Register<\/button>\r\n                    <\/li> -->\r\n                <\/ul>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>\r\n\r\n<div class=\"1container well \" style=\"background:none;overflow-x:hidden; \" ng-show=\"!isadd \">\r\n    <div class=\"row \" ng-repeat=\"course in scheduleCourseDetail \">\r\n        <div class=\"col-sm-12 \">\r\n                <div class=\"panel panel-primary\" style=\"border:2px solid #fff;\">\r\n                  <div class=\"panel-heading\" style=\"box-shadow:0 0 10px #fff;padding:5px;\">\r\n                    <h3 class=\"panel-title \">\r\n                          {{course.COURSE_TITLE}} {{course.SUBJ_CODE}}-{{course.COURSE_NUMB}}\r\n                        <\/h3>\r\n                <\/div>\r\n                <ul class=\"list-group \">\r\n                    <li class=\"list-group-item \">CRN :\r\n                        <span class=\"pull-right \">{{course.CRN}}<\/span>\r\n                        <br/>Credits :\r\n                        <span class=\"pull-right \">{{course.CREDIT_HR}}<\/span>\r\n                        <br/><span ng-style=\"{{course.DESC_STYLE}}\">{{course.REG_CODE_DESC}}<\/span>\r\n                        <span class=\"pull-right \">{{course.REG_DATE}}<\/span>\r\n                    <\/li>\r\n                    <li class=\"list-group-item clearfix \">\r\n                        <button class=\"pull-right btn btn-danger btn-xs \" ng-show=\"course.DROPPABLE\" ng-click=\"dropStudent(course.CRN);\">Drop class<\/button>\r\n                    <\/li>\r\n                <\/ul>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "RegistrationB1",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"\">\r\n    <div class=\"panel panel-info panel-inverse\">\r\n        <div class=\"panel-heading panel-heading-inverse\">\r\n            <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                <option value=\"\" >-- Select a Term  --<\/option>\r\n                <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in terms\">{{term.TERM_DESC}}<\/option>\r\n            <\/select>\r\n        <\/div>\r\n        <div class=\"panel-body registration-page\" style=\"padding:0px;margin-left:10px;margin-right:10px;\">\r\n            <div class=\"1well\" ng-show=\"showaltpin && !servererror && selectedvalue\" style=\"margin-left:20px;margin-right:20px;margin-bottom:15px;overflow-x:hidden;\">\r\n                <form method=\"post\" action=\"\" class=\"form-horizontal ng-pristine ng-valid\">\r\n                    <div class=\"row\" style=\"margin:5px !important;\">\r\n                        <div class=\"form-group\">\r\n                            <label for=\"name\" class=\"col-xs-12 col-md-6\">Please Enter Your Registration Pin:<\/label>\r\n                            <div class=\"col-xs-12 col-md-6\">\r\n                                <input type='text' class=\"form-control\" pattern=\"[0-9]*\" required=\"required\" placeholder='Pin' ng-model=\"altpin\" />\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <button type=\"submit\" class=\"btn btn-primary btn-block\" ng-click=\"validatePin()\">Validate Pin<\/button>\r\n                <\/form>\r\n            <\/div>\r\n            <div class=\"well registration-page\" style=\"border:none;\" ng-show=\"!showaltpin && !servererror && selectedvalue\">\r\n                <form method=\"post\" action=\"\" class=\"form-horizontal ng-pristine ng-valid\">\r\n                    <h4 class=\"text-center\" style=\"color:#000;\">Add Classes Worksheet<\/h4>\r\n                    <div class=\"row\">\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-1 col-md-1\"><\/div>\r\n                            <label class=\"col-xs-2 col-md-2 control-label text-right\" for=\"name\" style=\"color:#000;\">CRN<\/label>\r\n                            <div class=\"col-xs-8 col-md-8 input-group\">\r\n                                <input type=\"text\"  pattern=\"[0-9]*\" id=\"crn\" name=\"crn\" ng-model=\"crn\" placeholder=\"CRN\" class=\"form-control \">\r\n                                <span class=\"input-group-btn\">\r\n                                    <button class=\"btn btn-primary btn-add active\" ng-click=\"registerStudent()\" type=\"button\">Submit\r\n                                    <\/button>\r\n                                <\/span>\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n                    <\/div>\r\n                    <button type=\"submit\" class=\"btn btn-primary btn-block\" ng-show=\"lookedup\" ng-click=\"openlookup()\">Lookup Classes<\/button>\r\n                    <div class=\"alert alert-info\" style=\"margin-top:10px;\" ng-show=\"!lookedup\">\r\n                        <div class=\"text-center\" style=\"color:#494949;\">Available Subjects<\/div>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-12 col-md-12\">\r\n                                <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                    <option ng-selected=\"selectedSubject == subj.SUBJECT_CODE\" value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                                <\/select>\r\n\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-6\">\r\n                                <div class=\"btn btn-primary btn-block col-xs-6 btn-sm\" ng-click=\"lookedup = true\">Cancel<\/div>\r\n                            <\/div>\r\n                            <div class=\"col-xs-6\">\r\n                                <div class=\"btn btn-primary btn-block col-xs-6 btn-sm active\" ng-click=\"lookup()\">Lookup<\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n                    <\/div>\r\n                    <div class=\"btn btn-primary btn-block\" style=\"margin-top:10px;\" ng-click=\"current()\">Current Classes<\/div>\r\n                <\/form>\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorRegistrationB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    var termdropdownURL = \"/services/student/bannertermsForRegistrationLookup\";\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + termdropdownURL, function(data) {\r\n        $scope.terms = data.termDropDown;\r\n        //$scope.terms = [{\"TERM_CODE\": \"201504\",\"TERM_DESC\":\"Second Summer 5 week term 2015\"}];\r\n\r\n        if (angular.isArray($scope.terms) && $scope.terms.length > 0) {\r\n            $scope.selectedvalue = $scope.terms[0].TERM_CODE;\r\n            $scope.dropdownselect($scope.selectedvalue);\r\n        }\r\n    });\r\n\r\n    $scope.lookedup = true;\r\n    $scope.showaltpin = false;\r\n    $scope.showregoptions = false;\r\n    $scope.altpin = \"\";\r\n    $scope.servererror = false;\r\n\r\n\r\n    $scope.dropdownselect = function(term) {\r\n        $('#termselect').blur();\r\n        var termCode = $scope.selectedvalue;\r\n        $scope.servererror = true; \r\n\r\n        if (termCode != \"\") {\r\n            //Request student pin\r\n            var pinUrl = \"/services/student/banneraddlPinReqd/termCode=\" + termCode;\r\n            $rootScope.getAPI($rootScope.middlewareServerUrl + pinUrl, function(data) {\r\n                if (data.error) {\r\n                    //some issue with service.\r\n                    $scope.servererror = true;\r\n                    apprise(\"Internal server issue.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {});  \r\n\r\n                }  else if (data.addlPinReqd && data.addlPinReqd.length >= 1) {\r\n                    $scope.servererror = false;\r\n                    if (data.addlPinReqd[0].REQUIRED == \"true\") {\r\n                        // Ask for student pin and validate\r\n                        $scope.showaltpin = true;\r\n                    } else {\r\n                        $scope.showaltpin = false;\r\n                    }\r\n                } else {\r\n                    $scope.servererror = false;\r\n                    $scope.showaltpin = false;\r\n                }\r\n\r\n            });\r\n        }        \r\n    }\r\n\r\n    $scope.validatePin = function() {\r\n        if (!$scope.altpin) {\r\n            apprise(\"Please enter PIN and retry !\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {});   \r\n            return;         \r\n        } \r\n        if ( /^[0-9]*$/.test($scope.altpin) == false) {\r\n            apprise(\"Only numeric values are allowed !\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {});   \r\n            return;              \r\n        }\r\n        \r\n        var pinUrl = $rootScope.middlewareServerUrl + \"/services/student/bannervalidateAddlPin\";\r\n        var postdata = \"termCode=\" + $scope.selectedvalue + \"&pin=\" + $scope.altpin;\r\n        $rootScope.postAPI(pinUrl, postdata, function(data) {\r\n            if (data.validateAddlPin.length >= 1) {\r\n                if (data.validateAddlPin[0].SUCCESS == \"true\") {\r\n                    $scope.showaltpin = false;\r\n                } else {\r\n                    apprise(\"The Pin you have entered is invalid. Please enter a valid Pin.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {});\r\n                }\r\n            } else {\r\n                apprise(\"The Pin you have entered is invalid. Please enter a valid Pin.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    $scope.openlookup = function() {\r\n        if (!$scope.selectedvalue) {\r\n            apprise(\"Please select a term for registration.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n                return false;\r\n            });\r\n        } else {\r\n            $scope.lookedup = false;\r\n            var url = $rootScope.middlewareServerUrl + \"/services/student/bannergetOtherClassSearchParams/termCode=\" + $scope.selectedvalue;\r\n            $rootScope.getAPI(url, function(data) {\r\n                $scope.listdata = data;\r\n                if (angular.isArray($scope.listdata.subjectDropDown) && $scope.listdata.subjectDropDown.length > 0) {\r\n                    $scope.selectedSubject = $scope.listdata.subjectDropDown[0].SUBJECT_CODE;\r\n                }\r\n            });            \r\n        }\r\n\r\n    }\r\n\r\n    $scope.lookup = function() {\r\n        if (!$scope.selectedvalue) {\r\n            apprise(\"Please select a term for registration.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n                return false;\r\n            });\r\n        }  else {\r\n            $location.url(\"/app/RegistrationB1/RegistrationB1Details?type=lookup&termCode=\" + $scope.selectedvalue + \"&subjCode=\" + $scope.selectedSubject);\r\n        }       \r\n        \r\n        /*?type=lookup&termCode=\" + $scope.selectedvalue + \"&subjCode=\" + $scope.selectedSubject); */\r\n    }\r\n\r\n    $scope.current = function() {\r\n        if (!$scope.selectedvalue) {\r\n            apprise(\"Please select a term for registration.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n                return false;\r\n            });\r\n        }  else {\r\n            $location.url(\"/app/RegistrationB1/RegistrationB1Details?type=current&termCode=\" + $scope.selectedvalue);\r\n        }      \r\n        \r\n\r\n    }\r\n\r\n    $scope.registerStudent = function() {\r\n        if (!$scope.selectedvalue) {\r\n            apprise(\"Please select a term for registration.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {\r\n                return false;\r\n            });\r\n        }  else {\r\n            if (!$scope.crn) {\r\n                apprise(\"Please enter CRN\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n                return;\r\n            }\r\n            var endpoint = $rootScope.middlewareServerUrl + \"/services/student/bannerregisterStudent\";\r\n            var postdata = \"termCode=\" + $scope.selectedvalue + \"&crn=\" + $scope.crn;\r\n           /*\r\n            var data = {\r\n                p_msg_out: \"Registration request successfully processed.\"\r\n            };\r\n            */\r\n            $rootScope.postAPI(endpoint, postdata, function (data) {\r\n            if (data.p_msg_out) {\r\n                apprise(data.p_msg_out, {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/app/RegistrationB1/RegistrationB1\");\r\n                    });\r\n                });\r\n            } else if (data.error) {\r\n                    apprise(\"Invalid CRN \" + data.error, {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {\r\n                        $rootScope.$apply(function() {\r\n                            $location.path(\"/app/RegistrationB1/RegistrationB1\");\r\n                        });\r\n                    });\r\n                }\r\n            });            \r\n        }       \r\n\r\n    }\r\n}",
          "endpoint": null
        }
      ]
    },
    {
      "id": 5333,
      "name": "EContact",
      "displayname": "Emergency Contact",
      "logo": "Massasoit/EContact.png",
      "logourl": "Massasoit/EContact.png",
      "description": "Emergency Contact",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FACULTY,EMPLOYEE",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "EContact",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorEContact(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pagedef.endpoint, function (data) {\r\n        $scope.emergencycontactcodes = data;\r\n        $rootScope.countrycodes = data.countrycodes;\r\n        $rootScope.statecodes = data.statecodes;\r\n        $rootScope.relationshipcodes = data.relationshipcodes;\r\n        $scope.getCountry = function (code) {\r\n            var country = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.countrycodes, function (value, key) {\r\n                if (value.COUNTRY_CODE == code) {\r\n                    country = value.COUNTRY_DESC;\r\n                }\r\n            });\r\n            return country;\r\n        }\r\n        $scope.getState = function (code) {\r\n            var state = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.statecodes, function (value, key) {\r\n                if (value.STATE_CODE == code) {\r\n                    state = value.STATE_DESC;\r\n                }\r\n            });\r\n            return state;\r\n        }\r\n        $scope.getRelation = function (code) {\r\n            var rel = \"\";\r\n            angular.forEach($scope.emergencycontactcodes.relationshipcodes, function (value, key) {\r\n                if (value.RELATIONSHIP_CODE == code) {\r\n                    rel = value.RELATIONSHIP_DESC;\r\n                }\r\n            });\r\n            return rel;\r\n        }\r\n\r\n    });\r\n\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactfetch\", function (data) {\r\n        $scope.emergencycontacts = data.fetch;\r\n        $rootScope.emergencycontacts = data.fetch;\r\n    });\r\n\r\n    $scope.deleteCt = function (priority) {\r\n\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactdelete\", \"priority=\" + priority,\r\n            function (data) {\r\n                if (data) {\r\n                    apprise(\"Contact deleted successfully\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n                        $rootScope.$apply(function () {\r\n                            $rootScope.getAPI($rootScope.middlewareServerUrl + \"/services/student/banneremergencycontactfetch\", function (data) {\r\n                                $scope.emergencycontacts = data.fetch;\r\n                                $rootScope.emergencycontacts = data.fetch;\r\n                            });\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n    }\r\n\r\n    $scope.deleteContact = function (priority) {\r\n        var onConfirm = function (buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                $scope.deleteCt(priority);\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to delete this contact?', // message\r\n                onConfirm, // callback to invoke with index of button pressed\r\n                'Emergency Contact', // title\r\n                ['Yes', 'No'] // buttonLabels\r\n            );\r\n        } else {\r\n            apprise(\"Are you sure you want to delete this contact?\", {\r\n                'verify': true,\r\n                'textYes': \"Yes\",\r\n                'textNo': \"No\"\r\n            }, function (r) {\r\n                if (r) {\r\n                    $scope.deleteCt(priority);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n}",
          "endpoint": "/services/student/banneremergencycontactcodes",
          "datatemplate": "<div class=\"well-sm\">\r\n  <div class=\"panel panel-primary\" ng-repeat=\"ec in emergencycontacts\" style=\"background:transparent;border:none;\">\r\n        <div class=\" panel-heading\" style=\"background: none repeat scroll 0 0 #00162f;color: #FFFFFF;\">\r\n            <h3 class=\"panel-title \">\r\n                                  {{ec.FIRST_NAME}} {{ec.LAST_NAME}}\r\n<a class=\"pull-right fa fa-times\" ng-click=\"deleteContact(ec.PRIORITY)\">&nbsp;<\/a>\r\n<a href=\"#app/EContact/EContactDetails?index={{$index}}\" class=\"pull-right fa fa-pencil\">&nbsp;<\/a>\r\n\r\n<\/h3>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item \">\r\n                Relationship : <span class=\"pull-right\" ng-bind=\"getRelation(ec.RELATIONSHIP_CODE)\"><\/span>\r\n            <\/li>\r\n                <a class=\"list-group-item\" style=\"background: #F7D4F6 !important;border-top: 1px solid #E45849 !important; border-bottom: 1px solid #E45849 !important; color:#BC393A !important;font-weight:bold !important;\" >Address<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div>{{ec.HOUSE_NUMBER}}<\/div>\r\n                <div>{{ec.STREET_LINE1}}<\/div>\r\n                <div>{{ec.STREET_LINE2}}<\/div>\r\n                <div>{{ec.STREET_LINE3}}<\/div>\r\n                <div>{{ec.STREET_LINE4}}<\/div>\r\n                <div>{{ec.CITY}}<\/div>\r\n                <div ng-bind=\"getState(ec.STATE_CODE)\"><\/div>\r\n                <div>{{ec.ZIP}}<\/div>\r\n                <div ng-bind=\"getCountry(ec.COUNTRY_CODE)\"><\/div>\r\n                <div><i class=\"fa fa-phone\" />{{ec.PHONE_COUNTRY_CODE}} {{ec.PHONE_AREA}} {{ec.PHONE_NUMBER}} {{ec.PHONE_EXTN}}\r\n                    <i class=\"pull-right fa fa-chevron-right\" />\r\n                <\/div>\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class=\"1container well\">\r\n        <a class=\"btn btn-block btn-primary\" href=\"#app/EContact/EContactDetails?index=-1\">Add new Contact<\/a>\r\n    <\/div>\r\n<\/div>\r\n"
        },
        {
          "pageid": "EContactDetails",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"well-sm\">\r\n    <div class=\"panel panel-primary\">\r\n        <div class=\" panel-heading\" style=\"background: none repeat scroll 0 0 #00162f;color: #FFFFFF;\">\r\n            <h3 class=\"panel-title \">\r\n              {{btnlabel}}\r\n<\/h3>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item \">\r\n                <div class=\"form-group\">\r\n                    <label for=\"name\" class=\"control-label\">Relationship <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <select ng-model=\"emergencycontact.RELATIONSHIP_CODE\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                        <option value=\"\">Select<\/option>\r\n                        <option ng-selected=\"emergencycontact.RELATIONSHIP_CODE == rc.RELATIONSHIP_CODE\" value=\"{{rc.RELATIONSHIP_CODE}}\" ng-repeat=\"rc in relationshipcodes\">{{rc.RELATIONSHIP_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"firstName\" class=\"control-label\">First Name <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" ng-model=\"emergencycontact.FIRST_NAME\">\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"middleName\" class=\"control-label\">Middle Name<\/label>\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Middle Name\" name=\"middleName\" id=\"middleName\" ng-model=\"emergencycontact.MIDDLE_NAME\">\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"lastName\" class=\"control-label\">Last Name <span class=\"required-indicator\" style=\"color:red;\">*<\/span>\r\n                    <\/label>\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" ng-model=\"emergencycontact.LAST_NAME\">\r\n                <\/div>\r\n\r\n            <\/li>\r\n            <a class=\"list-group-item active \" style=\"background: #F7D4F6 !important;border-top: 1px solid #E45849 !important; border-bottom: 1px solid #E45849 !important; color:#BC393A !important;font-weight:bold !important;\">Address<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div class=\"form-group\">\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 1\" name=\"streetLine1\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE1\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 2\" name=\"streetLine2\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE2\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 3\" name=\"streetLine3\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE3\" />\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 4\" name=\"streetLine4\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE4\" />\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"city\" class=\"control-label\">City<\/label>\r\n                    <div class=\"\">\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"City\" name=\"city\" id=\"city\" ng-model=\"emergencycontact.CITY\">\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"state\" class=\"control-label\">State<\/label>\r\n                    <div class=\"\">\r\n                        <select ng-model=\"emergencycontact.STATE_CODE\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                            <option value=\"\">Select<\/option>\r\n                            <option ng-selected=\"emergencycontact.STATE_CODE == st.STATE_CODE\" value=\"{{st.STATE_CODE}}\" ng-repeat=\"st in statecodes\">{{st.STATE_DESC}}<\/option>\r\n                        <\/select>\r\n                    <\/div>\r\n                <\/div>                \r\n                <div class=\"form-group\">\r\n                    <label for=\"zip\" class=\"control-label\">Zip<\/label>\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Zip\" name=\"zip\" id=\"zip\" ng-model=\"emergencycontact.ZIP\">\r\n                <\/div>                \r\n                <div class=\"form-group\">\r\n                    <label for=\"country\" class=\"control-label\">Country<\/label>\r\n                    <div class=\"\">\r\n                        <select ng-model=\"emergencycontact.COUNTRY_CODE\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                            <option value=\"\">Select<\/option>\r\n                            <option ng-selected=\"emergencycontact.COUNTRY_CODE == c.COUNTRY_CODE\" value=\"{{c.COUNTRY_CODE}}\" ng-repeat=\"c in countrycodes\">{{c.COUNTRY_DESC}}<\/option>\r\n                        <\/select>\r\n                    <\/div>\r\n                <\/div>                \r\n            <\/li>\r\n            <a class=\"list-group-item active \" style=\"background: #F7D4F6 !important;border-top: 1px solid #E45849 !important; border-bottom: 1px solid #E45849 !important; color:#BC393A !important;font-weight:bold !important;\">Telephone<\/a>\r\n            <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\">\r\n                <div class=\"form-group row\">\r\n                    <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"emergencycontact.PHONE_COUNTRY_CODE\">\r\n                    <\/div>\r\n                    <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"emergencycontact.PHONE_AREA\">\r\n                    <\/div>\r\n                    <div class=\"col-xs-5 col-md-5\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"emergencycontact.PHONE_NUMBER\">\r\n                    <\/div>\r\n                    <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                        <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"emergencycontact.PHONE_EXTN\">\r\n                    <\/div>\r\n                <\/div>\r\n\r\n            <\/li>\r\n        <\/ul>\r\n    <\/div>\r\n    <div class=\"1container well \">\r\n                      <button class=\"btn btn-block btn-primary\" ng-click=\"updateContact()\">{{btnlabel}}<\/button>\r\n    <\/div>\r\n<\/div>\r\n",
          "pageprocessor": "function pageprocessorEContactDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var index = $routeParams.index\r\n    $scope.btnlabel = \"Update Contact\";\r\n    if (index == -1) {\r\n        var priority = $rootScope.emergencycontacts.length + 1;\r\n        $scope.emergencycontact = {\r\n            PRIORITY: priority,\r\n            LAST_NAME: \"\",\r\n            FIRST_NAME: \"\",\r\n            MIDDLE_NAME: \"\",\r\n            HOUSE_NUMBER: \"\",\r\n            STREET_LINE1: \"\",\r\n            STREET_LINE2: \"\",\r\n            STREET_LINE3: \"\",\r\n            STREET_LINE4: \"\",\r\n            CITY: \"\",\r\n            STATE_CODE: \"\",\r\n            COUNTRY_CODE: \"\",\r\n            ZIP: \"\",\r\n            PHONE_AREA: \"\",\r\n            PHONE_NUMBER: \"\",\r\n            PHONE_EXTN: \"\",\r\n            PHONE_COUNTRY_CODE: \"\",\r\n            RELATIONSHIP_CODE: \"\"\r\n        };\r\n        $scope.btnlabel = \"Add Contact\";\r\n    } else {\r\n        var selectedContact = $rootScope.emergencycontacts[index];\r\n        $scope.emergencycontact = selectedContact;\r\n    }\r\n\r\n    $scope.showalert = function(message, title) {\r\n        if (window.device) {\r\n            navigator.notification.alert(message, null, title, null);\r\n        } else {\r\n            apprise(message, {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n            }, function(r) {});\r\n        }\r\n    }\r\n    $scope.validateRequired = function() {\r\n        if ($scope.emergencycontact.RELATIONSHIP_CODE == \"\") {\r\n            $scope.showalert(\"Please select Relationship\", \"Emergency Contact\");\r\n            return false;\r\n        }\r\n        if ($scope.emergencycontact.FIRST_NAME.trim() == \"\") {\r\n            $scope.showalert(\"Please enter First name\", \"Emergency Contact\");\r\n            return false;\r\n        }\r\n        if ($scope.emergencycontact.LAST_NAME.trim() == \"\") {\r\n            $scope.showalert(\"Please enter Last name\", \"Emergency Contact\");\r\n            return false;\r\n        }\r\n        if ($scope.emergencycontact.COUNTRY_CODE.trim() != \"\") {\r\n            var city = $scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY;\r\n            if (city == \"\" || city.trim() == \"\") {\r\n                $scope.showalert(\"Please enter City\", \"Emergency Contact\");\r\n                return false;\r\n            }\r\n\r\n            if ($scope.emergencycontact.STREET_LINE1 == \"\") {\r\n                $scope.showalert(\"Please enter Address line 1\", \"Emergency Contact\");\r\n                return false;\r\n            }\r\n        }\r\n        return true\r\n    }\r\n    $scope.updateContact = function() {\r\n        if ($scope.validateRequired() == false) {\r\n            return;\r\n        }\r\n        var postdata = \"priority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n        postdata += \"oldPriority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n        postdata += \"lastName=\" + ($scope.emergencycontact.LAST_NAME == null ? \"\" : $scope.emergencycontact.LAST_NAME) + \"&\";\r\n        postdata += \"firstName=\" + ($scope.emergencycontact.FIRST_NAME == null ? \"\" : $scope.emergencycontact.FIRST_NAME) + \"&\";\r\n        postdata += \"middleName=\" + $scope.emergencycontact.MIDDLE_NAME + \"&\";\r\n        postdata += \"surnamePrefix=\" + $scope.emergencycontact.SURNAME_PREFIX + \"&\";\r\n        postdata += \"houseNumber=\" + ($scope.emergencycontact.HOUSE_NUMBER == null ? \"\" : $scope.emergencycontact.HOUSE_NUMBER) + \"&\";\r\n        postdata += \"streetLine1=\" + ($scope.emergencycontact.STREET_LINE1 == null ? \"\" : $scope.emergencycontact.STREET_LINE1) + \"&\";\r\n        postdata += \"streetLine2=\" + ($scope.emergencycontact.STREET_LINE2 == null ? \"\" : $scope.emergencycontact.STREET_LINE2) + \"&\";\r\n        postdata += \"streetLine3=\" + ($scope.emergencycontact.STREET_LINE3 == null ? \"\" : $scope.emergencycontact.STREET_LINE3) + \"&\";\r\n        postdata += \"streetLine4=\" + ($scope.emergencycontact.STREET_LINE4 == null ? \"\" : $scope.emergencycontact.STREET_LINE4) + \"&\";\r\n        postdata += \"city=\" + ($scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY) + \"&\";\r\n        postdata += \"stateCode=\" + $scope.emergencycontact.STATE_CODE + \"&\";\r\n        postdata += \"countryCode=\" + $scope.emergencycontact.COUNTRY_CODE + \"&\";\r\n        postdata += \"zipCode=\" + ($scope.emergencycontact.ZIP == null ? \"\" : $scope.emergencycontact.ZIP) + \"&\";\r\n        postdata += \"phoneArea=\" + ($scope.emergencycontact.PHONE_AREA == null ? \"\" : $scope.emergencycontact.PHONE_AREA) + \"&\";\r\n        postdata += \"phoneNumber=\" + ($scope.emergencycontact.PHONE_NUMBER == null ? \"\" : $scope.emergencycontact.PHONE_NUMBER) + \"&\";\r\n        postdata += \"phoneExtn=\" + ($scope.emergencycontact.PHONE_EXTN == null ? \"\" : $scope.emergencycontact.PHONE_EXTN) + \"&\";\r\n        postdata += \"phoneCountryCode=\" + ($scope.emergencycontact.PHONE_COUNTRY_CODE == null ? \"\" : $scope.emergencycontact.PHONE_COUNTRY_CODE) + \"&\";\r\n        postdata += \"reltCode=\" + $scope.emergencycontact.RELATIONSHIP_CODE;\r\n        $rootScope.postAPI($rootScope.middlewareServerUrl + pagedef.endpoint, postdata, function(data) {\r\n            if (data) {\r\n                apprise(\"Contact saved successfully\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n                    $rootScope.$apply(function() {\r\n                        $location.path(\"/app/EContact/EContact\");\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}",
          "endpoint": "/services/student/banneremergencycontactsave"
        }
      ]
    },
    {
      "id": 6445,
      "name": "myMessages",
      "displayname": "My Messages",
      "logo": "Massasoit/myMessages.png",
      "logourl": "Massasoit/myMessages.png",
      "description": "My Messages",
      "appFeatureType": "Messaging",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "myMessages",
          "pageTemplate": "<div><\/div>",
          "endpoint": null,
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n<\/style>\r\n<div>\r\n    <div class=\"list-group\">\r\n        <a class=\"list-group-item clearfix\" ng-repeat=\"alert in alerts\" href=\"#app/myMessages/myMessagesDetails?index={{$index}}\">\r\n            <div style=\"color:#000;\"><strong>{{alert.subject}}<i class=\"fa fa-chevron-circle-right pull-right fa-2x\"><\/i><\/strong>\r\n            <\/div>\r\n            <span>{{alert.source}}<\/span>\r\n            <br/>\r\n            <span>{{alert.date}}<\/span>\r\n            <span ng-show=\"alert.status == 0\" class=\"pull-right\" style=\"font-size:10px;color:#c2c2c2;\">&nbsp;&nbsp;Unread<\/span>\r\n            <span ng-show=\"alert.status == 3\" class=\"pull-right\" style=\"font-size:10px;color:#c2c2c2;\">&nbsp;&nbsp;Acknowledged<\/span>\r\n        <\/a>        \r\n        <div class=\"list-group-item\" ng-show=\"alerts.length < totalResults\">\r\n          \t<div class=\"btn btn-block\" ng-click=\"loadData()\"  style=\"color:#fff;\">Load more..<\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessormyMessages(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.curpageNum = 0;\r\n  $scope.curpageSize = 10;\r\n  $scope.alerts = [];\r\n\r\n  var baseUrl = \"https://cas.massasoit.mass.edu\";\r\n  var appURL = \"https://my.massasoit.mass.edu\";\r\n  var url = baseUrl + \"/cas/v1/tickets/\";\r\n  $rootScope.generateCASST = function(tgt, service, callback) {\r\n    var url = baseUrl + \"/cas/v1/tickets/\";\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"service=\" + service;\r\n    } else {\r\n      url = \"/websimulator/text?url=\" + baseUrl + \"/cas/v1/tickets/\";\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"service=\" + service\r\n      };\r\n    }\r\n    $.ajax({\r\n      url: url + tgt,\r\n      type: \"POST\",\r\n      async: true,\r\n      data: data,\r\n      error: function(response) {\r\n        $rootScope.generateTGT(function(tgt1) {\r\n          //Relay back the same API call\r\n          $rootScope.generateCASST(tgt1, service, callback);\r\n        });\r\n      },\r\n      success: function(data) {\r\n        callback(data);\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  $rootScope.postAPI2 = function(endpoint, postdata, callback) {\r\n    if (!$rootScope.tgtticket) {\r\n      $rootScope.generateTGT(function(tgt1) {\r\n        //Relay back the same API call\r\n        $rootScope.postAPI2(endpoint, postdata, callback);\r\n      });\r\n    } else {\r\n      $.blockUI();\r\n      $rootScope.generateCASST($rootScope.tgtticket, endpoint, function(st) {\r\n        var serviceurl = endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = postdata;\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"POST\",\r\n            body: postdata\r\n          }\r\n        }\r\n        if (window.device) {\r\n          $.ajax({\r\n            url: url,\r\n            type: \"POST\",\r\n            async: true,\r\n            data: postdata,\r\n            error: function(response) {\r\n              //alert(\"Error : \" + response);\r\n              $.unblockUI();\r\n\r\n            },\r\n            success: function(data) {\r\n              $.unblockUI();\r\n              callback(data);\r\n            }\r\n          });\r\n        } else {\r\n          $http({\r\n            method: proxyMethod,\r\n            url: url,\r\n            data: proxyData\r\n          }).\r\n          success(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            callback(data, status, headers, config);\r\n          }).\r\n          error(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n\r\n          });\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  $rootScope.getAPI2 = function(endpoint, callback) {\r\n    if (!$rootScope.tgtticket) {\r\n      $rootScope.generateTGT(function(tgt1) {\r\n        //Relay back the same API call\r\n        $rootScope.getAPI2(endpoint, callback);\r\n      });\r\n    } else {\r\n      $.blockUI();\r\n      $rootScope.generateCASST($rootScope.tgtticket, endpoint.replace(\"$$\", \"\"), function(st) {\r\n        var serviceurl = endpoint.indexOf(\"$$\") != -1 ? (endpoint.replace(\"$$\", \"?ticket=\" + st + \"\")) : (endpoint + \"?ticket=\" + st);\r\n        var url = \"\";\r\n        var proxyMethod = \"GET\";\r\n        var proxyData = {};\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n          //url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"GET\"\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  $rootScope.generateTGT = function(callback) {\r\n    $.blockUI();\r\n    var uname = $.jStorage.get(\"username\");\r\n    var password = $.jStorage.get(\"password\");\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"username=\" + uname + \"&password=\" + password;\r\n    } else {\r\n      url = \"/websimulator/text?url=\" + url;\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"username=\" + uname + \"&password=\" + password\r\n      };\r\n    }\r\n\r\n    $.ajax({\r\n      url: url,\r\n      type: \"POST\",\r\n      async: true,\r\n      data: data,\r\n      error: function(response) {\r\n        $.unblockUI();\r\n      },\r\n      success: function(data) {\r\n        $.unblockUI();\r\n      },\r\n      complete: function(response, textStatus) {\r\n        $.unblockUI();\r\n        if (textStatus == \"success\" && response.status == 201) {\r\n          var str = response.getResponseHeader('Location');\r\n          var tgtTicket = str.substr(str.lastIndexOf('/') + 1);\r\n          $rootScope.tgtticket = tgtTicket;\r\n          callback(tgtTicket);\r\n        } else {\r\n          alert(\"Oops! Error occurred while processing this request.\");\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  $scope.loadData = function() {\r\n    var pn = $scope.curpageNum + 1;\r\n   \r\n    $rootScope.getAPI2(appURL + \"/Alerts/AlertsService/AlertsInfoService/inbox\" + \"$$&pageNum=\" + pn + \"&pageSize=\" + $scope.curpageSize, function(data) {\r\n      if (data.page.length == 0) {\r\n        var gotoHome = function() {\r\n          $rootScope.$apply(function() {\r\n            $location.path(\"/home\");\r\n          });\r\n        };\r\n        if (window.device) {\r\n          navigator.notification.alert(\"No messages found.\",\r\n            gotoHome, \"Message Center\", 'Ok');\r\n\r\n        } else {\r\n          apprise(\"No messages found.\", {\r\n            'verify': false,\r\n            'textYes': \"Ok\"\r\n          }, function(r) {\r\n            gotoHome();\r\n          });\r\n        }\r\n      } else {\r\n        $scope.alerts = $scope.alerts.concat(data.page);\r\n        $rootScope.alerts = $scope.alerts;\r\n        $scope.curpageNum = data.pageNum;\r\n        $scope.curpageSize = data.pageSize;\r\n        $scope.totalResults = data.totalResults;\r\n        console.log(data);\r\n      }\r\n    });\r\n  }\r\n  $scope.loadData();\r\n}"
        },
        {
          "pageid": "myMessagesDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessormyMessagesDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n  \tvar baseUrl = \"https://my.massasoit.mass.edu\";\r\n    var index = $routeParams.index;\r\n    var alert = $rootScope.alerts[index];\r\n    $scope.alert = alert;\r\n    $scope.trusthtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n    $scope.acknowledge = function() {\r\n\r\n        var ackconfirm = function(buttonIndex) {\r\n            if (buttonIndex == 1) {\r\n                var postdata = {\r\n                    alertId: $scope.alert.id\r\n                };\r\n\r\n                $rootScope.postAPI2(baseUrl + \"/Alerts/AlertsService/AlertsInfoService/acknowledge/\" + $scope.alert.id, postdata, function(data) {\r\n                    if (data) {\r\n                        $window.history.back();\r\n                    } else {\r\n\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        if (window.device) {\r\n            navigator.notification.confirm(\r\n                'Are you sure you want to acknowledge?', // message\r\n                ackconfirm, // callback to invoke with index of button pressed\r\n                'Acknowledge', // title\r\n                ['Ok', 'Cancel'] // buttonLabels\r\n            );\r\n\r\n        } else {\r\n            apprise(\"Are you sure you want to acknowledge?\", {\r\n                'verify': true,\r\n                'textYes': \"Ok\",\r\n                'textNo': \"Cancel\"\r\n            }, function(r) {\r\n                if (r) {\r\n                    ackconfirm(1);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}",
          "datatemplate": "<style>\r\n    #branding {\r\n        display: none;\r\n    }\r\n<\/style>\r\n<div class=\"well\" style=\"background:none;border:none;color:#fff;\">\r\n    <div style='font-size:18px;font-weight:bold;text-shadow:none'>{{alert.subject}}<\/div>\r\n    <div style=\"border-bottom:2px solid gray; padding:2px 0;\">\r\n        <span style=\"font-weight:normal;font-size:12px;text-shadow:none;\">Received at:&nbsp;{{alert.date}}\r\n<span style=\"font-weight:normal; text-shadow:none; font-size:12px;\" id=\"date\"><\/span>\r\n        from <span id=\"source\" style=\"font-size:12px;text-shadow:none;font-weight:normal;\">{{alert.source}}<\/span>\r\n    <\/div>\r\n    <div style='margin-top:20px; font-size:14px; min-height:50px; text-shadow:none;' id=\"msg_Content\" ng-bind-html=\"trusthtml(alert.contents)\"><\/div>\r\n    <div class=\"btn btn-block btn-primary\"  ng-click=\"acknowledge();\">Acknowledge<\/div>\r\n<\/div>\r\n    ",
          "endpoint": null
        }
      ]
    },
    {
      "id": 8263,
      "name": "Blackboard2",
      "displayname": "MyMassasoit Email",
      "logo": "Massasoit/Blackboard2.png",
      "logourl": "Massasoit/Blackboard2.png",
      "description": "Blackboard",
      "appFeatureType": "Public",
      "roles": "STUDENT,FACULTY,STAFF",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Blackboard2",
          "pageTemplate": "<div><\/div>",
          "androidpackage": "com.google.android.gm",
          "playstoreurl": "https://play.google.com/store/apps/details?id=com.google.android.gm&hl=en_IN",
          "pageprocessor": "function pageprocessorBlackboard2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device.platform == \"iOS\") {\r\n\r\n    var iosUri = pagedef.iosuri;\r\n    navigator.startApp.check(iosUri, function(message) {\r\n       // alert(\"message\" + message + \" uri==\" + iosUri); /* success */\r\n        navigator.startApp.start(iosUri, function(message) { /* success */\r\n            //alert(\"mes\" + message);\r\n            $location.path(\"/home\");\r\n          },\r\n          function(error) { /* error */\r\n            alert(\"errr\" + error);\r\n            console.log(error);\r\n          });\r\n      },\r\n      function(error) { /* error */\r\n        $scope.loadurl(pagedef.itunesurl);\r\n        $location.path(\"/home\");\r\n      });\r\n  } else if (window.device.platform == \"Android\") {\r\n    var androidpackage = pagedef.androidpackage\r\n    navigator.startApp.check(androidpackage, function(message) { /* success */\r\n        navigator.startApp.start(androidpackage, function(message) { /* success */\r\n            $location.path(\"/home\");\r\n          },\r\n          function(error) { /* error */\r\n            navigator.notification.alert(\"Your device isn't compatible with this version\");\r\n            $location.path(\"/home\");\r\n          });\r\n      },\r\n      function(error) { /* error */\r\n        $scope.loadurl(pagedef.playstoreurl);\r\n        $location.path(\"/home\");\r\n      });\r\n  } else {\r\n    apprise(\"This feature is not available on Emulator\", {\r\n      \"verify\": false,\r\n      \"textYes\": \"Ok\"\r\n    }, function(r) {});\r\n  }\r\n\r\n\r\n  $scope.loadurl = function(url) {\r\n    if (window.device) {\r\n      $.blockUI();\r\n    }\r\n    var iabRef = window.open(url, device.platform == \"Android\" ? \"_system\" : \"_blank\", \"location=no,hidden=yes\");\r\n    var hideBlockUi = function() {\r\n      iabRef.show();\r\n      $.unblockUI();\r\n    };\r\n    var iabClose = function(data) {\r\n      window.location.href = \"index.html#home\";\r\n      $.unblockUI();\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n    var loadStop = function(data) {\r\n      hideBlockUi();\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n  }\r\n}",
          "itunesurl": "https://itunes.apple.com/in/app/gmail-email-from-google/id422689480?mt=8",
          "iosuri": "googlegmail://"
        },
        {
          "pageid": "Blackboard2Page2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<div>Sample Data<\/div>",
          "pageprocessor": "function pageprocessorBlackboard2Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        }
      ]
    },
    {
      "id": 6637,
      "name": "MyCalendar2",
      "displayname": "All-Campus Calendar",
      "logo": "Massasoit/MyCalendar2.png",
      "logourl": "Massasoit/MyCalendar2.png",
      "description": "My Calendar",
      "appFeatureType": "Banner",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "MyCalendar2",
          "pageTemplate": "<div><\/div>",
          "qlssourl": "https://my.massasoit.mass.edu/group/mymassasoit-home/all-campus-calendar",
          "pageprocessor": "function pageprocessorMyCalendar2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    /*QL functionality not using*/\r\n   \r\n      \r\n\r\n//var url = \"https://www.google.com/calendar/embed?title=All-Campus%20Calendar&height=700&wkst=1&bgcolor=%23FFFFFF&src=mymassasoit%40massasoit.edu&color=%23B1440E&src=en.usa%23holiday%40group.v.calendar.google.com&color=%23125A12&src=massasoitlibrary%40massasoit.edu&color=%23B1365F&src=massasoit.edu_dq202jgdrurip87crasrvr3l8g%40group.calendar.google.com&color=%23865A5A&src=registrar%40massasoit.edu&amp;color=%23875509&src=cantonarc%40massasoit.edu&amp;color=%23112C57&amp;src=sustainability%40massasoit.edu&amp;color=%23125A12&amp&src=studentlife%40massasoit.edu&color=%232952A3&ctz=America%2FNew_York\";\r\nvar url = \"https://www.google.com/calendar/embed?title=All-Campus%20Calendar&height=700&wkst=1&bgcolor=%23FFFFFF&src=mymassasoit%40massasoit.edu&color=%23B1440E&src=en.usa%23holiday%40group.v.calendar.google.com&color=%23125A12&src=massasoitlibrary%40massasoit.edu&color=%23B1365F&src=massasoit.edu_dq202jgdrurip87crasrvr3l8g%40group.calendar.google.com&color=%23865A5A&src=humanitiesdiv%40massasoit.edu&amp;color=%29878501&src=registrar%40massasoit.edu&amp;color=%23875509&src=cantonarc%40massasoit.edu&amp;color=%23112C57&amp;src=sustainability%40massasoit.edu&amp;color=%23125A12&amp&src=studentlife%40massasoit.edu&color=%232952A3&ctz=America%2FNew_York\";\r\n    $.blockUI();\r\n\r\n    var iabRef = window.open(url, \"_blank\", \"location=no,hidden=yes,enableViewportScale=yes\");\r\n    var hideBlockUi = function() {\r\n        iabRef.show();\r\n        $.unblockUI();\r\n    };\r\n    var iabClose = function(data) {\r\n        window.location.href = \"index.html#home\";\r\n        $.unblockUI();\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n    var loadStop = function(data) {\r\n        hideBlockUi();\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n}",
          "casurl": "https://cas.massasoit.mass.edu"
        }
      ]
    },
    {
      "id": 4751,
      "name": "ClassCancel",
      "displayname": "Class Cancellations",
      "logo": "Massasoit/ClassCancel.png",
      "logourl": "Massasoit/ClassCancel.png",
      "description": "Class Cancel",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "ClassCancel",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div>\r\n  <div class=\"list-group\">\r\n    <div class=\"list-group-item\" style=\"border: none;\">\r\n      <p>For Class Cancellations for Business, Social Sciences, Maths & Science<\/p>\r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n      <button class=\"btn btn-primary btn-block\" ng-click=\"cancel('http://carousel.massasoit.mass.edu/Carousel/Public/PublicSiteRSS.aspx?ZoneID=8')\" style=\"background:#083c69\">Click here<\/button>\r\n    <\/div>\r\n\r\n  <\/div>\r\n  <div class=\"list-group\">\r\n    <div class=\"list-group-item\" style=\"border: none;\">\r\n      <p>For Class Cancellations for Allied Health, Humanities, Emergent Technologies<\/p>\r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n      <button class=\"btn btn-primary btn-block\" ng-click=\"cancel('http://carousel.massasoit.mass.edu/Carousel/Public/PublicSiteRSS.aspx?ZoneID=9')\" style=\"background:#083c69\">Click here<\/button>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorClassCancel(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $scope.cancel = function(url) {\r\n      $.blockUI();\r\n      var rssreaderUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/rss/rssreader\";\r\n      var param = {\r\n        \"url\": url\r\n      };\r\n      $http.post(rssreaderUrl, param, '').success(function(data, status, headers, config) {\r\n        //alert(JSON.stringify(data));\r\n        $scope.feeds = data.feed.entries;\r\n        $rootScope.feeds = data.feed.entries;\r\n        $location.path(\"/app/ClassCancel/ClassCancelPage2\");\r\n        $scope.$apply();\r\n        $.unblockUI();\r\n      }).error(function(error, status, header, config) {\r\n        //alert(JSON.stringify(error));\r\n        $.unblockUI();\r\n      });\r\n\r\n    }\r\n    /*var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.cancel = function(url) {\r\n      //$rootScope.cancelurl = url;\r\n      $.blockUI();\r\n\r\n      var feed = new google.feeds.Feed(url);\r\n      feed.setNumEntries(-1);\r\n      feed.setResultFormat(google.feeds.Feed.JSON);\r\n      feed.load(function(result) {\r\n\r\n        if (!result.error) {\r\n          $scope.feeds = result.feed.entries;\r\n          $rootScope.feeds = result.feed.entries;\r\n          // if (JSON.stringify($scope.feeds) == \"[]\") navigator.notification.alert(\"Not available now\");\r\n\r\n          $location.path(\"/app/ClassCancel/ClassCancelPage2\");\r\n          $scope.$apply();\r\n          $.unblockUI();\r\n        }\r\n      });\r\n\r\n    }*/\r\n\r\n\r\n\r\n}"
        },
        {
          "pageid": "ClassCancelPage2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<div class=\"list-group\"><a href=\"#app/ClassCancel/ClassCancelPage3?index={{$index}}\" class=\"list-group-item\" ng-repeat=\"feed in feeds | filter:filterText\"><span style='font-size:13px;'>{{feed.title}}<\/span><p class=\"text-left\">{{feed.description}}<\/p><span class=\"small\">{{feed.publishedDate}}<\/span><\/a><\/div>",
          "pageprocessor": "function pageprocessorClassCancelPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n$scope.feed =  $rootScope.feeds;\r\n\r\n\r\nvar data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        },
        {
          "pageid": "ClassCancelPage3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<div class=\"jumbotron\"><h4 class=\"page-header\">{{feed.title}}<\/h4><p class=\"small\" ng-bind-html=\"trustHtml(feed.content);\"><\/p><p class=\"small\">{{feed.publishedDate}}<\/p><a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\" style=\"background:#083c69\">More Details<\/a><\/div>",
          "pageprocessor": "function pageprocessorClassCancelPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n$scope.feed = $rootScope.feeds[$routeParams.index];\r\n    $scope.openurl = function() {\r\n        window.open($scope.feed.link, \"_blank\", \"location=no\");\r\n    };\r\n    var template = pagedef.datatemplate;\r\n    var data1 = $compile($(template))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.trustHtml = function(dt) {\r\n        return $sce.trustAsHtml(dt);\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 4922,
      "name": "Courses2",
      "displayname": "Courses",
      "logo": "Massasoit/Courses2.png",
      "logourl": "Massasoit/Courses2.png",
      "description": "Courses2",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Courses2Details",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCourses2Details(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n$scope.CoursesDetails =  $rootScope.CoursesResult[$routeParams.index];var template = pagedef.datatemplate;var data1 = $compile($(template))($scope);$(\"#appContent\").append(data1);\r\n\r\n$scope.convertTime = function (stringTime){\r\n  \r\n  var hr = stringTime.substring(0, 2);\r\n    var mnt = stringTime.substring(2, 4);\r\n    var pm;\r\n      if (parseInt(hr) >=12) { pm = \"PM\"; }\r\n      else {pm = \"AM\";}\r\n      \r\n  if(parseInt(hr) >12) {hr = parseInt(hr) - 12};\r\n    return (hr+\":\"+mnt+\" \"+pm);\r\n};\r\n}",
          "datatemplate": "<div>\r\n    <div class=\"panel panel-primary\" style=\"border-color:#000\">\r\n        <div class=\"panel-heading\" style=\"background: #083c69; border-color: rgb(0, 0, 0);color=#fff;\">\r\n            <span>{{CoursesDetails.Subject}}<\/span>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"list-group\">\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Course Title :<\/strong> {{CoursesDetails.CourseTitle}} - {{CoursesDetails.CourseNumber}}<\/h4>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Term :<\/strong> {{CoursesDetails.Term}} <\/h4>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>CRN :<\/strong> {{CoursesDetails.CRN}} <\/h4>\r\n                <\/div>\r\n\r\n\r\n               \r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Section :<\/strong> {{CoursesDetails.SectionNumber}} <\/h4>\r\n                <\/div>\r\n\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Campus :<\/strong> {{CoursesDetails.Campus}} <\/h4>\r\n                <\/div>\r\n\r\n\r\n                <!--<div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Max Seats :<\/strong> {{CoursesDetails.MaxSeats}} <\/h4>\r\n                <\/div>-->\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Available Seats  :<\/strong> {{CoursesDetails.AvailableSeats}}<\/h4>\r\n                <\/div>\r\n                <!--<div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Filled Seats  :<\/strong> {{CoursesDetails.FilledSeats}}<\/h4>\r\n                <\/div>-->\r\n\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Course Start Date  :<\/strong> {{CoursesDetails.CourseStartDate}}<\/h4>\r\n                <\/div>\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Course End Date :<\/strong> {{CoursesDetails.CourseEndDate}}<\/h4>\r\n                <\/div>\r\n\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Add Drop Deadline  :<\/strong> {{CoursesDetails.AddDropDeadline}}<\/h4>\r\n                <\/div>\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Begin Time  :<\/strong> <span ng-bind=\"convertTime(CoursesDetails.BeginTime1)\"><\/span><\/h4>\r\n                <\/div>\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>EndTime  :<\/strong> <span ng-bind=\"convertTime(CoursesDetails.EndTime1)\"><\/span><\/h4>\r\n                <\/div>\r\n\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Building and Room  :<\/strong> {{CoursesDetails.Building1}}{{CoursesDetails.Room1}}<\/h4>\r\n                <\/div>\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Instructor Name :<\/strong> {{CoursesDetails.Instructor}} <\/h4>\r\n                <\/div>\r\n\r\n                <div class=\"list-group-item\">\r\n                    <h4 class=\"list-group-item-heading small\"><strong>Course Description :<\/strong> {{CoursesDetails.CourseDescription}} <\/h4>\r\n                <\/div>\r\n\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "Courses2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCourses2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n    $scope.subject = null;\r\n    $rootScope.subject = null;\r\n\r\n    $scope.resultfound = true;\r\n    $scope.subject = $rootScope.subject == undefined ? \"\" : $rootScope.subject;\r\n    $scope.selterm = $rootScope.selterm == undefined ? \"\" : $rootScope.selterm;\r\n    $scope.campus = $rootScope.campus == undefined ? \"\" : $rootScope.campus;\r\n    $scope.credit = true;\r\n    $scope.noncredit = true;\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n\r\n    $(\"#appContent\")\r\n        .append(data1);\r\n\r\n    //$scope.fetched = false;\r\n    $scope.filterresult = function() {\r\n        $rootScope.CoursesResult = null;\r\n        var results = [];\r\n\r\n        $.each($scope.CoursesList.Sections, function(index, val) {\r\n            var found = false;\r\n            if (($scope.subject == \"\" || $scope.subject == val.Subject) &&\r\n                ($scope.selterm == \"\" || $scope.selterm == val.Term) &&\r\n                ($scope.campus == \"\" || $scope.campus == val.Campus)) {\r\n                found = true;\r\n            }\r\n            if (found) {\r\n                results.push(val);\r\n            }\r\n        });\r\n        /* results.sort(function(a, b) {\r\n             if (a.SUBJECT < b.SUBJECT) {\r\n                 return -1;\r\n             } else if (a.SUBJECT > b.SUBJECT) {\r\n                 return 1;\r\n             } else {\r\n                 if (parseInt(a.CATALOG_NBR.replace(/\\D/g, '')) < parseInt(b.CATALOG_NBR.replace(/\\D/g, ''))) {\r\n                     return -1;\r\n                 } else if (parseInt(a.CATALOG_NBR.replace(/\\D/g, '')) > parseInt(b.CATALOG_NBR.replace(/\\D/g, ''))) {\r\n                     return 1;\r\n                 } else {\r\n                     if (parseInt(a.CLASS_SECTION) < parseInt(b.CLASS_SECTION)) {\r\n                         return -1\r\n                     } else if (parseInt(a.CLASS_SECTION) > parseInt(b.CLASS_SECTION)) {\r\n                         return 1;\r\n                     } else {\r\n                         return 0;\r\n                     }\r\n                 }\r\n             }\r\n             \r\n             */\r\n        /*if (a.CATALOG_NUMBER + \" \" + a.CLASS_SECTION + a.SUBJECT_CODE  < b.CATALOG_NUMBER + \" \" + b.CLASS_SECTION + b.SUBJECT_CODE )\r\n                  return -1;\r\n              if (a.CATALOG_NUMBER + \" \" + a.CLASS_SECTION + a.SUBJECT_CODE  > b.CATALOG_NUMBER + \" \" + b.CLASS_SECTION + b.SUBJECT_CODE)\r\n                  return 1;\r\n              return 0;*/\r\n        //});\r\n        $rootScope.CoursesResult = results;\r\n        if (results.length > 0) {\r\n            $scope.subject = $rootScope.Subject;\r\n            $scope.selterm = $rootScope.Term;\r\n            $scope.campus = $rootScope.Campus;\r\n            $scope.resultfound = true;\r\n            $location.path(\"/app/Courses2/Courses2Page3\");\r\n        } else {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"No results found.\");\r\n            } else {\r\n                alert(\"No results found.\");\r\n            }\r\n            $scope.resultfound = false;\r\n        }\r\n    };\r\n    $scope.search = function() {\r\n        try {\r\n\r\n            if ($rootScope.crsefetched == null || $rootScope.crsefetched == false) {\r\n                $.blockUI();\r\n                var url = pagedef.url;\r\n\r\n                if (window.device) {} else {\r\n                    url = \"/websimulator/xml?url=\" + pagedef.url;\r\n                }\r\n                var xhr = $.ajax({\r\n                    url: url,\r\n                    dataType: \"xml\",\r\n                    async: true,\r\n                    data: {},\r\n                    success: function(resp) {\r\n\r\n                        try {\r\n                            var results = $.xml2json(resp);\r\n                            var temptrm = \"\";\r\n                            var subjcd = \"\";\r\n                            var loccd = \"\";\r\n                            var terms = [];\r\n                            var subjects = [];\r\n                            var locations = [];\r\n\r\n\r\n                            $.each(results.Sections, function(i, v) {\r\n                                if (temptrm.indexOf(v.Term) == -1) {\r\n                                    terms.push({\r\n                                        \"TERM_CODE\": v.Term,\r\n                                        \"TERM_NAME\": v.Term\r\n                                    });\r\n                                    temptrm += v.Term;\r\n                                }\r\n                                var subfound = false;\r\n                                $.each(subjects, function(j, s) {\r\n                                    if (s.SUBJECT_NAME == v.Subject) {\r\n                                        subfound = true;\r\n                                        return false;\r\n                                    }\r\n                                });\r\n                                if (!subfound) {\r\n                                    subjects.push({\r\n                                        \"SUBJECT_CODE\": v.Subject,\r\n                                        \"SUBJECT_NAME\": v.Subject\r\n                                    });\r\n                                }\r\n\r\n\r\n\r\n                                /* if (subjcd.indexOf(v.Subject) == -1) {\r\n                                     subjects.push({\r\n                                         \"SUBJECT_CODE\": v.Subject,\r\n                                         \"SUBJECT_NAME\": v.Subject\r\n                                     });\r\n                                     subjcd += v.Subject;\r\n                                 }*/\r\n                                if (loccd.indexOf(v.Campus) == -1) {\r\n                                    locations.push({\r\n                                        \"LOCATION_CODE\": v.Campus,\r\n                                        \"LOCATION_NAME\": v.Campus\r\n                                    });\r\n                                    loccd += v.Campus;\r\n                                }\r\n\r\n                            });\r\n                            console.log('SUBJECTS:');\r\n                            console.log(subjects);\r\n                            $rootScope.terms = terms;\r\n                            if (terms.length > 0) {\r\n                                $scope.selterm = terms[0].TERM_CODE;\r\n                            }\r\n\r\n                            $rootScope.subjects = subjects;\r\n                            $rootScope.locations = locations;\r\n\r\n\r\n                            $rootScope.crsefetched = true;\r\n                            $rootScope.CoursesList = results;\r\n\r\n                            // $scope.subject = \"\";\r\n                            $scope.catalognumber = \"\";\r\n                            $scope.mode = \"\";\r\n                            $scope.loc = \"\";\r\n\r\n                            //$scope.filterresult();\r\n                            $scope.$digest();\r\n                            $.unblockUI();\r\n                        } catch (E) {\r\n                            alert(\"Exception : \" + E);\r\n                        }\r\n                    },\r\n                    error: function(e) {\r\n                        alert(\"Error : \" + e);\r\n                        $.unblockUI();\r\n                        apprise(\"Error occured. Please try again later.\", {\r\n                            \"verify\": false,\r\n                            \"textYes\": \"Ok\"\r\n                        }, function(r) {\r\n                            $window.history.back();\r\n                        });\r\n                    }\r\n                });\r\n            } else {\r\n                //$scope.filterresult();\r\n            }\r\n\r\n        } catch (excep) {\r\n            //alert (\"Exception: \" + excep); \r\n        }\r\n    }\r\n    $scope.search();\r\n\r\n}",
          "datatemplate": "<div>\r\n\r\n    <div class=\"panel panel-primary\" style=\"border:none;background:transparent;\">\r\n        <div class=\"panel-body\" style=\"background: transparent; border-color: rgb(0, 0, 0);\">\r\n            <div class=\"alert-info\" style=\"padding:10px;box-shadow:0px 0px 20px black;margin:2px;background:#083c69;color:#fff;\">\r\n                <i class=\"fa fa-info-circle\"><\/i>Select at least 2 search criteria. Press Search Classes to view your search results.\r\n            <\/div>\r\n            <div class=\"list-group-item\" style=\"background: transparent; border-color: rgb(0, 0, 0);color:#fff\">\r\n                <label>Select a Term<\/label>\r\n                <select ng-model=\"selterm\" class=\"form-control \" ng-change=\"termselect(this.value); \">\r\n                    <option value=\"\">Select Term<\/option>\r\n                    <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in terms \">{{term.TERM_NAME}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n\r\n           <!-- <div class=\"list-group-item\" style=\"background: transparent; border-color: rgb(0, 0, 0);color:#fff\">\r\n                <label>Select Credit or Non-credit<\/label>\r\n                <input id=\"catalognumber\" type=\"text\" ng-model=\"catalognumber\" class=\"form-control\" />\r\n                <form class=\"form-control\">\r\n                    <input type=\"checkbox\" ng-model=\"credit\" /> Credit\r\n                    <input type=\"checkbox\" ng-model=\"noncredit\" style=\"margin-left: 5em;\" /> Non-credit\r\n                <\/form>\r\n            <\/div>-->\r\n\r\n            <div class=\"list-group-item\" style=\"background: transparent; border-color: rgb(0, 0, 0);color:#fff\">\r\n                <label>Select a Subject<\/label>\r\n                <select id=\"subject\" name='subject' ng-model=\"subject\" class=\"form-control\">\r\n                    <option value=\"\">All Subjects<\/option>\r\n                    <option ng-selected=\"subject == subj.SUBJECT_CODE\" value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in subjects | orderBy:'SUBJECT_CODE'\">{{subj.SUBJECT_CODE}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n\r\n            <div class=\"list-group-item\" style=\"background: transparent; border-color: rgb(0, 0, 0);color:#fff\">\r\n                <label>Select a Campus<\/label>\r\n                <select id=\"campus\" name='campus' ng-model=\"campus\" class=\"form-control\">\r\n                    <option value=\"\">Select All<\/option>\r\n                    <option value=\"{{loc.LOCATION_CODE}}\" ng-repeat=\"loc in locations\">{{loc.LOCATION_NAME}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n\r\n\r\n            <div class=\"list-group-item\" style=\"background: transparent; border-color: rgb(0, 0, 0);color:#fff\">\r\n                <button class=\"btn btn-success btn-block\" ng-click=\"filterresult();\" style=\"background:#083c69;border:#083c69;\">Search Classes<\/button>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "searchfields": "Subject, CourseTitle,Instructor",
          "url": "https://massasoit.edu/Assets/CampusEAI/courses.xml"
        },
        {
          "pageid": "Courses2Page3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<div>\r\n    <div class=\"panel panel-primary\" style=\"background:transparent;border:none;\">\r\n        <div class=\"panel-body\" style=\"padding:0px;background:transparent;\">\r\n            <div class=\"list-group\">\r\n                <a href=\"#app/Courses2/Courses2Details?index={{$index}}\" class=\"list-group-item\" ng-repeat=\"entry in CoursesResult\">\r\n                    <strong>{{entry.Subject}} <\/strong><p class=\"text-left\">{{entry.CourseTitle}} - {{entry.CourseNumber}}<\/p>\r\n                <\/a>\r\n            <\/div>\r\n            \r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorCourses2Page3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.$on('$destroy', function() {\r\n        $rootScope.crsindex = null;\r\n    });\r\n    var previndex = $rootScope.crsindex;\r\n    if (previndex != null) {\r\n        setTimeout(function() {\r\n            $($(\".scrollable-content\")[1]).animate({\r\n                scrollTop: $($(\"#appContent .list-group-item\")[previndex]).position().top\r\n            }, 200);\r\n        }, 1000);\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 3344,
      "name": "Videos",
      "displayname": "Videos",
      "logo": "Massasoit/Videos.png",
      "logourl": "Massasoit/Videos.png",
      "description": "Campus Videos",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "VideosVideosDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorVideosVideosDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var video = $rootScope.videos[$routeParams.index];\r\n  var videoID = video.id.videoId\r\n\r\n  var url = \"https://www.googleapis.com/youtube/v3/videos?id=\" + videoID + \"&key=AIzaSyB2OLKuFWCPNaGn6RQ-tceBxZcYL9VWVB8&part=snippet,contentDetails,statistics,status\";\r\n  $http.get(url).success(function(data) {\r\n\r\n    console.log(JSON.stringify(data));\r\n    $scope.title = data.items[0].snippet.localized.title;\r\n\r\n    $scope.trustSrc = function() {\r\n      return $sce.trustAsResourceUrl(\"https://www.youtube.com/embed/\" + videoID);\r\n    };\r\n    $scope.description = data.items[0].snippet.localized.description;\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n  }).error(function(data) {\r\n    $.unblockUI();\r\n  });\r\n  \r\n  try {\r\n    var onPause = function() {\r\n      $('iframe').attr('src', $('iframe').attr('src'));\r\n    }\r\n\r\n    document.addEventListener(\"pause\", onPause, false);\r\n  } catch (e) {\r\n    // alert(e)\r\n  }\r\n}\r\n",
          "datatemplate": "<style>\r\n    #branding {\r\n    \tdisplay: none;\r\n\t}\r\n<\/style>\r\n<div class=\"container\">\r\n    <h4 style=\"color:#000;padding:10px;\">{{title}}<\/h4>\r\n    <div style=\"align:center\">\r\n        <iframe ng-src=\"{{trustSrc()}}\" frameborder=\"0\" allowfullscreen target=\"self\"><\/iframe>\r\n    <\/div>\r\n    <h5 style=\"color:#000;padding:10px;\">{{description}}<\/h5>\r\n<\/div>"
        },
        {
          "pageid": "Videos",
          "pageTemplate": "<div><\/div>",
          "url": "https://www.googleapis.com/youtube/v3/search?videoEmbeddable=true&order=date&part=snippet&channelId=UCtU5FQDbJLuI30Rs3nhc9eQ&type=video&maxResults=50&key=AIzaSyB2OLKuFWCPNaGn6RQ-tceBxZcYL9VWVB8",
          "pageprocessor": "function pageprocessorVideos(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) { \r\n\r\n\r\n $.blockUI();\r\n    $http.get(pagedef.url).success(function(data) {\r\n        console.log(JSON.stringify(data));\r\n        $scope.videos = data.items;\r\n        $rootScope.videos = data.items;\r\n        var data1 = $compile($(pagedef.datatemplate))($scope);\r\n        $(\"#appContent\").append(data1);\r\n        $.unblockUI();\r\n    }).error(function(data) {\r\n        $.unblockUI();\r\n    });\r\n}",
          "datatemplate": "<div class=\"media-list list-group\">\r\n    <a href=\"#app/Videos/VideosVideosDetails?index={{$index}}\" class=\"media list-group-item\" ng-repeat=\"video in videos\">\r\n        <div class=\"pull-left\"><img class=\"media-object\" src=\"{{video.snippet.thumbnails.default.url}}\"><\/img>\r\n        <\/div>\r\n        <div class=\"media-body\">\r\n            <h4 class=\"media-heading\">{{video.snippet.title}}<\/h4>\r\n            <p class=\"disabled\">Published On {{video.snippet.publishedAt | date:'medium'}}<\/p>\r\n        <\/div>\r\n    <\/a>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 3359,
      "name": "Photos23",
      "displayname": "Photos",
      "logo": "Massasoit/Photos23.png",
      "logourl": "Massasoit/Photos23.png",
      "description": "Photos",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Photos23",
          "pageTemplate": "<div><\/div>",
          "url": "http://massasoit.zenfolio.com/ ",
          "pageprocessor": "function pageprocessorPhotos23(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    if (window.device) {\r\n        $.blockUI();\r\n    }\r\n    var iabRef = window.open(pagedef.url, \"_blank\", \"EnableViewPortScale=yes\");\r\n    var hideBlockUi = function() {\r\n        iabRef.show();\r\n        $.unblockUI();\r\n    };\r\n    var iabClose = function(data) {\r\n        window.location.href = \"index.html#home\";\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n    var loadStop = function(data) {\r\n        hideBlockUi();\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n}"
        }
      ]
    },
    {
      "id": 4676,
      "name": "Maps",
      "displayname": "Maps",
      "logo": "Massasoit/Maps.png",
      "logourl": "Massasoit/Maps.png",
      "description": "Maps",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Maps",
          "pageTemplate": "<div>     <div class=\"list-group-item\" style=\"background:#000;\" style=\"width: 200px;text-align: center;margin: auto;margin-top: -10px;\">         <select class=\"form-control\" ng-model=\"selitem\" ng-change=\"selectitem();\">             <option name=\"\" value=\"\">--Select Campus--<\/option>             <!--<option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items | orderBy:'name'\">{{item.name}}<\/option>-->             <option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items\">{{item.name}}<\/option>         <\/select>         <div class=\"btn-group\" ng-show=\"selitem != '' \">             <button type=\"button\" class=\"btn btn-default\" ng-class=\"walkdirection\" ng-click=\"walk();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACDElEQVQ4EX2Uuy+mQRSHX7ewEZcGm90siYRCpVRoJEujkezWomD/AP4DrYReJSJBpVFoCBLNRiEq0ajcsoWECOv2eX7zzRnzvoZJnm/OnPecM2fOmfkqSqVS9tmoYGATjIrrom9lURGvzZn5G/yCLgWXPrbLydo8BUaV0jNqYBm02IQWr69K+X2WYTXO2uyR6atkRhs0OinL0lmmdsHB7c7cChNwCOcw7LOrTvm5b8UPOFmwXuR10FHFPxgze+TkkXP1MyPmTtgBBXqGp0ieQ2502fg62yZOl1tkmTsKDlNwB8dwAwr8HyzwKvL3VNCQIQZqkHV2CVk124BbUMArmIQF0HobenzQcPx3XfZ3TJlcQhPUgoa6vQfjMAsqi3Uf0Q87Mku9CGmroAOGQN2VUlzDb2/zBfkH1Pq183WyfmIwsmNr9wNQMGWreRe6C/Yh2EcBrTFdOB+BMhuFbVDQNWgAXexQO9skl53b4e0eDuBwASdQD31wD6rvn9jWgmnONcU3xJ5UP456alugQH9hBVTjn9jqJM/MuRi5DDG047Yj74OOOGgZII94nWrrasnsfIJNEN6a0YzRonfUXBfZ9LDWvVRdk+/a/aPwMR76N9ELmYF5gt3746l2pzANKsUZaLyUp/Kv3b2gkzMLXZ2HoIwE/70G1QM2eue58S6gffXFxqd82yO9fFTb5HgFY6LjklrrExcAAAAASUVORK5CYII=\" /> <\/button>             <button type=\"button\" class=\"btn btn-default\" ng-class=\"cycledirection\" ng-click=\"bicycle();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACdUlEQVQ4EYWUTYhNYRjHz7l3lGFm4aNoMmOSKJOvfBMLlFgqdjbWUpQoWYkSmY1IpBs7stBkig2LWVlQMlM2RqJ8hcFME3Pv9fu9zns611y89bvPe56P/3nej3PTer2eNBtpmpaI1YoxfCm+5gVZYkuxIM6jGLYD3154A31ojf9X1BcWobAEdoJJLoKTUdie+VqK+X/OLf7XaM2CH7Hfs3nZLv9WFDtpiJNvFxPYTgJ7oAt+QD/+h8aZ15g37DE+1jN5yeEl+hndcBIGQccL2JTFFM1zo06DIAmeLCbxMI6DAl/hOdiNwWewKssrR6Foc0GSypIlHmX+Cc7AYpgPFaiCoo9geZY7JYppS+xHGDxUhUTHZxgCRXfCfpgF8RDXMD8INvQTgfz6hQnOOs45xHfATFgN92AYzkIXjMAH8GVuySJqtmKfUK4vsTP3TLEFPJ+HlaCwXU0HRb/AA9gMa8Ht8EUzYB9coH491pG65GlMbH8Y7UPYV3AFvHcV6IQ74GF4L9dBBe5CLxg7hs5C6mvuyVyYDZdwtmN7YACugsV2sgJOwDnYCCPgqjoQuYl9CVsgcQ8V9eQ85VG4DN67pfAarkEfeCh2q3U8Bb9xx3topyG1kqlwCmy/lTdiQlfXsYd9jvBspzeMF3zzeL4F4VsPNx3lbhxHwOGGL4F3cJrCb8Tdu3FwRQdgA/RDFXbBY+gld8KPPPzvUeRStoHX5i3cJ2EMf/yuY56iu2EZODys2+R6H8thOTgmfUIkmNzgLz4z91q1mVfMDUsm4KV0Q+Pfkrbpvwl5cVUu1zoP09zQQS5o0GFBDP72NP8lLZwouf5p5OMXXuuOrTWbb2EAAAAASUVORK5CYII=\" /> <\/button>             <button type=\"button\" class=\"btn btn-default\" ng-class=\"drivedirection\" ng-click=\"drive();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACW0lEQVQ4EY2UvUuXURSA3/f30SdWRiVEhjQ0JEUogUsROAQNLo2tTtUQLc0p/QENLYGTjlERJE02tOjgEDVIQ0uCpRWVFeXX2/Nc75WbGnrg+Z17zz333HPPue+vrKqqyKUsyxrzem77z9iNy+z/J0AjdzYY6yvYZFvCnjIPuhYwBUO3EKkL9sEylGDWarNR74BpmCTYYh40BNTAYoXS8TZcgw9gpl4/v9YScw/dCfoOQ429K2ZqugWTZjzpAouPYQQegFmGWkVtph7yE+7AKehj7zti1NHeKFyhYWDkLryFduebwZp1RhXn4TP0x7lJaS9SsGOMx2EwLliGcAPnCWwhYPR5yHwUdsV53WDWRLkMJ2CK9DvQh2GBsYFzsdZNDDPgbW5CLzyDSmcbcx0GwGLbPevk2uodGKyTtLYb+xEw+A2Se6RfJ/yCj3ALbIqBtuIPPvdgEBbhBdjEogfcfD/Wwc69jjY32TnLktCmvwfbWVTxEt7AAa+bHM9Sm5PML0I7KK77VHJJNfXgS+z5je6A9xDkHL9z4FFfwes7XgCvshmu6fMD5uP4ObrVDOzYIVCsQcpA+1ayN3M4yLhmwC/wBPx+j8f5K7SZ+ina8Vw80Dra3TNgDJ/PGJh5MPjm7JjXmIBu2A9HoW0d2nwuV2AW3HMVwm3Dw6awnzCYkWKTZuneN+zf0W5YE2zhLy7uSWtzuC1hazYyB1M+DU9hBnsdjSq9cqorw9B1bT6TIbB2U6D4xFa/VzW0Qvq2N3zHJhsTDmv47pFkV6e/L3VKP6SVz9m0QUw9+eTjv0wEQUUiFZVVAAAAAElFTkSuQmCC\" /> <\/button>             <div id=\"directionInfo\" style=\"float: right;font-size: 10px;line-height: 13px;color: #fff;margin-left: 10px;\">TravelMode: {{travelmode}}                 <br />Distance = <span style='white-space:nowrap; text-overflow:ellipsis; overflow:hidden;width:35px;'>{{distmiles}}<\/span> miles                 <br />Time = {{duration}}<\/div>         <\/div>         <div ng-show=\"selitem != '' \" style=\"margin: 0px; font-weight: normal; font-size: 10px; padding: 0px 5px; box-shadow: 0px 0px 2px rgb(255, 255, 255);\" class=\"alert alert-danger\"> {{trackinginfo}} <\/div>     <\/div>     <div id=\"MapMapCanvas\" style=\"width:100%;height:100%;margin:0px;padding:0px;\"><\/div> <\/div>",
          "mapmarkers": "{\r\n    \"map00\": {\r\n        \"lat\": \"42.074176\",\r\n        \"long\": \"-70.989795\",\r\n        \"desc\": \"Administration Building, Brockton Campus\",\r\n        \"keyword\": \"Admissions, Financial Aid, Registration, President's Office, Administration, Human Resources, Diversity\"\r\n    },\r\n    \"map01\": {\r\n        \"lat\": \"42.075227\",\r\n        \"long\": \"-70.989473\",\r\n        \"desc\": \"Student Center Building, Library and Cafeteria, Brockton Campus\",\r\n        \"keyword\": \"Student Center, Library, Cafeteria, Campus Police, Luison Board Room\"\r\n    },\r\n    \"map03\": {\r\n        \"lat\": \"42.075590\",\r\n        \"long\": \"-70.990300\",\r\n        \"desc\": \"Business Building, Brockton Campus\"\r\n    },\r\n    \"map04\": {\r\n        \"lat\": \"42.076748\",\r\n        \"long\": \"-70.988937\",\r\n        \"desc\": \"Fine Arts Building, Theatre, Brockton Campus\"\r\n    },\r\n    \"map05\": {\r\n        \"lat\": \"42.075900\",\r\n        \"long\": \"-70.987585\",\r\n        \"desc\": \"Field House, Brockton Campus\",\r\n        \"keyword\": \"Gymnasium, Pool, Athletics, Sports\"\r\n    },\r\n    \"map06\": {\r\n        \"lat\": \"42.075908\",\r\n        \"long\": \"-70.989141\",\r\n        \"desc\": \"Liberal Arts Building, Brockton Campus\"\r\n    },\r\n    \"map07\": {\r\n        \"lat\": \"42.076080\",\r\n        \"long\": \"-70.988433\",\r\n        \"desc\": \"Humanities Building, Brockton Campus\"\r\n    },\r\n    \"map08\": {\r\n        \"lat\": \"42.076275\",\r\n        \"long\": \"-70.990396\",\r\n        \"desc\": \"Science Building, Brockton Campus\"\r\n    },\r\n    \"map09\": {\r\n        \"lat\": \"42.076402\",\r\n        \"long\": \"-70.989613\",\r\n        \"desc\": \"Technology Building, Brockton Campus\"\r\n    },\r\n    \"map10\": {\r\n        \"lat\": \"42.078082\",\r\n        \"long\": \"-70.9894793\",\r\n        \"desc\": \"Maintenance Building, Brockton Campus\"\r\n    },\r\n    \"map11\": {\r\n        \"lat\": \"42.081921\",\r\n        \"long\": \"-70.987945\",\r\n        \"desc\": \"The Conference Center, Brockton\",\r\n        \"keyword\": \"Massasoit Conference Center\"\r\n    },\r\n    \"map12\": {\r\n        \"lat\": \"42.183702\",\r\n        \"long\": \"-71.101004\",\r\n        \"desc\": \"Massasoit Community College, Canton Campus\",\r\n        \"keyword\": \"Massasoit Community College, Canton Campus\"\r\n    },\r\n    \"map13\": {\r\n        \"lat\": \"41.892244\",\r\n        \"long\": \"-70.912123\",\r\n        \"desc\": \"Massasoit Community College, Middleborough\",\r\n        \"keyword\": \"Massasoit Community College, Middleborough Campus\"\r\n    }\r\n}",
          "pageprocessor": "function pageprocessorMaps(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.pageTemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  var cb1 = function(loaded) {\r\n    var myOptions = {\r\n      zoom: 18,\r\n      mapTypeId: google.maps.MapTypeId.HYBRID\r\n    };\r\n    var mapDisplay = document.getElementById(\"MapMapCanvas\")\r\n    var mapheight = $(window).height() - ($(\"#appContent .list-group-item\").height() + $(\".navbar-absolute-top\").height() + $(\".navbar-absolute-bottom\").height() + 20)\r\n    $(\"#MapMapCanvas\").css(\"height\", mapheight + \"px\");\r\n    var map = new google.maps.Map(mapDisplay, myOptions);\r\n    map.setTilt(45);\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(function(position) {\r\n        var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);\r\n\r\n        var infowindow = new google.maps.InfoWindow({\r\n          map: map,\r\n          position: pos,\r\n          content: 'You are here'\r\n        });\r\n        map.setCenter(pos);\r\n      }, function() {\r\n        //handleNoGeolocation(true);\r\n      }, {\r\n        timeout: 10000,\r\n        frequency: 3000,\r\n        enableHighAccuracy: true\r\n      });\r\n    }\r\n  }\r\n  window.cb1 = cb1;\r\n  if (typeof google === 'object' && typeof google.maps === 'object') {\r\n    window.cb1(true);\r\n  } else {\r\n    var script = document.createElement(\"script\");\r\n    script.type = \"text/javascript\";\r\n    script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=cb1\";\r\n    document.body.appendChild(script);\r\n    //$.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDUbP_Qxh9wbPOvgW8iH_zuLu8K3fSlv0I&sensor=false&callback=cb\");\r\n  }\r\n\r\n\r\n  $scope.selitem = \"\";\r\n  $scope.markers = [];\r\n  var points = $.parseJSON(pagedef.mapmarkers);\r\n  console.log(points);\r\n  var items = [];\r\n  $.each(points, function(key, val) {\r\n    var item = {\r\n      \"name\": val.desc,\r\n      \"clat\": val.lat,\r\n      \"clong\": val.long,\r\n      \"zoom\": \"16\",\r\n      \"markers\": [{\r\n        \"lat\": val.lat,\r\n        \"long\": val.long,\r\n        \"desc\": val.desc\r\n      }]\r\n    };\r\n    items.push(item);\r\n  });\r\n  $scope.items = items;\r\n  $rootScope.items = items;\r\n\r\n  //$scope.items = $.parseJSON(pagedef.mapmarkers).items;\r\n  //$rootScope.items = $.parseJSON(pagedef.mapmarkers).items;\r\n  $scope.loaddata = function() {\r\n    $.blockUI();\r\n    var url = \"http://www.cgu.edu/custom/rss/mycampus/maplocationsMobiletoXML.xml?m=\" + Math.random();\r\n    if (window.device) {} else {\r\n      url = \"/websimulator/xml?url=\" + \"http://www.cgu.edu/custom/rss/mycampus/maplocationsMobiletoXML.xml?m=\" + Math.random();\r\n    }\r\n    var xhr = $.ajax({\r\n      url: url,\r\n      dataType: \"xml\",\r\n      async: true,\r\n      data: {},\r\n      success: function(resp) {\r\n        try {\r\n          var results = $.xml2json(resp);\r\n          console.log(results);\r\n          $scope.fetched = true;\r\n          var items = [];\r\n          $.each(results.location, function(i, val) {\r\n\r\n            var item = {\r\n              \"name\": val.desc,\r\n              \"clat\": val.lat,\r\n              \"clong\": val.long,\r\n              \"zoom\": \"16\",\r\n              \"markers\": [{\r\n                \"lat\": val.lat,\r\n                \"long\": val.long,\r\n                \"desc\": val.desc\r\n              }]\r\n            };\r\n            items.push(item);\r\n          });\r\n          items.sort(function(a, b) {\r\n            if (a.name < b.name)\r\n              return -1;\r\n            if (a.name > b.name)\r\n              return 1;\r\n            return 0;\r\n          });\r\n          $scope.items = items;\r\n\r\n          $rootScope.items = items;\r\n          $scope.$apply();\r\n          $.unblockUI();\r\n        } catch (E) {\r\n          alert(\"Exception : \" + E);\r\n        }\r\n      },\r\n      error: function(e) {\r\n        alert(\"Error : \" + e);\r\n        $.unblockUI();\r\n        apprise(\"Error occured. Please try again later.\", {\r\n          \"verify\": false,\r\n          \"textYes\": \"Ok\"\r\n        }, function(r) {\r\n          $window.history.back();\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  //$scope.loaddata();\r\n\r\n  $scope.walkdirection = \"btn-primary\";\r\n  $scope.cycledirection = \"\";\r\n  $scope.drivedirection = \"\";\r\n  $scope.selectitem = function() {\r\n    var item = $scope.items[$scope.selitem];\r\n    if (item) {\r\n      $scope.curitem = item;\r\n      try {\r\n        var cb = function(loaded) {\r\n\r\n          var geocoder;\r\n          var placeCoordinate;\r\n          var errorCallback = function(error) {\r\n            $.unblockUI();\r\n            navigator.notification.alert(\"Unable to locate your location. Please check your GPS settings, network connectivity and Location services.\", function() {}, 'Alert', 'Ok');\r\n            $scope.trackinginfo = \"Unable to locate your location. Please check your GPS settings, network connectivity and Location services.\" + error.message + \" ( \" + error.code + \" )\";\r\n            $scope.$digest();\r\n          }\r\n          var placeGeoCoder = function(results) {\r\n            try {\r\n              $.unblockUI();\r\n\r\n              console.log(JSON.stringify(results));\r\n              placeCoordinate = results;\r\n              $rootScope.mylocation = results;\r\n              var latlng = new google.maps.LatLng(item.clat, item.clong);\r\n              item\r\n              var myOptions = {\r\n                zoom: 18,\r\n                center: latlng,\r\n                mapTypeId: google.maps.MapTypeId.HYBRID\r\n              };\r\n              var mapDisplay = document.getElementById(\"MapMapCanvas\")\r\n              var map = new google.maps.Map(mapDisplay, myOptions);\r\n              var myloc = new google.maps.Marker({\r\n                position: latlng,\r\n                map: map,\r\n                title: \"title\"\r\n              });\r\n              map.setTilt(45);\r\n              $scope.markers.push(myloc);\r\n              $scope.map = map;\r\n              $scope.walk();\r\n            } catch (e) {\r\n              $.unblockUI();\r\n              alert(\"Error : \" + e);\r\n            }\r\n          }\r\n\r\n          $scope.placeGeoCoder = placeGeoCoder;\r\n          $scope.errorCallback = errorCallback;\r\n          if (navigator.geolocation) {\r\n            $.blockUI();\r\n            navigator.geolocation.getCurrentPosition(placeGeoCoder, errorCallback, {\r\n              timeout: 10000,\r\n              frequency: 3000,\r\n              enableHighAccuracy: true\r\n            });\r\n          } else {\r\n            alert(\"not working\")\r\n          }\r\n        };\r\n        window.cb = cb;\r\n        if (typeof google === 'object' && typeof google.maps === 'object') {\r\n          window.cb(true);\r\n        } else {\r\n          var script = document.createElement(\"script\");\r\n          script.type = \"text/javascript\";\r\n          script.src = \"https://maps.google.com/maps/api/js?key=AIzaSyAWtMIxW71c0fxIUmgWGe4AfUb2D9sE-5o&sensor=false&callback=cb\";\r\n          document.body.appendChild(script);\r\n          //$.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDUbP_Qxh9wbPOvgW8iH_zuLu8K3fSlv0I&sensor=false&callback=cb\");\r\n        }\r\n\r\n      } catch (e) {\r\n        alert(e);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  $scope.travelmode = \"Walk\";\r\n  $scope.walk = function() {\r\n    $scope.travelmode = \"Walk\";\r\n    $scope.curtravelmode = \"walk\";\r\n    $scope.walkdirection = \"btn-primary\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"walk\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n    //$scope.directiondisplay(\"walk\",$scope.map, \"34.289408\",\"-83.813368\", $scope.curitem.clat, $scope.curitem.clong );\r\n\r\n  }\r\n\r\n  $scope.bicycle = function() {\r\n    $scope.travelmode = \"Bicycle\";\r\n    $scope.curtravelmode = \"cycle\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"btn-primary\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"cycle\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n    //$scope.directiondisplay(\"cycle\",$scope.map, \"34.289408\",\"-83.813368\", $scope.curitem.clat, $scope.curitem.clong );\r\n  }\r\n\r\n  $scope.drive = function() {\r\n    $scope.travelmode = \"Drive\";\r\n    $scope.curtravelmode = \"drive\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"btn-primary\";\r\n    $scope.directiondisplay(\"drive\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n  }\r\n\r\n\r\n  $scope.directiondisplay = function(mode, map, slat, slng, elat, elng) {\r\n    $scope.trackinginfo = \"\";\r\n    if ($scope.directionsDisplay) {\r\n      $scope.directionsDisplay.setMap(null);\r\n    }\r\n    /*for (i in $scope.markers) {\r\n        $scope.markers[i].setMap(null);\r\n    }*/\r\n    var directionsDisplay = new google.maps.DirectionsRenderer({\r\n      suppressMarkers: false\r\n    });\r\n    var icons = {\r\n      start: new google.maps.MarkerImage(\r\n\r\n        // URL\r\n        'images/start-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      ),\r\n      end: new google.maps.MarkerImage(\r\n        // URL\r\n        'images/end-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      )\r\n    };\r\n    directionsDisplay.setMap(null);\r\n    directionsDisplay.setMap(map);\r\n    $scope.directionsDisplay = directionsDisplay;\r\n\r\n    try {\r\n\r\n      var directionsService = new google.maps.DirectionsService();\r\n      var start = new google.maps.LatLng(slat, slng);\r\n      var end = new google.maps.LatLng(elat, elng);\r\n      var travelModeOption = mode;\r\n      var request = {\r\n        origin: start,\r\n        destination: end,\r\n        travelMode: \"\",\r\n        unitSystem: google.maps.UnitSystem.METRIC\r\n      };\r\n\r\n      switch (travelModeOption) {\r\n        case \"walk\":\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n        case \"cycle\":\r\n          {\r\n            var usertravelMode = \"BICYCLING\";\r\n            request.travelMode = google.maps.TravelMode.BICYCLING;\r\n            break;\r\n          }\r\n        case \"drive\":\r\n          {\r\n            var usertravelMode = \"DRIVING\";\r\n            request.travelMode = google.maps.TravelMode.DRIVING;\r\n            break;\r\n          }\r\n        default:\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n      }\r\n    } catch (e) {\r\n      alert(e)\r\n    }\r\n    directionsService.route(request, function(result, status) {\r\n      if (status == google.maps.DirectionsStatus.OK) {\r\n        try {\r\n          for (i in $scope.markers) {\r\n            $scope.markers[i].setMap(null);\r\n          }\r\n          var len = result.routes[0].legs[0].distance.text.length - 3;\r\n          var miles = (result.routes[0].legs[0].distance.value) * 0.000621;\r\n          var d = miles.toString();\r\n          $scope.distmiles = d.slice(0, 6);\r\n          $scope.duration = JSON.stringify(result.routes[0].legs[0].duration.text);\r\n        } catch (e) {}\r\n        for (i in $scope.markers) {\r\n          $scope.markers[i].setMap(null);\r\n        }\r\n        directionsDisplay.setDirections(result);\r\n        $scope.$digest();\r\n      } else {\r\n        //navigator.notification.alert(\"Oops! Your device dont have GPS enabled \" + status, function() {}, 'Alert', 'Ok');\r\n        $scope.trackinginfo = \"Unable to get GPS data. ( \" + status + \" )\";\r\n        $scope.$digest();\r\n      }\r\n    });\r\n  }\r\n\r\n  var myfunc = function() {\r\n    try {\r\n      navigator.geolocation.getCurrentPosition(function(results) {\r\n        $rootScope.mylocation = results;\r\n        $scope.directiondisplay($scope.curtravelmode, $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n      }, $scope.errorCallback, {\r\n        timeout: 10000,\r\n        frequency: 3000,\r\n        enableHighAccuracy: true\r\n      });\r\n    } catch (e) {\r\n      //alert (e); \r\n    }\r\n\r\n  }\r\n  var intid = window.setInterval(myfunc, 30000);\r\n\r\n  $scope.$on('$destroy', function() {\r\n    //alert(\"In destroy of : \" + intid);\r\n    window.clearInterval(intid);\r\n  });\r\n\r\n}",
          "mapzoom": "16",
          "mapcenter": "41.50345,-70.912123"
        }
      ]
    },
    {
      "id": 123844,
      "name": "Twitter467",
      "displayname": "Twitter",
      "logo": "Massasoit/Twitter467.png",
      "logourl": "Massasoit/Twitter467.png",
      "description": "Twitter",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Twitter467",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorTwitter467(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n  var iabClose = function(data) {\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n}",
          "url": "https://twitter.com/massasoittweets"
        }
      ]
    },
    {
      "id": 6559,
      "name": "Facebook75",
      "displayname": "Facebook",
      "logo": "Massasoit/Facebook75.png",
      "logourl": "Massasoit/Facebook75.png",
      "description": "Facebook",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Facebook75",
          "pageTemplate": "<div><\/div>",
          "url": "https://www.facebook.com/Massasoit",
          "pageprocessor": "function pageprocessorFacebook75(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n  var iabClose = function(data) {\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n}"
        }
      ]
    },
    {
      "id": 3353,
      "name": "Athletics8",
      "displayname": "Athletics",
      "logo": "Massasoit/Athletics8.png",
      "logourl": "Massasoit/Athletics8.png",
      "description": "Athletics",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Athletics8",
          "pageTemplate": "<div><\/div>",
          "url": "http://massasoitccwarriors.com/landing/index",
          "pageprocessor": "function pageprocessorAthletics8(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) { if(window.device){$.blockUI();} var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=yes\");var hideBlockUi = function() {iabRef.show();$.unblockUI();};var iabClose = function(data) {window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();  };iabRef.addEventListener(\"loadstop\", loadStop);}"
        }
      ]
    },
    {
      "id": 6631,
      "name": "TheMassasoitTribune",
      "displayname": "The Massasoit Tribune",
      "logo": "Massasoit/TheMassasoitTribune.png",
      "logourl": "Massasoit/TheMassasoitTribune.png",
      "description": "The Massasoit Tribune",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "TheMassasoitTribune",
          "pageTemplate": "<div><\/div>",
          "url": "https://themassasoittribune.wordpress.com/",
          "pageprocessor": "function pageprocessorTheMassasoitTribune(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) { if(window.device){$.blockUI();} var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,hidden=yes,enableViewportScale=yes\");var hideBlockUi = function() {iabRef.show();$.unblockUI();};var iabClose = function(data) {window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();  };iabRef.addEventListener(\"loadstop\", loadStop);}"
        }
      ]
    },
    {
      "id": 3338,
      "name": "Emergency",
      "displayname": "Emergency",
      "logo": "Massasoit/Emergency.png",
      "logourl": "Massasoit/Emergency.png",
      "description": "Emergency Contact",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Emergency",
          "pageTemplate": "<style>#branding{display:none;}<\/style> <div class=\"well\" style=\"background:transparent;padding:10px;\">     <div class=\"list-group\"> <a class=\"list-group-item active panel-title\" style=\"background:#00458A;color:#fff;\">Emergency Number<\/a>  <a href=\"tel:{{contact.number}}\" class=\"list-group-item\" ng-repeat=\"contact in contacts.Contacts \">       {{contact.name}} <i class=\"fa fa-chevron-circle-right pull-right fa-2x\"><\/i>       <br/> <i class=\"fa fa-phone\"><\/i>&nbsp;&nbsp;{{contact.number}}<\/a>      <\/div> <\/div>",
          "contactdetails": "{\r\n    \"Contacts\": [\r\n        {\r\n            \"name\": \"Campus Police\",\r\n            \"number\": \"508-427-1296\"\r\n        }\r\n    ]\r\n}",
          "pageprocessor": "function pageprocessorEmergency(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {$scope.contacts = $.parseJSON(pagedef.contactdetails);   var data1 = $compile($(pagedef.pageTemplate))($scope);$(\"#appContent\").append(data1);}"
        }
      ]
    },
    {
      "id": 3350,
      "name": "Library5",
      "displayname": "Library",
      "logo": "Massasoit/Library5.png",
      "logourl": "Massasoit/Library5.png",
      "description": "Library",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Library5",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLibrary5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) { \r\n if(window.device){$.blockUI();} var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,hidden=yes,enableViewportScale=yes\");var hideBlockUi = function() {iabRef.show();$.unblockUI();};var iabClose = function(data) {window.location.href = \"index.html#home\";};iabRef.addEventListener(\"exit\", iabClose);var loadStop = function(data) {hideBlockUi();  };iabRef.addEventListener(\"loadstop\", loadStop);\r\n}",
          "url": "http://massasoit.mass.libguides.com/"
        }
      ]
    }
  ],
  "pages": 
  [
  ]
}
